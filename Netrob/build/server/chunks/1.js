require("source-map-support").install();
exports.ids = [1];
exports.modules = {

/***/ "../../../../tmp/webRob/src/test/data.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TEST_CMDS", function() { return TEST_CMDS; });
const TEST_CMDS = [
    {
        "robot": "ur5",
        "cmds": [
            {
                "CommandID": 0,
                "Name": "Using Gripper 0",
                "CRCLCommand": "SetEndEffectorParameters",
                "CRCLParam": {"ToolID": 0}
            },
            {"CommandID": 1, "Name": "Set fast speed", "CRCLCommand": "SetTransSpeed", "CRCLParam": {"Relative": 0.5}}
        ]
    },
    {
        "robot": "kuka_kr6r700sixx",
        "cmds": [
            {
                "CommandID": 2,
                "Name": "Using Gripper 0",
                "CRCLCommand": "SetEndEffectorParameters",
                "CRCLParam": {"ToolID": 0}
            },
            {"CommandID": 3, "Name": "Set fast speed", "CRCLCommand": "SetTransSpeed", "CRCLParam": {"Relative": 0.5}}
        ]
    },
    {
        "robot": "ur5",
        "cmds": [
            {
                "CommandID": 4,
                "Name": "Move To",
                "CRCLCommand": "MoveTo",
                "CRCLParam": {
                    "Straight": false,
                    "Pose": {"X": 300, "Y": 400, "Z": 300, "A": 0, "B": Math.PI / 2, "C": -Math.PI + 0.1}
                }
            },
            {
                "CommandID": 5,
                "Name": "Move To",
                "CRCLCommand": "MoveTo",
                "CRCLParam": {
                    "Straight": true,
                    "Pose": {"X": 300, "Y": 500, "Z": 300, "A": 0, "B": Math.PI / 2, "C": -Math.PI + 0.1}
                }
            },
            {"CommandID": 6, "Name": "Picking Part", "CRCLCommand": "SetEndEffectorParameters", "CRCLParam": {"Setting": 1}},
            {"CommandID": 7, "Name": "Wait 0.5s3", "CRCLCommand": "Wait", "CRCLParam": {"Time": 0.5}},
            {
                "CommandID": 8,
                "Name": "Move To",
                "CRCLCommand": "MoveTo",
                "CRCLParam": {
                    "Straight": false,
                    "Pose": {"X": 300, "Y": 300, "Z": 300, "A": 0, "B": Math.PI / 2, "C": -Math.PI + 0.1}
                }
            },
            {"CommandID": 9, "Name": "Releasing Part", "CRCLCommand": "SetEndEffectorParameters", "CRCLParam": {"Setting": 0}},

            {
                "CommandID": 10,
                "Name": "Move To",
                "CRCLCommand": "MoveTo",
                "CRCLParam": {
                    "Straight": false,
                    "Pose": {"X": 300, "Y": 400, "Z": 300, "A": 0, "B": Math.PI / 2, "C": -Math.PI + 0.1}
                }
            },
        ]
    },
]


/***/ }),

/***/ "./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Blockly/Blockly.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("./node_modules/css-loader/lib/css-base.js")(true);
// imports


// module
exports.push([module.i, "/**\n * React Starter Kit (https://www.reactstarterkit.com/)\n *\n * Copyright © 2014-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\n:root {\n  /*\n   * Typography\n   * ======================================================================== */\n\n  --font-family-base: 'Segoe UI', 'HelveticaNeue-Light', sans-serif;\n\n  /*\n   * Layout\n   * ======================================================================== */\n\n  --max-content-width: 1000px;\n\n  /*\n   * Application specific\n   * ======================================================================== */\n\n  --hedgehog-green-light: #38b449;\n  --hedgehog-green-dark: #007c3c;\n\n  /*\n   * Media queries breakpoints\n   * ======================================================================== */\n\n  --screen-xs-min: 480px;  /* Extra small screen / phone */\n  --screen-sm-min: 768px;  /* Small screen / tablet */\n  --screen-md-min: 992px;  /* Medium screen / desktop */\n  --screen-lg-min: 1200px; /* Large screen / wide desktop */\n}\n\n.Blockly-blocklyContainer-1X04O {\n  -ms-flex: 1 0 auto;\n      flex: 1 0 auto;\n  position: relative\n}\n\n.Blockly-blocklyContainer-1X04O .Blockly-blockly-ccpth {\n    position: absolute;\n  }\n", "", {"version":3,"sources":["/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/Blockly/Blockly.scss"],"names":[],"mappings":"AAAA;;;;;;;GAOG;;AAEH;EACE;;gFAE8E;;EAE9E,kEAAkE;;EAElE;;gFAE8E;;EAE9E,4BAA4B;;EAE5B;;gFAE8E;;EAE9E,gCAAgC;EAChC,+BAA+B;;EAE/B;;gFAE8E;;EAE9E,uBAAuB,EAAE,gCAAgC;EACzD,uBAAuB,EAAE,2BAA2B;EACpD,uBAAuB,EAAE,6BAA6B;EACtD,wBAAwB,CAAC,iCAAiC;CAC3D;;AAED;EACE,mBAAmB;MACf,eAAe;EACnB,kBAAkB;CACnB;;AAED;IACI,mBAAmB;GACpB","file":"Blockly.scss","sourcesContent":["/**\n * React Starter Kit (https://www.reactstarterkit.com/)\n *\n * Copyright © 2014-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\n:root {\n  /*\n   * Typography\n   * ======================================================================== */\n\n  --font-family-base: 'Segoe UI', 'HelveticaNeue-Light', sans-serif;\n\n  /*\n   * Layout\n   * ======================================================================== */\n\n  --max-content-width: 1000px;\n\n  /*\n   * Application specific\n   * ======================================================================== */\n\n  --hedgehog-green-light: #38b449;\n  --hedgehog-green-dark: #007c3c;\n\n  /*\n   * Media queries breakpoints\n   * ======================================================================== */\n\n  --screen-xs-min: 480px;  /* Extra small screen / phone */\n  --screen-sm-min: 768px;  /* Small screen / tablet */\n  --screen-md-min: 992px;  /* Medium screen / desktop */\n  --screen-lg-min: 1200px; /* Large screen / wide desktop */\n}\n\n.blocklyContainer {\n  -ms-flex: 1 0 auto;\n      flex: 1 0 auto;\n  position: relative\n}\n\n.blocklyContainer .blockly {\n    position: absolute;\n  }\n"],"sourceRoot":""}]);

// exports
exports.locals = {
	"blocklyContainer": "Blockly-blocklyContainer-1X04O",
	"blockly": "Blockly-blockly-ccpth"
};

/***/ }),

/***/ "./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Console/Console.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("./node_modules/css-loader/lib/css-base.js")(true);
// imports


// module
exports.push([module.i, ".Console-root-1D0Cx {\n  height: 100%;\n  font-family: monospace;\n  font-size: 19px;\n  min-width: 300px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-flow: column nowrap;\n      flex-flow: column nowrap;\n}\n\n.Console-outputPane-34M0t {\n  -ms-flex: 1 1 auto;\n      flex: 1 1 auto;\n  overflow-y: scroll;\n}\n\n.Console-output-19hYm {\n  margin: 0;\n  white-space: pre-wrap;\n  word-wrap: break-word\n}\n\n.Console-output-19hYm.Console-stdin-P0V8j {\n    color: green;\n  }\n\n.Console-output-19hYm.Console-stdout-LLTvW {\n    color: black;\n  }\n\n.Console-output-19hYm.Console-stderr-23mbq {\n    color: red;\n  }\n\n.Console-inputForm-2ZCt0 {\n  -ms-flex: 0 0 auto;\n      flex: 0 0 auto;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-flow: row nowrap;\n      flex-flow: row nowrap\n}\n\n.Console-inputForm-2ZCt0 input {\n    -ms-flex: 1 0 auto;\n        flex: 1 0 auto;\n    font-family: inherit;\n    font-size: inherit;\n    border: none;\n  }\n", "", {"version":3,"sources":["/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/Console/Console.scss"],"names":[],"mappings":"AAAA;EACE,aAAa;EACb,uBAAuB;EACvB,gBAAgB;EAChB,iBAAiB;EACjB,qBAAqB;EACrB,cAAc;EACd,6BAA6B;MACzB,yBAAyB;CAC9B;;AAED;EACE,mBAAmB;MACf,eAAe;EACnB,mBAAmB;CACpB;;AAED;EACE,UAAU;EACV,sBAAsB;EACtB,qBAAqB;CACtB;;AAED;IACI,aAAa;GACd;;AAEH;IACI,aAAa;GACd;;AAEH;IACI,WAAW;GACZ;;AAEH;EACE,mBAAmB;MACf,eAAe;EACnB,qBAAqB;EACrB,cAAc;EACd,0BAA0B;MACtB,qBAAqB;CAC1B;;AAED;IACI,mBAAmB;QACf,eAAe;IACnB,qBAAqB;IACrB,mBAAmB;IACnB,aAAa;GACd","file":"Console.scss","sourcesContent":[".root {\n  height: 100%;\n  font-family: monospace;\n  font-size: 19px;\n  min-width: 300px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-flow: column nowrap;\n      flex-flow: column nowrap;\n}\n\n.outputPane {\n  -ms-flex: 1 1 auto;\n      flex: 1 1 auto;\n  overflow-y: scroll;\n}\n\n.output {\n  margin: 0;\n  white-space: pre-wrap;\n  word-wrap: break-word\n}\n\n.output.stdin {\n    color: green;\n  }\n\n.output.stdout {\n    color: black;\n  }\n\n.output.stderr {\n    color: red;\n  }\n\n.inputForm {\n  -ms-flex: 0 0 auto;\n      flex: 0 0 auto;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-flow: row nowrap;\n      flex-flow: row nowrap\n}\n\n.inputForm input {\n    -ms-flex: 1 0 auto;\n        flex: 1 0 auto;\n    font-family: inherit;\n    font-size: inherit;\n    border: none;\n  }\n"],"sourceRoot":""}]);

// exports
exports.locals = {
	"root": "Console-root-1D0Cx",
	"outputPane": "Console-outputPane-34M0t",
	"output": "Console-output-19hYm",
	"stdin": "Console-stdin-P0V8j",
	"stdout": "Console-stdout-LLTvW",
	"stderr": "Console-stderr-23mbq",
	"inputForm": "Console-inputForm-2ZCt0"
};

/***/ }),

/***/ "./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Editor/Editor.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("./node_modules/css-loader/lib/css-base.js")(true);
// imports


// module
exports.push([module.i, "/**\n * React Starter Kit (https://www.reactstarterkit.com/)\n *\n * Copyright © 2014-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\n:root {\n  /*\n   * Typography\n   * ======================================================================== */\n\n  --font-family-base: 'Segoe UI', 'HelveticaNeue-Light', sans-serif;\n\n  /*\n   * Layout\n   * ======================================================================== */\n\n  --max-content-width: 1000px;\n\n  /*\n   * Application specific\n   * ======================================================================== */\n\n  --hedgehog-green-light: #38b449;\n  --hedgehog-green-dark: #007c3c;\n\n  /*\n   * Media queries breakpoints\n   * ======================================================================== */\n\n  --screen-xs-min: 480px;  /* Extra small screen / phone */\n  --screen-sm-min: 768px;  /* Small screen / tablet */\n  --screen-md-min: 992px;  /* Medium screen / desktop */\n  --screen-lg-min: 1200px; /* Large screen / wide desktop */\n}\n\n.Editor-container-3YCqn {\n  -ms-flex: 1 0 auto;\n      flex: 1 0 auto;\n}\n\n.Editor-root-_87Cp {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-flow: row nowrap;\n      flex-flow: row nowrap;\n  height: 100%;\n}\n", "", {"version":3,"sources":["/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/Editor/Editor.scss"],"names":[],"mappings":"AAAA;;;;;;;GAOG;;AAEH;EACE;;gFAE8E;;EAE9E,kEAAkE;;EAElE;;gFAE8E;;EAE9E,4BAA4B;;EAE5B;;gFAE8E;;EAE9E,gCAAgC;EAChC,+BAA+B;;EAE/B;;gFAE8E;;EAE9E,uBAAuB,EAAE,gCAAgC;EACzD,uBAAuB,EAAE,2BAA2B;EACpD,uBAAuB,EAAE,6BAA6B;EACtD,wBAAwB,CAAC,iCAAiC;CAC3D;;AAED;EACE,mBAAmB;MACf,eAAe;CACpB;;AAED;EACE,qBAAqB;EACrB,cAAc;EACd,0BAA0B;MACtB,sBAAsB;EAC1B,aAAa;CACd","file":"Editor.scss","sourcesContent":["/**\n * React Starter Kit (https://www.reactstarterkit.com/)\n *\n * Copyright © 2014-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\n:root {\n  /*\n   * Typography\n   * ======================================================================== */\n\n  --font-family-base: 'Segoe UI', 'HelveticaNeue-Light', sans-serif;\n\n  /*\n   * Layout\n   * ======================================================================== */\n\n  --max-content-width: 1000px;\n\n  /*\n   * Application specific\n   * ======================================================================== */\n\n  --hedgehog-green-light: #38b449;\n  --hedgehog-green-dark: #007c3c;\n\n  /*\n   * Media queries breakpoints\n   * ======================================================================== */\n\n  --screen-xs-min: 480px;  /* Extra small screen / phone */\n  --screen-sm-min: 768px;  /* Small screen / tablet */\n  --screen-md-min: 992px;  /* Medium screen / desktop */\n  --screen-lg-min: 1200px; /* Large screen / wide desktop */\n}\n\n.container {\n  -ms-flex: 1 0 auto;\n      flex: 1 0 auto;\n}\n\n.root {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-flow: row nowrap;\n      flex-flow: row nowrap;\n  height: 100%;\n}\n"],"sourceRoot":""}]);

// exports
exports.locals = {
	"container": "Editor-container-3YCqn",
	"root": "Editor-root-_87Cp"
};

/***/ }),

/***/ "./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/FileTree/FileTree.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("./node_modules/css-loader/lib/css-base.js")(true);
// imports


// module
exports.push([module.i, "/**\n * React Starter Kit (https://www.reactstarterkit.com/)\n *\n * Copyright © 2014-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\n:root {\n  /*\n   * Typography\n   * ======================================================================== */\n\n  --font-family-base: 'Segoe UI', 'HelveticaNeue-Light', sans-serif;\n\n  /*\n   * Layout\n   * ======================================================================== */\n\n  --max-content-width: 1000px;\n\n  /*\n   * Application specific\n   * ======================================================================== */\n\n  --hedgehog-green-light: #38b449;\n  --hedgehog-green-dark: #007c3c;\n\n  /*\n   * Media queries breakpoints\n   * ======================================================================== */\n\n  --screen-xs-min: 480px;  /* Extra small screen / phone */\n  --screen-sm-min: 768px;  /* Small screen / tablet */\n  --screen-md-min: 992px;  /* Medium screen / desktop */\n  --screen-lg-min: 1200px; /* Large screen / wide desktop */\n}\n\n.FileTree-fileIcon-1i-rQ {\n  font-size: 19.2px;\n  font-size: 1.2rem;\n  margin: 0 1.6px -4px 0;\n  margin: 0 0.1rem -0.25rem 0;\n}\n", "", {"version":3,"sources":["/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/FileTree/FileTree.scss"],"names":[],"mappings":"AAAA;;;;;;;GAOG;;AAEH;EACE;;gFAE8E;;EAE9E,kEAAkE;;EAElE;;gFAE8E;;EAE9E,4BAA4B;;EAE5B;;gFAE8E;;EAE9E,gCAAgC;EAChC,+BAA+B;;EAE/B;;gFAE8E;;EAE9E,uBAAuB,EAAE,gCAAgC;EACzD,uBAAuB,EAAE,2BAA2B;EACpD,uBAAuB,EAAE,6BAA6B;EACtD,wBAAwB,CAAC,iCAAiC;CAC3D;;AAED;EACE,kBAAkB;EAClB,kBAAkB;EAClB,uBAAuB;EACvB,4BAA4B;CAC7B","file":"FileTree.scss","sourcesContent":["/**\n * React Starter Kit (https://www.reactstarterkit.com/)\n *\n * Copyright © 2014-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\n:root {\n  /*\n   * Typography\n   * ======================================================================== */\n\n  --font-family-base: 'Segoe UI', 'HelveticaNeue-Light', sans-serif;\n\n  /*\n   * Layout\n   * ======================================================================== */\n\n  --max-content-width: 1000px;\n\n  /*\n   * Application specific\n   * ======================================================================== */\n\n  --hedgehog-green-light: #38b449;\n  --hedgehog-green-dark: #007c3c;\n\n  /*\n   * Media queries breakpoints\n   * ======================================================================== */\n\n  --screen-xs-min: 480px;  /* Extra small screen / phone */\n  --screen-sm-min: 768px;  /* Small screen / tablet */\n  --screen-md-min: 992px;  /* Medium screen / desktop */\n  --screen-lg-min: 1200px; /* Large screen / wide desktop */\n}\n\n.fileIcon {\n  font-size: 19.2px;\n  font-size: 1.2rem;\n  margin: 0 1.6px -4px 0;\n  margin: 0 0.1rem -0.25rem 0;\n}\n"],"sourceRoot":""}]);

// exports
exports.locals = {
	"fileIcon": "FileTree-fileIcon-1i-rQ"
};

/***/ }),

/***/ "./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Ide/flex_layout_ide.css":
/***/ (function(module, exports, __webpack_require__) {

var escape = __webpack_require__("./node_modules/css-loader/lib/url/escape.js");
exports = module.exports = __webpack_require__("./node_modules/css-loader/lib/css-base.js")(true);
// imports


// module
exports.push([module.i, ".flex_layout_ide-flexlayout__layout-GUu2r {\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  position: absolute;\n  overflow: hidden;\n\n  /* --flexlayout_test: {top:12}; */\n}\n\n.flex_layout_ide-flexlayout__splitter-3QkAT {\n  background-color: #ddd;\n}\n\n.flex_layout_ide-flexlayout__splitter-3QkAT:hover {\n  background-color: #ccc;\n}\n\n.flex_layout_ide-flexlayout__splitter_drag-2HMvZ {\n  border-radius: 5px;\n  background-color: #bbb;\n  z-index: 1000;\n}\n\n.flex_layout_ide-flexlayout__outline_rect-2r0D0 {\n  position: absolute;\n  cursor: move;\n  border: 2px solid red;\n  -webkit-box-shadow: inset 0 0 60px rgba(0, 0, 0, 0.2);\n          box-shadow: inset 0 0 60px rgba(0, 0, 0, 0.2);\n  border-radius: 5px;\n  z-index: 1000;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n\n.flex_layout_ide-flexlayout__outline_rect_edge-3wfVD {\n  cursor: move;\n  border: 2px solid green;\n  -webkit-box-shadow: inset 0 0 60px rgba(0, 0, 0, 0.2);\n          box-shadow: inset 0 0 60px rgba(0, 0, 0, 0.2);\n  border-radius: 5px;\n  z-index: 1000;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n\n.flex_layout_ide-flexlayout__edge_rect-2MGHP {\n  position: absolute;\n  z-index: 1000;\n\n  /* border: 2px solid gray; */\n  -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);\n          box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);\n  background-color: lightgray;\n\n  /* box-sizing:border-box; */\n}\n\n.flex_layout_ide-flexlayout__drag_rect-2zLZF {\n  position: absolute;\n  cursor: move;\n  border: 2px solid #aaa;\n  -webkit-box-shadow: inset 0 0 60px rgba(0, 0, 0, 0.3);\n          box-shadow: inset 0 0 60px rgba(0, 0, 0, 0.3);\n  border-radius: 5px;\n  z-index: 1000;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  background-color: #eee;\n  opacity: 0.9;\n  text-align: center;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n      justify-content: center;\n  -ms-flex-direction: column;\n      flex-direction: column;\n  overflow: hidden;\n  padding: 10px;\n  word-wrap: break-word;\n}\n\n.flex_layout_ide-flexlayout__tabset-3-_is {\n  overflow: hidden;\n  background-color: white;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n\n  /* border-radius: 5px; */\n\n  /* box-shadow: 2px 2px 4px #aaa; */\n}\n\n.flex_layout_ide-flexlayout__tab-gXNqT {\n  overflow: hidden;\n  position: absolute;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  background-color: white;\n}\n\n.flex_layout_ide-flexlayout__tab_button-oR2fL {\n  cursor: pointer;\n  padding: 2px 8px 3px 8px;\n  margin: 2px;\n  -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.15);\n          box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.15);\n  border-top-left-radius: 3px;\n  border-top-right-radius: 3px;\n  float: left;\n  vertical-align: top;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n\n.flex_layout_ide-flexlayout__tab_button--selected-3l0Hl {\n  color: black;\n  background-color: #ddd;\n}\n\n.flex_layout_ide-flexlayout__tab_button--unselected-iWMwY {\n  color: gray;\n}\n\n.flex_layout_ide-flexlayout__tab_button_leading-2Z-b8 {\n  float: left;\n  display: inline-block;\n}\n\n.flex_layout_ide-flexlayout__tab_button_content-3VHoG {\n  float: left;\n  display: inline-block;\n}\n\n.flex_layout_ide-flexlayout__tab_button_textbox-x6V4J {\n  float: left;\n  border: none;\n  color: green;\n  background-color: #ddd;\n}\n\n.flex_layout_ide-flexlayout__tab_button_textbox-x6V4J:focus {\n  outline: none;\n}\n\n.flex_layout_ide-flexlayout__tab_button_trailing-3E37v {\n  float: left;\n  display: inline-block;\n  margin-left: 5px;\n  margin-top: 3px;\n  width: 8px;\n  height: 8px;\n}\n\n.flex_layout_ide-flexlayout__tab_button--selected-3l0Hl .flex_layout_ide-flexlayout__tab_button_trailing-3E37v,\n.flex_layout_ide-flexlayout__tab_button-oR2fL:hover .flex_layout_ide-flexlayout__tab_button_trailing-3E37v {\n  background: transparent url(" + escape(__webpack_require__("./node_modules/flexlayout-react/images/close.png")) + ") no-repeat center;\n}\n\n.flex_layout_ide-flexlayout__tab_button_overflow-220pF {\n  float: left;\n  width: 20px;\n  height: 15px;\n  margin-top: 2px;\n  padding-left: 12px;\n  border: none;\n  font-size: 10px;\n  font-family: Arial, sans-serif;\n  background: transparent url(" + escape(__webpack_require__("./node_modules/flexlayout-react/images/more.png")) + ") no-repeat left;\n}\n\n.flex_layout_ide-flexlayout__tabset_header-2Tfbs {\n  position: absolute;\n  left: 0;\n  right: 0;\n  background-color: #e8e8e8;\n  padding: 3px 3px 3px 5px;\n  -webkit-box-shadow: inset 0 0 3px 0 rgba(136, 136, 136, 0.54);\n          box-shadow: inset 0 0 3px 0 rgba(136, 136, 136, 0.54);\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n\n.flex_layout_ide-flexlayout__tab_header_outer-3K2A2 {\n  background-color: white;\n  position: absolute;\n  left: 0;\n  right: 0;\n  overflow: hidden;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#eee));\n  background-image: -o-linear-gradient(#fff, #eee);\n  background-image: linear-gradient(#fff, #eee);\n}\n\n.flex_layout_ide-flexlayout__tab_header_inner-3FpAm {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  width: 10000px;\n}\n\n.flex_layout_ide-flexlayout__tabset-selected-R6Oi4 {\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#ccc));\n  background-image: -o-linear-gradient(#fff, #ccc);\n  background-image: linear-gradient(#fff, #ccc);\n}\n\n.flex_layout_ide-flexlayout__tabset-maximized-1OqY_ {\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#aaa), to(#eee));\n  background-image: -o-linear-gradient(#aaa, #eee);\n  background-image: linear-gradient(#aaa, #eee);\n}\n\n.flex_layout_ide-flexlayout__tab_toolbar-22s-F {\n  position: absolute;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: row-reverse;\n      flex-direction: row-reverse;\n  -ms-flex-align: center;\n      align-items: center;\n  top: 0;\n  bottom: 0;\n  right: 0;\n}\n\n.flex_layout_ide-flexlayout__tab_toolbar_button-min-1TkQA {\n  width: 20px;\n  height: 20px;\n  border: none;\n  outline-width: 0;\n  background: transparent url(" + escape(__webpack_require__("./node_modules/flexlayout-react/images/maximize.png")) + ") no-repeat center;\n}\n\n.flex_layout_ide-flexlayout__tab_toolbar_button-max-3IPIO {\n  width: 20px;\n  height: 20px;\n  border: none;\n  outline-width: 0;\n  background: transparent url(" + escape(__webpack_require__("./node_modules/flexlayout-react/images/restore.png")) + ") no-repeat center;\n}\n\n/* stylelint-disable block-no-empty */\n\n.flex_layout_ide-flexlayout__popup_menu-2mS1Z {\n}\n\n.flex_layout_ide-flexlayout__popup_menu_item-1bX6a {\n  padding: 2px 10px 2px 10px;\n}\n\n.flex_layout_ide-flexlayout__popup_menu_item-1bX6a:hover {\n  background-color: lightgray;\n}\n\n.flex_layout_ide-flexlayout__popup_menu_container-bY7Vr {\n  -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.15);\n          box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.15);\n  border: 1px solid lightgrey;\n  background: white;\n  border-radius: 3px;\n  position: absolute;\n  z-index: 1000;\n}\n\n.flex_layout_ide-flexlayout__border_top-3vYTs {\n  background-color: #eee;\n  border-bottom: 1px solid #ddd;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  overflow: hidden;\n}\n\n.flex_layout_ide-flexlayout__border_bottom-3OZOx {\n  background-color: #eee;\n  border-top: 1px solid #ddd;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  overflow: hidden;\n}\n\n.flex_layout_ide-flexlayout__border_left-QuSsf {\n  background-color: #eee;\n  border-right: 1px solid #ddd;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  overflow: hidden;\n}\n\n.flex_layout_ide-flexlayout__border_right-1sFZ1 {\n  background-color: #eee;\n  border-left: 1px solid #ddd;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  overflow: hidden;\n}\n\n.flex_layout_ide-flexlayout__border_inner_bottom-2TBkO {\n  display: -ms-flexbox;\n  display: flex;\n}\n\n.flex_layout_ide-flexlayout__border_inner_left-xw2Kj {\n  position: absolute;\n  white-space: nowrap;\n  right: 23px;\n  -webkit-transform-origin: top right;\n      -ms-transform-origin: top right;\n          transform-origin: top right;\n  -webkit-transform: rotate(-90deg);\n      -ms-transform: rotate(-90deg);\n          transform: rotate(-90deg);\n}\n\n.flex_layout_ide-flexlayout__border_inner_right-xQwg6 {\n  position: absolute;\n  white-space: nowrap;\n  left: 23px;\n  -webkit-transform-origin: top left;\n      -ms-transform-origin: top left;\n          transform-origin: top left;\n  -webkit-transform: rotate(90deg);\n      -ms-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.flex_layout_ide-flexlayout__border_button-J3Y6n {\n  display: inline-block;\n  cursor: pointer;\n  padding: 2px 8px 3px 8px;\n  margin: 2px;\n  -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.15);\n          box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.15);\n  border-radius: 3px;\n  vertical-align: top;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  white-space: nowrap;\n}\n\n.flex_layout_ide-flexlayout__border_button--selected-2n-Zr {\n  color: black;\n  background-color: #ddd;\n}\n\n.flex_layout_ide-flexlayout__border_button--unselected-2yLQU {\n  color: gray;\n}\n\n.flex_layout_ide-flexlayout__border_button_leading-2MQ3c {\n  float: left;\n  display: inline;\n}\n\n.flex_layout_ide-flexlayout__border_button_content-1LKLl {\n  display: inline-block;\n}\n\n.flex_layout_ide-flexlayout__border_button_textbox-1xCPj {\n  float: left;\n  border: none;\n  color: green;\n  background-color: #ddd;\n}\n\n.flex_layout_ide-flexlayout__border_button_textbox-1xCPj:focus {\n  outline: none;\n}\n\n.flex_layout_ide-flexlayout__border_button_trailing-BjEoF {\n  display: inline-block;\n  margin-left: 5px;\n  margin-top: 3px;\n  width: 8px;\n  height: 8px;\n}\n\n.flex_layout_ide-flexlayout__border_button--selected-2n-Zr .flex_layout_ide-flexlayout__border_button_trailing-BjEoF,\n.flex_layout_ide-flexlayout__border_button-J3Y6n:hover .flex_layout_ide-flexlayout__border_button_trailing-BjEoF {\n  background: transparent url(" + escape(__webpack_require__("./node_modules/flexlayout-react/images/close.png")) + ") no-repeat center;\n}\n\n.flex_layout_ide-flexlayout__border_toolbar_left-3Fyup {\n  position: absolute;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column-reverse;\n      flex-direction: column-reverse;\n  -ms-flex-align: center;\n      align-items: center;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n.flex_layout_ide-flexlayout__border_toolbar_right-2cXu9 {\n  position: absolute;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column-reverse;\n      flex-direction: column-reverse;\n  -ms-flex-align: center;\n      align-items: center;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n.flex_layout_ide-flexlayout__border_toolbar_top-MftFl {\n  position: absolute;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: row-reverse;\n      flex-direction: row-reverse;\n  -ms-flex-align: center;\n      align-items: center;\n  top: 0;\n  bottom: 0;\n  right: 0;\n}\n\n.flex_layout_ide-flexlayout__border_toolbar_bottom-2RZbb {\n  position: absolute;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: row-reverse;\n      flex-direction: row-reverse;\n  -ms-flex-align: center;\n      align-items: center;\n  top: 0;\n  bottom: 0;\n  right: 0;\n}\n", "", {"version":3,"sources":["/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/Ide/flex_layout_ide.css"],"names":[],"mappings":"AAAA;EACE,QAAQ;EACR,OAAO;EACP,SAAS;EACT,UAAU;EACV,mBAAmB;EACnB,iBAAiB;;EAEjB,kCAAkC;CACnC;;AAED;EACE,uBAAuB;CACxB;;AAED;EACE,uBAAuB;CACxB;;AAED;EACE,mBAAmB;EACnB,uBAAuB;EACvB,cAAc;CACf;;AAED;EACE,mBAAmB;EACnB,aAAa;EACb,sBAAsB;EACtB,sDAAsD;UAC9C,8CAA8C;EACtD,mBAAmB;EACnB,cAAc;EACd,+BAA+B;UACvB,uBAAuB;CAChC;;AAED;EACE,aAAa;EACb,wBAAwB;EACxB,sDAAsD;UAC9C,8CAA8C;EACtD,mBAAmB;EACnB,cAAc;EACd,+BAA+B;UACvB,uBAAuB;CAChC;;AAED;EACE,mBAAmB;EACnB,cAAc;;EAEd,6BAA6B;EAC7B,qDAAqD;UAC7C,6CAA6C;EACrD,4BAA4B;;EAE5B,4BAA4B;CAC7B;;AAED;EACE,mBAAmB;EACnB,aAAa;EACb,uBAAuB;EACvB,sDAAsD;UAC9C,8CAA8C;EACtD,mBAAmB;EACnB,cAAc;EACd,+BAA+B;UACvB,uBAAuB;EAC/B,uBAAuB;EACvB,aAAa;EACb,mBAAmB;EACnB,qBAAqB;EACrB,cAAc;EACd,sBAAsB;MAClB,wBAAwB;EAC5B,2BAA2B;MACvB,uBAAuB;EAC3B,iBAAiB;EACjB,cAAc;EACd,sBAAsB;CACvB;;AAED;EACE,iBAAiB;EACjB,wBAAwB;EACxB,+BAA+B;UACvB,uBAAuB;;EAE/B,yBAAyB;;EAEzB,mCAAmC;CACpC;;AAED;EACE,iBAAiB;EACjB,mBAAmB;EACnB,+BAA+B;UACvB,uBAAuB;EAC/B,wBAAwB;CACzB;;AAED;EACE,gBAAgB;EAChB,yBAAyB;EACzB,YAAY;EACZ,sDAAsD;UAC9C,8CAA8C;EACtD,4BAA4B;EAC5B,6BAA6B;EAC7B,YAAY;EACZ,oBAAoB;EACpB,+BAA+B;UACvB,uBAAuB;CAChC;;AAED;EACE,aAAa;EACb,uBAAuB;CACxB;;AAED;EACE,YAAY;CACb;;AAED;EACE,YAAY;EACZ,sBAAsB;CACvB;;AAED;EACE,YAAY;EACZ,sBAAsB;CACvB;;AAED;EACE,YAAY;EACZ,aAAa;EACb,aAAa;EACb,uBAAuB;CACxB;;AAED;EACE,cAAc;CACf;;AAED;EACE,YAAY;EACZ,sBAAsB;EACtB,iBAAiB;EACjB,gBAAgB;EAChB,WAAW;EACX,YAAY;CACb;;AAED;;EAEE,uEAAkF;CACnF;;AAED;EACE,YAAY;EACZ,YAAY;EACZ,aAAa;EACb,gBAAgB;EAChB,mBAAmB;EACnB,aAAa;EACb,gBAAgB;EAChB,+BAA+B;EAC/B,qEAA+E;CAChF;;AAED;EACE,mBAAmB;EACnB,QAAQ;EACR,SAAS;EACT,0BAA0B;EAC1B,yBAAyB;EACzB,8DAA8D;UACtD,sDAAsD;EAC9D,+BAA+B;UACvB,uBAAuB;CAChC;;AAED;EACE,wBAAwB;EACxB,mBAAmB;EACnB,QAAQ;EACR,SAAS;EACT,iBAAiB;EACjB,wFAAwF;EACxF,iDAAiD;EACjD,8CAA8C;CAC/C;;AAED;EACE,mBAAmB;EACnB,QAAQ;EACR,OAAO;EACP,UAAU;EACV,eAAe;CAChB;;AAED;EACE,wFAAwF;EACxF,iDAAiD;EACjD,8CAA8C;CAC/C;;AAED;EACE,wFAAwF;EACxF,iDAAiD;EACjD,8CAA8C;CAC/C;;AAED;EACE,mBAAmB;EACnB,qBAAqB;EACrB,cAAc;EACd,gCAAgC;MAC5B,4BAA4B;EAChC,uBAAuB;MACnB,oBAAoB;EACxB,OAAO;EACP,UAAU;EACV,SAAS;CACV;;AAED;EACE,YAAY;EACZ,aAAa;EACb,aAAa;EACb,iBAAiB;EACjB,uEAAqF;CACtF;;AAED;EACE,YAAY;EACZ,aAAa;EACb,aAAa;EACb,iBAAiB;EACjB,uEAAoF;CACrF;;AAED,sCAAsC;;AAEtC;CACC;;AAED;EACE,2BAA2B;CAC5B;;AAED;EACE,4BAA4B;CAC7B;;AAED;EACE,sDAAsD;UAC9C,8CAA8C;EACtD,4BAA4B;EAC5B,kBAAkB;EAClB,mBAAmB;EACnB,mBAAmB;EACnB,cAAc;CACf;;AAED;EACE,uBAAuB;EACvB,8BAA8B;EAC9B,+BAA+B;UACvB,uBAAuB;EAC/B,iBAAiB;CAClB;;AAED;EACE,uBAAuB;EACvB,2BAA2B;EAC3B,+BAA+B;UACvB,uBAAuB;EAC/B,iBAAiB;CAClB;;AAED;EACE,uBAAuB;EACvB,6BAA6B;EAC7B,+BAA+B;UACvB,uBAAuB;EAC/B,iBAAiB;CAClB;;AAED;EACE,uBAAuB;EACvB,4BAA4B;EAC5B,+BAA+B;UACvB,uBAAuB;EAC/B,iBAAiB;CAClB;;AAED;EACE,qBAAqB;EACrB,cAAc;CACf;;AAED;EACE,mBAAmB;EACnB,oBAAoB;EACpB,YAAY;EACZ,oCAAoC;MAChC,gCAAgC;UAC5B,4BAA4B;EACpC,kCAAkC;MAC9B,8BAA8B;UAC1B,0BAA0B;CACnC;;AAED;EACE,mBAAmB;EACnB,oBAAoB;EACpB,WAAW;EACX,mCAAmC;MAC/B,+BAA+B;UAC3B,2BAA2B;EACnC,iCAAiC;MAC7B,6BAA6B;UACzB,yBAAyB;CAClC;;AAED;EACE,sBAAsB;EACtB,gBAAgB;EAChB,yBAAyB;EACzB,YAAY;EACZ,sDAAsD;UAC9C,8CAA8C;EACtD,mBAAmB;EACnB,oBAAoB;EACpB,+BAA+B;UACvB,uBAAuB;EAC/B,oBAAoB;CACrB;;AAED;EACE,aAAa;EACb,uBAAuB;CACxB;;AAED;EACE,YAAY;CACb;;AAED;EACE,YAAY;EACZ,gBAAgB;CACjB;;AAED;EACE,sBAAsB;CACvB;;AAED;EACE,YAAY;EACZ,aAAa;EACb,aAAa;EACb,uBAAuB;CACxB;;AAED;EACE,cAAc;CACf;;AAED;EACE,sBAAsB;EACtB,iBAAiB;EACjB,gBAAgB;EAChB,WAAW;EACX,YAAY;CACb;;AAED;;EAEE,uEAAkF;CACnF;;AAED;EACE,mBAAmB;EACnB,qBAAqB;EACrB,cAAc;EACd,mCAAmC;MAC/B,+BAA+B;EACnC,uBAAuB;MACnB,oBAAoB;EACxB,UAAU;EACV,QAAQ;EACR,SAAS;CACV;;AAED;EACE,mBAAmB;EACnB,qBAAqB;EACrB,cAAc;EACd,mCAAmC;MAC/B,+BAA+B;EACnC,uBAAuB;MACnB,oBAAoB;EACxB,UAAU;EACV,QAAQ;EACR,SAAS;CACV;;AAED;EACE,mBAAmB;EACnB,qBAAqB;EACrB,cAAc;EACd,gCAAgC;MAC5B,4BAA4B;EAChC,uBAAuB;MACnB,oBAAoB;EACxB,OAAO;EACP,UAAU;EACV,SAAS;CACV;;AAED;EACE,mBAAmB;EACnB,qBAAqB;EACrB,cAAc;EACd,gCAAgC;MAC5B,4BAA4B;EAChC,uBAAuB;MACnB,oBAAoB;EACxB,OAAO;EACP,UAAU;EACV,SAAS;CACV","file":"flex_layout_ide.css","sourcesContent":[".flexlayout__layout {\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  position: absolute;\n  overflow: hidden;\n\n  /* --flexlayout_test: {top:12}; */\n}\n\n.flexlayout__splitter {\n  background-color: #ddd;\n}\n\n.flexlayout__splitter:hover {\n  background-color: #ccc;\n}\n\n.flexlayout__splitter_drag {\n  border-radius: 5px;\n  background-color: #bbb;\n  z-index: 1000;\n}\n\n.flexlayout__outline_rect {\n  position: absolute;\n  cursor: move;\n  border: 2px solid red;\n  -webkit-box-shadow: inset 0 0 60px rgba(0, 0, 0, 0.2);\n          box-shadow: inset 0 0 60px rgba(0, 0, 0, 0.2);\n  border-radius: 5px;\n  z-index: 1000;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n\n.flexlayout__outline_rect_edge {\n  cursor: move;\n  border: 2px solid green;\n  -webkit-box-shadow: inset 0 0 60px rgba(0, 0, 0, 0.2);\n          box-shadow: inset 0 0 60px rgba(0, 0, 0, 0.2);\n  border-radius: 5px;\n  z-index: 1000;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n\n.flexlayout__edge_rect {\n  position: absolute;\n  z-index: 1000;\n\n  /* border: 2px solid gray; */\n  -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);\n          box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);\n  background-color: lightgray;\n\n  /* box-sizing:border-box; */\n}\n\n.flexlayout__drag_rect {\n  position: absolute;\n  cursor: move;\n  border: 2px solid #aaa;\n  -webkit-box-shadow: inset 0 0 60px rgba(0, 0, 0, 0.3);\n          box-shadow: inset 0 0 60px rgba(0, 0, 0, 0.3);\n  border-radius: 5px;\n  z-index: 1000;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  background-color: #eee;\n  opacity: 0.9;\n  text-align: center;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n      justify-content: center;\n  -ms-flex-direction: column;\n      flex-direction: column;\n  overflow: hidden;\n  padding: 10px;\n  word-wrap: break-word;\n}\n\n.flexlayout__tabset {\n  overflow: hidden;\n  background-color: white;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n\n  /* border-radius: 5px; */\n\n  /* box-shadow: 2px 2px 4px #aaa; */\n}\n\n.flexlayout__tab {\n  overflow: hidden;\n  position: absolute;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  background-color: white;\n}\n\n.flexlayout__tab_button {\n  cursor: pointer;\n  padding: 2px 8px 3px 8px;\n  margin: 2px;\n  -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.15);\n          box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.15);\n  border-top-left-radius: 3px;\n  border-top-right-radius: 3px;\n  float: left;\n  vertical-align: top;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n\n.flexlayout__tab_button--selected {\n  color: black;\n  background-color: #ddd;\n}\n\n.flexlayout__tab_button--unselected {\n  color: gray;\n}\n\n.flexlayout__tab_button_leading {\n  float: left;\n  display: inline-block;\n}\n\n.flexlayout__tab_button_content {\n  float: left;\n  display: inline-block;\n}\n\n.flexlayout__tab_button_textbox {\n  float: left;\n  border: none;\n  color: green;\n  background-color: #ddd;\n}\n\n.flexlayout__tab_button_textbox:focus {\n  outline: none;\n}\n\n.flexlayout__tab_button_trailing {\n  float: left;\n  display: inline-block;\n  margin-left: 5px;\n  margin-top: 3px;\n  width: 8px;\n  height: 8px;\n}\n\n.flexlayout__tab_button--selected .flexlayout__tab_button_trailing,\n.flexlayout__tab_button:hover .flexlayout__tab_button_trailing {\n  background: transparent url('flexlayout-react/images/close.png') no-repeat center;\n}\n\n.flexlayout__tab_button_overflow {\n  float: left;\n  width: 20px;\n  height: 15px;\n  margin-top: 2px;\n  padding-left: 12px;\n  border: none;\n  font-size: 10px;\n  font-family: Arial, sans-serif;\n  background: transparent url('flexlayout-react/images/more.png') no-repeat left;\n}\n\n.flexlayout__tabset_header {\n  position: absolute;\n  left: 0;\n  right: 0;\n  background-color: #e8e8e8;\n  padding: 3px 3px 3px 5px;\n  -webkit-box-shadow: inset 0 0 3px 0 rgba(136, 136, 136, 0.54);\n          box-shadow: inset 0 0 3px 0 rgba(136, 136, 136, 0.54);\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n\n.flexlayout__tab_header_outer {\n  background-color: white;\n  position: absolute;\n  left: 0;\n  right: 0;\n  overflow: hidden;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#eee));\n  background-image: -o-linear-gradient(#fff, #eee);\n  background-image: linear-gradient(#fff, #eee);\n}\n\n.flexlayout__tab_header_inner {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  width: 10000px;\n}\n\n.flexlayout__tabset-selected {\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#ccc));\n  background-image: -o-linear-gradient(#fff, #ccc);\n  background-image: linear-gradient(#fff, #ccc);\n}\n\n.flexlayout__tabset-maximized {\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#aaa), to(#eee));\n  background-image: -o-linear-gradient(#aaa, #eee);\n  background-image: linear-gradient(#aaa, #eee);\n}\n\n.flexlayout__tab_toolbar {\n  position: absolute;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: row-reverse;\n      flex-direction: row-reverse;\n  -ms-flex-align: center;\n      align-items: center;\n  top: 0;\n  bottom: 0;\n  right: 0;\n}\n\n.flexlayout__tab_toolbar_button-min {\n  width: 20px;\n  height: 20px;\n  border: none;\n  outline-width: 0;\n  background: transparent url('flexlayout-react/images/maximize.png') no-repeat center;\n}\n\n.flexlayout__tab_toolbar_button-max {\n  width: 20px;\n  height: 20px;\n  border: none;\n  outline-width: 0;\n  background: transparent url('flexlayout-react/images/restore.png') no-repeat center;\n}\n\n/* stylelint-disable block-no-empty */\n\n.flexlayout__popup_menu {\n}\n\n.flexlayout__popup_menu_item {\n  padding: 2px 10px 2px 10px;\n}\n\n.flexlayout__popup_menu_item:hover {\n  background-color: lightgray;\n}\n\n.flexlayout__popup_menu_container {\n  -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.15);\n          box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.15);\n  border: 1px solid lightgrey;\n  background: white;\n  border-radius: 3px;\n  position: absolute;\n  z-index: 1000;\n}\n\n.flexlayout__border_top {\n  background-color: #eee;\n  border-bottom: 1px solid #ddd;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  overflow: hidden;\n}\n\n.flexlayout__border_bottom {\n  background-color: #eee;\n  border-top: 1px solid #ddd;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  overflow: hidden;\n}\n\n.flexlayout__border_left {\n  background-color: #eee;\n  border-right: 1px solid #ddd;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  overflow: hidden;\n}\n\n.flexlayout__border_right {\n  background-color: #eee;\n  border-left: 1px solid #ddd;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  overflow: hidden;\n}\n\n.flexlayout__border_inner_bottom {\n  display: -ms-flexbox;\n  display: flex;\n}\n\n.flexlayout__border_inner_left {\n  position: absolute;\n  white-space: nowrap;\n  right: 23px;\n  -webkit-transform-origin: top right;\n      -ms-transform-origin: top right;\n          transform-origin: top right;\n  -webkit-transform: rotate(-90deg);\n      -ms-transform: rotate(-90deg);\n          transform: rotate(-90deg);\n}\n\n.flexlayout__border_inner_right {\n  position: absolute;\n  white-space: nowrap;\n  left: 23px;\n  -webkit-transform-origin: top left;\n      -ms-transform-origin: top left;\n          transform-origin: top left;\n  -webkit-transform: rotate(90deg);\n      -ms-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.flexlayout__border_button {\n  display: inline-block;\n  cursor: pointer;\n  padding: 2px 8px 3px 8px;\n  margin: 2px;\n  -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.15);\n          box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.15);\n  border-radius: 3px;\n  vertical-align: top;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  white-space: nowrap;\n}\n\n.flexlayout__border_button--selected {\n  color: black;\n  background-color: #ddd;\n}\n\n.flexlayout__border_button--unselected {\n  color: gray;\n}\n\n.flexlayout__border_button_leading {\n  float: left;\n  display: inline;\n}\n\n.flexlayout__border_button_content {\n  display: inline-block;\n}\n\n.flexlayout__border_button_textbox {\n  float: left;\n  border: none;\n  color: green;\n  background-color: #ddd;\n}\n\n.flexlayout__border_button_textbox:focus {\n  outline: none;\n}\n\n.flexlayout__border_button_trailing {\n  display: inline-block;\n  margin-left: 5px;\n  margin-top: 3px;\n  width: 8px;\n  height: 8px;\n}\n\n.flexlayout__border_button--selected .flexlayout__border_button_trailing,\n.flexlayout__border_button:hover .flexlayout__border_button_trailing {\n  background: transparent url('flexlayout-react/images/close.png') no-repeat center;\n}\n\n.flexlayout__border_toolbar_left {\n  position: absolute;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column-reverse;\n      flex-direction: column-reverse;\n  -ms-flex-align: center;\n      align-items: center;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n.flexlayout__border_toolbar_right {\n  position: absolute;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column-reverse;\n      flex-direction: column-reverse;\n  -ms-flex-align: center;\n      align-items: center;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n.flexlayout__border_toolbar_top {\n  position: absolute;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: row-reverse;\n      flex-direction: row-reverse;\n  -ms-flex-align: center;\n      align-items: center;\n  top: 0;\n  bottom: 0;\n  right: 0;\n}\n\n.flexlayout__border_toolbar_bottom {\n  position: absolute;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: row-reverse;\n      flex-direction: row-reverse;\n  -ms-flex-align: center;\n      align-items: center;\n  top: 0;\n  bottom: 0;\n  right: 0;\n}\n"],"sourceRoot":""}]);

// exports
exports.locals = {
	"flexlayout__layout": "flex_layout_ide-flexlayout__layout-GUu2r",
	"flexlayout__splitter": "flex_layout_ide-flexlayout__splitter-3QkAT",
	"flexlayout__splitter_drag": "flex_layout_ide-flexlayout__splitter_drag-2HMvZ",
	"flexlayout__outline_rect": "flex_layout_ide-flexlayout__outline_rect-2r0D0",
	"flexlayout__outline_rect_edge": "flex_layout_ide-flexlayout__outline_rect_edge-3wfVD",
	"flexlayout__edge_rect": "flex_layout_ide-flexlayout__edge_rect-2MGHP",
	"flexlayout__drag_rect": "flex_layout_ide-flexlayout__drag_rect-2zLZF",
	"flexlayout__tabset": "flex_layout_ide-flexlayout__tabset-3-_is",
	"flexlayout__tab": "flex_layout_ide-flexlayout__tab-gXNqT",
	"flexlayout__tab_button": "flex_layout_ide-flexlayout__tab_button-oR2fL",
	"flexlayout__tab_button--selected": "flex_layout_ide-flexlayout__tab_button--selected-3l0Hl",
	"flexlayout__tab_button--unselected": "flex_layout_ide-flexlayout__tab_button--unselected-iWMwY",
	"flexlayout__tab_button_leading": "flex_layout_ide-flexlayout__tab_button_leading-2Z-b8",
	"flexlayout__tab_button_content": "flex_layout_ide-flexlayout__tab_button_content-3VHoG",
	"flexlayout__tab_button_textbox": "flex_layout_ide-flexlayout__tab_button_textbox-x6V4J",
	"flexlayout__tab_button_trailing": "flex_layout_ide-flexlayout__tab_button_trailing-3E37v",
	"flexlayout__tab_button_overflow": "flex_layout_ide-flexlayout__tab_button_overflow-220pF",
	"flexlayout__tabset_header": "flex_layout_ide-flexlayout__tabset_header-2Tfbs",
	"flexlayout__tab_header_outer": "flex_layout_ide-flexlayout__tab_header_outer-3K2A2",
	"flexlayout__tab_header_inner": "flex_layout_ide-flexlayout__tab_header_inner-3FpAm",
	"flexlayout__tabset-selected": "flex_layout_ide-flexlayout__tabset-selected-R6Oi4",
	"flexlayout__tabset-maximized": "flex_layout_ide-flexlayout__tabset-maximized-1OqY_",
	"flexlayout__tab_toolbar": "flex_layout_ide-flexlayout__tab_toolbar-22s-F",
	"flexlayout__tab_toolbar_button-min": "flex_layout_ide-flexlayout__tab_toolbar_button-min-1TkQA",
	"flexlayout__tab_toolbar_button-max": "flex_layout_ide-flexlayout__tab_toolbar_button-max-3IPIO",
	"flexlayout__popup_menu": "flex_layout_ide-flexlayout__popup_menu-2mS1Z",
	"flexlayout__popup_menu_item": "flex_layout_ide-flexlayout__popup_menu_item-1bX6a",
	"flexlayout__popup_menu_container": "flex_layout_ide-flexlayout__popup_menu_container-bY7Vr",
	"flexlayout__border_top": "flex_layout_ide-flexlayout__border_top-3vYTs",
	"flexlayout__border_bottom": "flex_layout_ide-flexlayout__border_bottom-3OZOx",
	"flexlayout__border_left": "flex_layout_ide-flexlayout__border_left-QuSsf",
	"flexlayout__border_right": "flex_layout_ide-flexlayout__border_right-1sFZ1",
	"flexlayout__border_inner_bottom": "flex_layout_ide-flexlayout__border_inner_bottom-2TBkO",
	"flexlayout__border_inner_left": "flex_layout_ide-flexlayout__border_inner_left-xw2Kj",
	"flexlayout__border_inner_right": "flex_layout_ide-flexlayout__border_inner_right-xQwg6",
	"flexlayout__border_button": "flex_layout_ide-flexlayout__border_button-J3Y6n",
	"flexlayout__border_button--selected": "flex_layout_ide-flexlayout__border_button--selected-2n-Zr",
	"flexlayout__border_button--unselected": "flex_layout_ide-flexlayout__border_button--unselected-2yLQU",
	"flexlayout__border_button_leading": "flex_layout_ide-flexlayout__border_button_leading-2MQ3c",
	"flexlayout__border_button_content": "flex_layout_ide-flexlayout__border_button_content-1LKLl",
	"flexlayout__border_button_textbox": "flex_layout_ide-flexlayout__border_button_textbox-1xCPj",
	"flexlayout__border_button_trailing": "flex_layout_ide-flexlayout__border_button_trailing-BjEoF",
	"flexlayout__border_toolbar_left": "flex_layout_ide-flexlayout__border_toolbar_left-3Fyup",
	"flexlayout__border_toolbar_right": "flex_layout_ide-flexlayout__border_toolbar_right-2cXu9",
	"flexlayout__border_toolbar_top": "flex_layout_ide-flexlayout__border_toolbar_top-MftFl",
	"flexlayout__border_toolbar_bottom": "flex_layout_ide-flexlayout__border_toolbar_bottom-2RZbb"
};

/***/ }),

/***/ "./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Markdown/Markdown.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("./node_modules/css-loader/lib/css-base.js")(true);
// imports


// module
exports.push([module.i, "/**\n * React Starter Kit (https://www.reactstarterkit.com/)\n *\n * Copyright © 2014-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\n:root {\n  /*\n   * Typography\n   * ======================================================================== */\n\n  --font-family-base: 'Segoe UI', 'HelveticaNeue-Light', sans-serif;\n\n  /*\n   * Layout\n   * ======================================================================== */\n\n  --max-content-width: 1000px;\n\n  /*\n   * Application specific\n   * ======================================================================== */\n\n  --hedgehog-green-light: #38b449;\n  --hedgehog-green-dark: #007c3c;\n\n  /*\n   * Media queries breakpoints\n   * ======================================================================== */\n\n  --screen-xs-min: 480px;  /* Extra small screen / phone */\n  --screen-sm-min: 768px;  /* Small screen / tablet */\n  --screen-md-min: 992px;  /* Medium screen / desktop */\n  --screen-lg-min: 1200px; /* Large screen / wide desktop */\n}\n\n.Markdown-container-3q50J {\n  -ms-flex: 1 0 auto;\n      flex: 1 0 auto;\n  width: 100%;\n}\n\n.Markdown-root-3yhCb {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-flow: row nowrap;\n      flex-flow: row nowrap;\n  width: 100%;\n  height: 100%;\n}\n\n.Markdown-previewContainer-37xxD {\n  width: 100%;\n  height: 100%;\n  overflow: auto\n}\n\n.Markdown-previewContainer-37xxD .Markdown-previewViewport-YC1AD {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-flow: column nowrap;\n        flex-flow: column nowrap;\n\n    padding: 0 20px 20px;\n    min-height: 100%;\n    width: -webkit-fit-content;\n    width: -moz-fit-content;\n    width: fit-content\n  }\n\n.Markdown-previewContainer-37xxD .Markdown-previewViewport-YC1AD .Markdown-preview-bOuMn {\n      -ms-flex: 1 1 auto;\n          flex: 1 1 auto;\n    }\n\n.Markdown-previewContainer-37xxD .Markdown-previewViewport-YC1AD .Markdown-previewToolbar-14jPC {\n      margin-left: auto;\n      -ms-flex: 0 0 auto;\n          flex: 0 0 auto;\n    }\n", "", {"version":3,"sources":["/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/Markdown/Markdown.scss"],"names":[],"mappings":"AAAA;;;;;;;GAOG;;AAEH;EACE;;gFAE8E;;EAE9E,kEAAkE;;EAElE;;gFAE8E;;EAE9E,4BAA4B;;EAE5B;;gFAE8E;;EAE9E,gCAAgC;EAChC,+BAA+B;;EAE/B;;gFAE8E;;EAE9E,uBAAuB,EAAE,gCAAgC;EACzD,uBAAuB,EAAE,2BAA2B;EACpD,uBAAuB,EAAE,6BAA6B;EACtD,wBAAwB,CAAC,iCAAiC;CAC3D;;AAED;EACE,mBAAmB;MACf,eAAe;EACnB,YAAY;CACb;;AAED;EACE,qBAAqB;EACrB,cAAc;EACd,0BAA0B;MACtB,sBAAsB;EAC1B,YAAY;EACZ,aAAa;CACd;;AAED;EACE,YAAY;EACZ,aAAa;EACb,cAAc;CACf;;AAED;IACI,qBAAqB;IACrB,cAAc;IACd,6BAA6B;QACzB,yBAAyB;;IAE7B,qBAAqB;IACrB,iBAAiB;IACjB,2BAA2B;IAC3B,wBAAwB;IACxB,kBAAkB;GACnB;;AAEH;MACM,mBAAmB;UACf,eAAe;KACpB;;AAEL;MACM,kBAAkB;MAClB,mBAAmB;UACf,eAAe;KACpB","file":"Markdown.scss","sourcesContent":["/**\n * React Starter Kit (https://www.reactstarterkit.com/)\n *\n * Copyright © 2014-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\n:root {\n  /*\n   * Typography\n   * ======================================================================== */\n\n  --font-family-base: 'Segoe UI', 'HelveticaNeue-Light', sans-serif;\n\n  /*\n   * Layout\n   * ======================================================================== */\n\n  --max-content-width: 1000px;\n\n  /*\n   * Application specific\n   * ======================================================================== */\n\n  --hedgehog-green-light: #38b449;\n  --hedgehog-green-dark: #007c3c;\n\n  /*\n   * Media queries breakpoints\n   * ======================================================================== */\n\n  --screen-xs-min: 480px;  /* Extra small screen / phone */\n  --screen-sm-min: 768px;  /* Small screen / tablet */\n  --screen-md-min: 992px;  /* Medium screen / desktop */\n  --screen-lg-min: 1200px; /* Large screen / wide desktop */\n}\n\n.container {\n  -ms-flex: 1 0 auto;\n      flex: 1 0 auto;\n  width: 100%;\n}\n\n.root {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-flow: row nowrap;\n      flex-flow: row nowrap;\n  width: 100%;\n  height: 100%;\n}\n\n.previewContainer {\n  width: 100%;\n  height: 100%;\n  overflow: auto\n}\n\n.previewContainer .previewViewport {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-flow: column nowrap;\n        flex-flow: column nowrap;\n\n    padding: 0 20px 20px;\n    min-height: 100%;\n    width: -webkit-fit-content;\n    width: -moz-fit-content;\n    width: fit-content\n  }\n\n.previewContainer .previewViewport .preview {\n      -ms-flex: 1 1 auto;\n          flex: 1 1 auto;\n    }\n\n.previewContainer .previewViewport .previewToolbar {\n      margin-left: auto;\n      -ms-flex: 0 0 auto;\n          flex: 0 0 auto;\n    }\n"],"sourceRoot":""}]);

// exports
exports.locals = {
	"container": "Markdown-container-3q50J",
	"root": "Markdown-root-3yhCb",
	"previewContainer": "Markdown-previewContainer-37xxD",
	"previewViewport": "Markdown-previewViewport-YC1AD",
	"preview": "Markdown-preview-bOuMn",
	"previewToolbar": "Markdown-previewToolbar-14jPC"
};

/***/ }),

/***/ "./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Simulator/Simulator.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("./node_modules/css-loader/lib/css-base.js")(true);
// imports


// module
exports.push([module.i, "/**\n * React Starter Kit (https://www.reactstarterkit.com/)\n *\n * Copyright © 2014-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\n:root {\n  /*\n   * Typography\n   * ======================================================================== */\n\n  --font-family-base: 'Segoe UI', 'HelveticaNeue-Light', sans-serif;\n\n  /*\n   * Layout\n   * ======================================================================== */\n\n  --max-content-width: 1000px;\n\n  /*\n   * Application specific\n   * ======================================================================== */\n\n  --hedgehog-green-light: #38b449;\n  --hedgehog-green-dark: #007c3c;\n\n  /*\n   * Media queries breakpoints\n   * ======================================================================== */\n\n  --screen-xs-min: 480px;  /* Extra small screen / phone */\n  --screen-sm-min: 768px;  /* Small screen / tablet */\n  --screen-md-min: 992px;  /* Medium screen / desktop */\n  --screen-lg-min: 1200px; /* Large screen / wide desktop */\n}\n\n.Simulator-root-1XsDK {\n  width: 100%;\n  height: 100%;\n  display: -ms-flexbox;\n  display: flex;\n}\n\n.Simulator-Simulation3D-338pA {\n  \n  max-width: 100%;\n  max-height: 100%;\n}\n\ncanvas {\n  width: 100%;\n  height:100%;\n}\n\n.Simulator-container-3lbCs {\n  \n  display: -ms-flexbox;\n  \n  display: flex\n}\n\n.Simulator-container-3lbCs.Simulator-zoomed-1yoVz {\n    overflow: scroll;\n  }\n\n.Simulator-container-3lbCs.Simulator-zoomed-1yoVz .Simulator-canvas-J-z7P {\n    -ms-flex-negative: 0;\n        flex-shrink: 0;\n  }\n", "", {"version":3,"sources":["/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/Simulator/Simulator.scss"],"names":[],"mappings":"AAAA;;;;;;;GAOG;;AAEH;EACE;;gFAE8E;;EAE9E,kEAAkE;;EAElE;;gFAE8E;;EAE9E,4BAA4B;;EAE5B;;gFAE8E;;EAE9E,gCAAgC;EAChC,+BAA+B;;EAE/B;;gFAE8E;;EAE9E,uBAAuB,EAAE,gCAAgC;EACzD,uBAAuB,EAAE,2BAA2B;EACpD,uBAAuB,EAAE,6BAA6B;EACtD,wBAAwB,CAAC,iCAAiC;CAC3D;;AAED;EACE,YAAY;EACZ,aAAa;EACb,qBAAqB;EACrB,cAAc;CACf;;AAED;;EAEE,gBAAgB;EAChB,iBAAiB;CAClB;;AAED;EACE,YAAY;EACZ,YAAY;CACb;;AAED;;EAEE,qBAAqB;;EAErB,aAAa;CACd;;AAED;IACI,iBAAiB;GAClB;;AAEH;IACI,qBAAqB;QACjB,eAAe;GACpB","file":"Simulator.scss","sourcesContent":["/**\n * React Starter Kit (https://www.reactstarterkit.com/)\n *\n * Copyright © 2014-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\n:root {\n  /*\n   * Typography\n   * ======================================================================== */\n\n  --font-family-base: 'Segoe UI', 'HelveticaNeue-Light', sans-serif;\n\n  /*\n   * Layout\n   * ======================================================================== */\n\n  --max-content-width: 1000px;\n\n  /*\n   * Application specific\n   * ======================================================================== */\n\n  --hedgehog-green-light: #38b449;\n  --hedgehog-green-dark: #007c3c;\n\n  /*\n   * Media queries breakpoints\n   * ======================================================================== */\n\n  --screen-xs-min: 480px;  /* Extra small screen / phone */\n  --screen-sm-min: 768px;  /* Small screen / tablet */\n  --screen-md-min: 992px;  /* Medium screen / desktop */\n  --screen-lg-min: 1200px; /* Large screen / wide desktop */\n}\n\n.root {\n  width: 100%;\n  height: 100%;\n  display: -ms-flexbox;\n  display: flex;\n}\n\n.Simulation3D {\n  \n  max-width: 100%;\n  max-height: 100%;\n}\n\ncanvas {\n  width: 100%;\n  height:100%;\n}\n\n.container {\n  \n  display: -ms-flexbox;\n  \n  display: flex\n}\n\n.container.zoomed {\n    overflow: scroll;\n  }\n\n.container.zoomed .canvas {\n    -ms-flex-negative: 0;\n        flex-shrink: 0;\n  }\n"],"sourceRoot":""}]);

// exports
exports.locals = {
	"root": "Simulator-root-1XsDK",
	"Simulation3D": "Simulator-Simulation3D-338pA",
	"container": "Simulator-container-3lbCs",
	"zoomed": "Simulator-zoomed-1yoVz",
	"canvas": "Simulator-canvas-J-z7P"
};

/***/ }),

/***/ "./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/SimulatorEditor/SimulatorEditor.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("./node_modules/css-loader/lib/css-base.js")(true);
// imports


// module
exports.push([module.i, "/**\n * React Starter Kit (https://www.reactstarterkit.com/)\n *\n * Copyright © 2014-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\n:root {\n  /*\n   * Typography\n   * ======================================================================== */\n\n  --font-family-base: 'Segoe UI', 'HelveticaNeue-Light', sans-serif;\n\n  /*\n   * Layout\n   * ======================================================================== */\n\n  --max-content-width: 1000px;\n\n  /*\n   * Application specific\n   * ======================================================================== */\n\n  --hedgehog-green-light: #38b449;\n  --hedgehog-green-dark: #007c3c;\n\n  /*\n   * Media queries breakpoints\n   * ======================================================================== */\n\n  --screen-xs-min: 480px;  /* Extra small screen / phone */\n  --screen-sm-min: 768px;  /* Small screen / tablet */\n  --screen-md-min: 992px;  /* Medium screen / desktop */\n  --screen-lg-min: 1200px; /* Large screen / wide desktop */\n}\n\n.SimulatorEditor-tabRoot-1lpKU {\n  width: 100%;\n  height: 100%;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-flow: row nowrap;\n      flex-flow: row nowrap;\n  overflow: hidden;\n}\n\n.SimulatorEditor-jsonContainer-XB5kB {\n  -ms-flex: 0 1 auto;\n      flex: 0 1 auto;\n  width: 400px;\n  overflow: auto;\n  padding: 6px 0 0 4px;\n  margin: 0;\n  -webkit-transition-property: width;\n  -o-transition-property: width;\n  transition-property: width;\n  -webkit-transition-duration: 0.3s;\n       -o-transition-duration: 0.3s;\n          transition-duration: 0.3s\n}\n\n.SimulatorEditor-jsonContainer-XB5kB.SimulatorEditor-collapsed-1H33c {\n    overflow: hidden;\n    padding-left: 0;\n    width: 0;\n  }\n", "", {"version":3,"sources":["/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/SimulatorEditor/SimulatorEditor.scss"],"names":[],"mappings":"AAAA;;;;;;;GAOG;;AAEH;EACE;;gFAE8E;;EAE9E,kEAAkE;;EAElE;;gFAE8E;;EAE9E,4BAA4B;;EAE5B;;gFAE8E;;EAE9E,gCAAgC;EAChC,+BAA+B;;EAE/B;;gFAE8E;;EAE9E,uBAAuB,EAAE,gCAAgC;EACzD,uBAAuB,EAAE,2BAA2B;EACpD,uBAAuB,EAAE,6BAA6B;EACtD,wBAAwB,CAAC,iCAAiC;CAC3D;;AAED;EACE,YAAY;EACZ,aAAa;EACb,qBAAqB;EACrB,cAAc;EACd,0BAA0B;MACtB,sBAAsB;EAC1B,iBAAiB;CAClB;;AAED;EACE,mBAAmB;MACf,eAAe;EACnB,aAAa;EACb,eAAe;EACf,qBAAqB;EACrB,UAAU;EACV,mCAAmC;EACnC,8BAA8B;EAC9B,2BAA2B;EAC3B,kCAAkC;OAC7B,6BAA6B;UAC1B,yBAAyB;CAClC;;AAED;IACI,iBAAiB;IACjB,gBAAgB;IAChB,SAAS;GACV","file":"SimulatorEditor.scss","sourcesContent":["/**\n * React Starter Kit (https://www.reactstarterkit.com/)\n *\n * Copyright © 2014-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\n:root {\n  /*\n   * Typography\n   * ======================================================================== */\n\n  --font-family-base: 'Segoe UI', 'HelveticaNeue-Light', sans-serif;\n\n  /*\n   * Layout\n   * ======================================================================== */\n\n  --max-content-width: 1000px;\n\n  /*\n   * Application specific\n   * ======================================================================== */\n\n  --hedgehog-green-light: #38b449;\n  --hedgehog-green-dark: #007c3c;\n\n  /*\n   * Media queries breakpoints\n   * ======================================================================== */\n\n  --screen-xs-min: 480px;  /* Extra small screen / phone */\n  --screen-sm-min: 768px;  /* Small screen / tablet */\n  --screen-md-min: 992px;  /* Medium screen / desktop */\n  --screen-lg-min: 1200px; /* Large screen / wide desktop */\n}\n\n.tabRoot {\n  width: 100%;\n  height: 100%;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-flow: row nowrap;\n      flex-flow: row nowrap;\n  overflow: hidden;\n}\n\n.jsonContainer {\n  -ms-flex: 0 1 auto;\n      flex: 0 1 auto;\n  width: 400px;\n  overflow: auto;\n  padding: 6px 0 0 4px;\n  margin: 0;\n  -webkit-transition-property: width;\n  -o-transition-property: width;\n  transition-property: width;\n  -webkit-transition-duration: 0.3s;\n       -o-transition-duration: 0.3s;\n          transition-duration: 0.3s\n}\n\n.jsonContainer.collapsed {\n    overflow: hidden;\n    padding-left: 0;\n    width: 0;\n  }\n"],"sourceRoot":""}]);

// exports
exports.locals = {
	"tabRoot": "SimulatorEditor-tabRoot-1lpKU",
	"jsonContainer": "SimulatorEditor-jsonContainer-XB5kB",
	"collapsed": "SimulatorEditor-collapsed-1H33c"
};

/***/ }),

/***/ "./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/ToolBar/ToolBar.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("./node_modules/css-loader/lib/css-base.js")(true);
// imports


// module
exports.push([module.i, ".ToolBar-toolBar-28CNk {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-flow: column nowrap;\n      flex-flow: column nowrap;\n  background-color: #e8e8e8;\n}\n", "", {"version":3,"sources":["/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/ToolBar/ToolBar.scss"],"names":[],"mappings":"AAAA;EACE,qBAAqB;EACrB,cAAc;EACd,6BAA6B;MACzB,yBAAyB;EAC7B,0BAA0B;CAC3B","file":"ToolBar.scss","sourcesContent":[".toolBar {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-flow: column nowrap;\n      flex-flow: column nowrap;\n  background-color: #e8e8e8;\n}\n"],"sourceRoot":""}]);

// exports
exports.locals = {
	"toolBar": "ToolBar-toolBar-28CNk"
};

/***/ }),

/***/ "./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/ToolBar/ToolBarItem.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("./node_modules/css-loader/lib/css-base.js")(true);
// imports


// module
exports.push([module.i, ".ToolBarItem-toolBarItem-2cdGR {\n  margin: 5px;\n}\n", "", {"version":3,"sources":["/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/ToolBar/ToolBarItem.scss"],"names":[],"mappings":"AAAA;EACE,YAAY;CACb","file":"ToolBarItem.scss","sourcesContent":[".toolBarItem {\n  margin: 5px;\n}\n"],"sourceRoot":""}]);

// exports
exports.locals = {
	"toolBarItem": "ToolBarItem-toolBarItem-2cdGR"
};

/***/ }),

/***/ "./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/VisualEditor/VisualEditor.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("./node_modules/css-loader/lib/css-base.js")(true);
// imports


// module
exports.push([module.i, "/**\n * React Starter Kit (https://www.reactstarterkit.com/)\n *\n * Copyright © 2014-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\n:root {\n  /*\n   * Typography\n   * ======================================================================== */\n\n  --font-family-base: 'Segoe UI', 'HelveticaNeue-Light', sans-serif;\n\n  /*\n   * Layout\n   * ======================================================================== */\n\n  --max-content-width: 1000px;\n\n  /*\n   * Application specific\n   * ======================================================================== */\n\n  --hedgehog-green-light: #38b449;\n  --hedgehog-green-dark: #007c3c;\n\n  /*\n   * Media queries breakpoints\n   * ======================================================================== */\n\n  --screen-xs-min: 480px;  /* Extra small screen / phone */\n  --screen-sm-min: 768px;  /* Small screen / tablet */\n  --screen-md-min: 992px;  /* Medium screen / desktop */\n  --screen-lg-min: 1200px; /* Large screen / wide desktop */\n}\n\n.VisualEditor-tabRoot-1S4KP {\n  width: 100%;\n  height: 100%;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-flow: row nowrap;\n      flex-flow: row nowrap;\n  overflow: hidden;\n}\n\n.VisualEditor-codeContainer-1jpzy {\n  -ms-flex: 0 1 auto;\n      flex: 0 1 auto;\n  width: 400px;\n  overflow: auto;\n  padding: 6px 0 0 4px;\n  margin: 0;\n  -webkit-transition-property: width;\n  -o-transition-property: width;\n  transition-property: width;\n  -webkit-transition-duration: 0.3s;\n       -o-transition-duration: 0.3s;\n          transition-duration: 0.3s\n}\n\n.VisualEditor-codeContainer-1jpzy.VisualEditor-collapsed-23WPh {\n    overflow: hidden;\n    padding-left: 0;\n    width: 0;\n  }\n", "", {"version":3,"sources":["/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/VisualEditor/VisualEditor.scss"],"names":[],"mappings":"AAAA;;;;;;;GAOG;;AAEH;EACE;;gFAE8E;;EAE9E,kEAAkE;;EAElE;;gFAE8E;;EAE9E,4BAA4B;;EAE5B;;gFAE8E;;EAE9E,gCAAgC;EAChC,+BAA+B;;EAE/B;;gFAE8E;;EAE9E,uBAAuB,EAAE,gCAAgC;EACzD,uBAAuB,EAAE,2BAA2B;EACpD,uBAAuB,EAAE,6BAA6B;EACtD,wBAAwB,CAAC,iCAAiC;CAC3D;;AAED;EACE,YAAY;EACZ,aAAa;EACb,qBAAqB;EACrB,cAAc;EACd,0BAA0B;MACtB,sBAAsB;EAC1B,iBAAiB;CAClB;;AAED;EACE,mBAAmB;MACf,eAAe;EACnB,aAAa;EACb,eAAe;EACf,qBAAqB;EACrB,UAAU;EACV,mCAAmC;EACnC,8BAA8B;EAC9B,2BAA2B;EAC3B,kCAAkC;OAC7B,6BAA6B;UAC1B,yBAAyB;CAClC;;AAED;IACI,iBAAiB;IACjB,gBAAgB;IAChB,SAAS;GACV","file":"VisualEditor.scss","sourcesContent":["/**\n * React Starter Kit (https://www.reactstarterkit.com/)\n *\n * Copyright © 2014-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\n:root {\n  /*\n   * Typography\n   * ======================================================================== */\n\n  --font-family-base: 'Segoe UI', 'HelveticaNeue-Light', sans-serif;\n\n  /*\n   * Layout\n   * ======================================================================== */\n\n  --max-content-width: 1000px;\n\n  /*\n   * Application specific\n   * ======================================================================== */\n\n  --hedgehog-green-light: #38b449;\n  --hedgehog-green-dark: #007c3c;\n\n  /*\n   * Media queries breakpoints\n   * ======================================================================== */\n\n  --screen-xs-min: 480px;  /* Extra small screen / phone */\n  --screen-sm-min: 768px;  /* Small screen / tablet */\n  --screen-md-min: 992px;  /* Medium screen / desktop */\n  --screen-lg-min: 1200px; /* Large screen / wide desktop */\n}\n\n.tabRoot {\n  width: 100%;\n  height: 100%;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-flow: row nowrap;\n      flex-flow: row nowrap;\n  overflow: hidden;\n}\n\n.codeContainer {\n  -ms-flex: 0 1 auto;\n      flex: 0 1 auto;\n  width: 400px;\n  overflow: auto;\n  padding: 6px 0 0 4px;\n  margin: 0;\n  -webkit-transition-property: width;\n  -o-transition-property: width;\n  transition-property: width;\n  -webkit-transition-duration: 0.3s;\n       -o-transition-duration: 0.3s;\n          transition-duration: 0.3s\n}\n\n.codeContainer.collapsed {\n    overflow: hidden;\n    padding-left: 0;\n    width: 0;\n  }\n"],"sourceRoot":""}]);

// exports
exports.locals = {
	"tabRoot": "VisualEditor-tabRoot-1S4KP",
	"codeContainer": "VisualEditor-codeContainer-1jpzy",
	"collapsed": "VisualEditor-collapsed-23WPh"
};

/***/ }),

/***/ "./src/client/poly-decomp-polyfill.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var poly_decomp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("poly-decomp");
/* harmony import */ var poly_decomp__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(poly_decomp__WEBPACK_IMPORTED_MODULE_0__);


if (!window.decomp) {
  window.decomp = poly_decomp__WEBPACK_IMPORTED_MODULE_0___default.a;
}

/* harmony default export */ __webpack_exports__["default"] = (poly_decomp__WEBPACK_IMPORTED_MODULE_0___default.a);

/***/ }),

/***/ "./src/components/ide/Blockly/Blockly.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var isomorphic_style_loader_withStyles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("isomorphic-style-loader/withStyles");
/* harmony import */ var isomorphic_style_loader_withStyles__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(isomorphic_style_loader_withStyles__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("blockly/core");
/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(blockly_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _Blockly_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/components/ide/Blockly/Blockly.scss");
/* harmony import */ var _Blockly_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_Blockly_scss__WEBPACK_IMPORTED_MODULE_3__);
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/Blockly/Blockly.js";

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }






/**
 * `BlocklyComponent` wraps the `Blockly` npm distribution to make it easily usable within Hedgehog
 * Cloud's requirements. In particular, Blockly editors are shown inside a flex layout, which may
 * resize and hide its tabs. Blockly needs to be told to resize its canvas to the container when a
 * resize happens, and to hide its "chaff" (pop-ups etc.) when it becomes invisible. The consumer of
 * this component is responsible for listening to the relevant events, and call the display update
 * methods of this component accordingly.
 *
 * This component also dynamically handles the localization of Blockly. While `rtl` (right-to-left
 * orientation) is a property of the workspace, localization messages are set globally and applied
 * to a workspace on creation. To dynamically change of the locale, this component will re-inject a
 * new Blockly workspace after setting the translation globally. This has the side effect of
 * clearing any undo history up to that point.
 *
 * Finally, this component allows listening to Blockly's zoom and scroll state, and can restore zoom
 * and scroll state on load.
 */
class BlocklyComponent extends react__WEBPACK_IMPORTED_MODULE_0__["Component"] {
  constructor(...args) {
    super(...args);

    _defineProperty(this, "containerRef", react__WEBPACK_IMPORTED_MODULE_0__["createRef"]());

    _defineProperty(this, "blocklyRef", react__WEBPACK_IMPORTED_MODULE_0__["createRef"]());

    _defineProperty(this, "workspace", null);
  }

  componentDidMount() {
    // eslint-disable-next-line no-throw-literal
    if (this.blocklyRef.current === null) throw 'ref is null';
    this.props.forwardedRef.current = this;
    const {
      initialWorkspaceXml
    } = this.props;
    const dom = initialWorkspaceXml !== '' ? blockly_core__WEBPACK_IMPORTED_MODULE_2___default.a.Xml.textToDom(initialWorkspaceXml) : null;
    this.injectWorkspace(dom);
    this.refreshSize();
  }

  componentWillUnmount() {
    if (this.workspace === null) return;
    this.workspace.dispose();
    this.workspace = null;
  }

  componentDidUpdate(prevProps) {
    const {
      locale: {
        rtl: prevRtl,
        msg: prevMsg
      }
    } = prevProps;
    const {
      locale: {
        rtl,
        msg
      }
    } = this.props;
    if (this.workspace === null) return;
    const {
      workspace
    } = this;

    if (rtl !== prevRtl || msg !== prevMsg) {
      // re-inject workspace. this clears the undo-history, but should work otherwise
      const dom = blockly_core__WEBPACK_IMPORTED_MODULE_2___default.a.Xml.workspaceToDom(workspace);
      workspace.dispose();
      this.injectWorkspace(dom);
    }
  }

  injectWorkspace(dom) {
    // eslint-disable-next-line no-throw-literal
    if (this.blocklyRef.current === null) throw 'ref is null';
    const {
      locale: {
        rtl,
        msg
      },
      workspaceOptions,
      workspaceTransform
    } = this.props;
    blockly_core__WEBPACK_IMPORTED_MODULE_2___default.a.setLocale(msg);
    const workspace = blockly_core__WEBPACK_IMPORTED_MODULE_2___default.a.inject(this.blocklyRef.current, { ...workspaceOptions,
      rtl
    });

    if (dom !== null) {
      try {
        // don't record this reloading of the workspace for undo
        blockly_core__WEBPACK_IMPORTED_MODULE_2___default.a.Events.recordUndo = false;
        blockly_core__WEBPACK_IMPORTED_MODULE_2___default.a.Xml.clearWorkspaceAndLoadFromXml(dom, workspace);
        blockly_core__WEBPACK_IMPORTED_MODULE_2___default.a.Events.recordUndo = true;
      } catch (ex) {
        console.warn(ex);
      }
    }

    workspace.addChangeListener(() => {
      if (this.props.onChange) this.props.onChange(workspace);
    }); // TODO this is a terrible hack, but there's no scroll event
    // translate is the most fundamental in a set of methods
    // that move and zoom the workspace
    // using an arrow function, so `this` is the component not the workspace

    const translate = workspace.translate.bind(workspace);

    workspace.translate = (x, y) => {
      translate(x, y);
      if (this.props.onScroll) this.props.onScroll(workspace);
    };

    if (workspaceTransform) {
      const {
        scrollX,
        scrollY,
        scale
      } = workspaceTransform;
      setTimeout(() => {
        workspace.setScale(scale);
        workspace.scroll(scrollX, scrollY);
      }, 0);
    }

    this.workspace = workspace;
  }
  /**
   * Resizes the workspace to the dimensions of the component's container div
   */


  refreshSize() {
    const container = this.containerRef.current;
    const blockly = this.blocklyRef.current;
    if (container === null || blockly === null || this.workspace === null) return;
    blockly.style.width = `${container.offsetWidth}px`;
    blockly.style.height = `${container.offsetHeight}px`;
    blockly_core__WEBPACK_IMPORTED_MODULE_2___default.a.svgResize(this.workspace);
  }
  /**
   * Refreshes the workspace size on the next tick of the event loop
   */


  refreshSizeDeferred() {
    setTimeout(() => this.refreshSize(), 0);
  }
  /**
   * Handles a visibility change of the workspace. When hiding, hides the "chaff"; when showing,
   * refreshes the workspace size.
   */


  updateVisibility(visible) {
    if (visible) {
      this.refreshSizeDeferred();
    } else {
      blockly_core__WEBPACK_IMPORTED_MODULE_2___default.a.hideChaff();
    }
  }

  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
      ref: this.containerRef,
      className: _Blockly_scss__WEBPACK_IMPORTED_MODULE_3___default.a.blocklyContainer,
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 186,
        columnNumber: 7
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
      ref: this.blocklyRef,
      className: _Blockly_scss__WEBPACK_IMPORTED_MODULE_3___default.a.blockly,
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 187,
        columnNumber: 9
      }
    }));
  }

}

/* harmony default export */ __webpack_exports__["default"] = (isomorphic_style_loader_withStyles__WEBPACK_IMPORTED_MODULE_1___default()(_Blockly_scss__WEBPACK_IMPORTED_MODULE_3___default.a)(BlocklyComponent));

/***/ }),

/***/ "./src/components/ide/Blockly/Blockly.scss":
/***/ (function(module, exports, __webpack_require__) {


    var refs = 0;
    var css = __webpack_require__("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Blockly/Blockly.scss");
    var insertCss = __webpack_require__("./node_modules/isomorphic-style-loader/insertCss.js");
    var content = typeof css === 'string' ? [[module.i, css, '']] : css;

    exports = module.exports = css.locals || {};
    exports._getContent = function() { return content; };
    exports._getCss = function() { return '' + css; };
    exports._insertCss = function(options) { return insertCss(content, options) };

    // Hot Module Replacement
    // https://webpack.github.io/docs/hot-module-replacement
    // Only activated in browser context
    if ( true && typeof window !== 'undefined' && window.document) {
      var removeCss = function() {};
      module.hot.accept("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Blockly/Blockly.scss", function() {
        css = __webpack_require__("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Blockly/Blockly.scss");
        content = typeof css === 'string' ? [[module.i, css, '']] : css;
        removeCss = insertCss(content, { replace: true });
      });
      module.hot.dispose(function() { removeCss(); });
    }
  

/***/ }),

/***/ "./src/components/ide/Console/Console.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("isomorphic-style-loader/useStyles");
/* harmony import */ var isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _misc_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/components/misc/hooks/index.js");
/* harmony import */ var _Console_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/components/ide/Console/Console.scss");
/* harmony import */ var _Console_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_Console_scss__WEBPACK_IMPORTED_MODULE_3__);
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/Console/Console.js";


 // eslint-disable-next-line css-modules/no-unused-class



function consoleReducer(state, action) {
  switch (action.type) {
    case 'PRINT':
      {
        const key = state.nextKey;
        const {
          text,
          stream
        } = action;
        const newItem = {
          key,
          text,
          stream
        };
        const nextKey = state.nextKey + 1;
        const items = [...state.items.slice(-99), newItem];
        return {
          nextKey,
          items
        };
      }

    case 'CLEAR':
      {
        return {
          nextKey: 0,
          items: []
        };
      }

    default:
      // eslint-disable-next-line no-throw-literal
      throw 'unreachable';
  }
}

/**
 * The Console displays program outputs, but also accepts inputs.
 * That second capability is currently not used, except for a demo "/clear" command,
 * but may be hooked up to program execution to get inputs passed into user programs or plugins.
 */
const Console = react__WEBPACK_IMPORTED_MODULE_0__["forwardRef"](({
  onInput
}, ref) => {
  const [{
    items
  }, dispatch] = react__WEBPACK_IMPORTED_MODULE_0__["useReducer"](consoleReducer, {
    nextKey: 0,
    items: []
  });
  const inputRef = _misc_hooks__WEBPACK_IMPORTED_MODULE_2__["useElementRef"]();
  const bottomRef = _misc_hooks__WEBPACK_IMPORTED_MODULE_2__["useElementRef"]();
  react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](() => {
    if (bottomRef.current !== null) bottomRef.current.scrollIntoView(false);
  }, [items, bottomRef]);

  function print(text, stream) {
    dispatch({
      type: 'PRINT',
      text,
      stream
    });
  }

  function clear() {
    dispatch({
      type: 'CLEAR'
    });
  }

  function handleSubmit(e) {
    e.preventDefault();
    if (inputRef.current === null) return;
    const input = inputRef.current.value;
    inputRef.current.value = '';
    print(input, 'stdin');
    onInput(input);
  }

  react__WEBPACK_IMPORTED_MODULE_0__["useImperativeHandle"](ref, () => ({
    print,
    clear
  }));
  isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1___default()(_Console_scss__WEBPACK_IMPORTED_MODULE_3___default.a);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    style: {
      overflowX: 'auto',
      height: '100%'
    },
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 95,
      columnNumber: 5
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: _Console_scss__WEBPACK_IMPORTED_MODULE_3___default.a.root,
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 96,
      columnNumber: 7
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: _Console_scss__WEBPACK_IMPORTED_MODULE_3___default.a.outputPane,
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 97,
      columnNumber: 9
    }
  }, items.map(({
    key,
    text,
    stream
  }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("pre", {
    key: key,
    className: `${_Console_scss__WEBPACK_IMPORTED_MODULE_3___default.a.output} ${_Console_scss__WEBPACK_IMPORTED_MODULE_3___default.a[stream]}`,
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 99,
      columnNumber: 13
    }
  }, text)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    ref: bottomRef,
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 103,
      columnNumber: 11
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("form", {
    className: _Console_scss__WEBPACK_IMPORTED_MODULE_3___default.a.inputForm,
    onSubmit: handleSubmit,
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 105,
      columnNumber: 9
    }
  }, ">>>\xA0", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("input", {
    type: "text",
    ref: inputRef,
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 107,
      columnNumber: 11
    }
  }))));
});
/* harmony default export */ __webpack_exports__["default"] = (Console);

/***/ }),

/***/ "./src/components/ide/Console/Console.scss":
/***/ (function(module, exports, __webpack_require__) {


    var refs = 0;
    var css = __webpack_require__("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Console/Console.scss");
    var insertCss = __webpack_require__("./node_modules/isomorphic-style-loader/insertCss.js");
    var content = typeof css === 'string' ? [[module.i, css, '']] : css;

    exports = module.exports = css.locals || {};
    exports._getContent = function() { return content; };
    exports._getCss = function() { return '' + css; };
    exports._insertCss = function(options) { return insertCss(content, options) };

    // Hot Module Replacement
    // https://webpack.github.io/docs/hot-module-replacement
    // Only activated in browser context
    if ( true && typeof window !== 'undefined' && window.document) {
      var removeCss = function() {};
      module.hot.accept("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Console/Console.scss", function() {
        css = __webpack_require__("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Console/Console.scss");
        content = typeof css === 'string' ? [[module.i, css, '']] : css;
        removeCss = insertCss(content, { replace: true });
      });
      module.hot.dispose(function() { removeCss(); });
    }
  

/***/ }),

/***/ "./src/components/ide/Editor/Editor.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("isomorphic-style-loader/useStyles");
/* harmony import */ var isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_ace__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("react-ace");
/* harmony import */ var react_ace__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_ace__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var ace_builds_webpack_resolver__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("ace-builds/webpack-resolver");
/* harmony import */ var ace_builds_webpack_resolver__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(ace_builds_webpack_resolver__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var ace_builds_src_noconflict_mode_javascript__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("ace-builds/src-noconflict/mode-javascript");
/* harmony import */ var ace_builds_src_noconflict_mode_javascript__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(ace_builds_src_noconflict_mode_javascript__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var ace_builds_src_noconflict_ext_language_tools__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("ace-builds/src-noconflict/ext-language_tools");
/* harmony import */ var ace_builds_src_noconflict_ext_language_tools__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(ace_builds_src_noconflict_ext_language_tools__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var ace_builds_src_noconflict_theme_github__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("ace-builds/src-noconflict/theme-github");
/* harmony import */ var ace_builds_src_noconflict_theme_github__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(ace_builds_src_noconflict_theme_github__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _misc_palette__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/components/misc/palette.js");
/* harmony import */ var _misc_hooks__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/components/misc/hooks/index.js");
/* harmony import */ var _ToolBar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/components/ide/ToolBar/ToolBar.js");
/* harmony import */ var _ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/components/ide/ToolBar/ToolBarIconButton.js");
/* harmony import */ var _ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/components/ide/ToolBar/ToolBarItem.js");
/* harmony import */ var _Editor_scss__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/components/ide/Editor/Editor.scss");
/* harmony import */ var _Editor_scss__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_Editor_scss__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _useFile__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/components/ide/useFile.js");
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/Editor/Editor.js";















/**
 * Wraps an `AceEditor` for display in a `FlexLayout` tab,
 * and for editing the contents of a project file.
 *
 * Besides the editor surface, the editor's toolbar allows running and terminating programs,
 * and resetting the simulation.
 */
function Editor({
  layoutNode,
  project,
  path,
  onExecutionAction,
  running
}) {
  const [[width, height], setDimension] = react__WEBPACK_IMPORTED_MODULE_0__["useState"](['0', '0']);
  const containerRef = _misc_hooks__WEBPACK_IMPORTED_MODULE_8__["useElementRef"]();
  const [content, setContent] = Object(_useFile__WEBPACK_IMPORTED_MODULE_13__["default"])(project, path, 'utf8'); // update editor size when the containing tab is resized or made visible

  react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](() => {
    const handleResize = () => {
      setTimeout(() => {
        if (containerRef.current === null) return;
        setDimension([`${containerRef.current.offsetWidth}px`, `${containerRef.current.offsetHeight}px`]);
      }, 0);
    };

    layoutNode.setEventListener('resize', handleResize);
    layoutNode.setEventListener('visibility', handleResize);
    handleResize();
    return () => {
      layoutNode.setEventListener('resize', null);
      layoutNode.setEventListener('visibility', null);
    };
  }, [layoutNode, containerRef]);
  isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1___default()(_Editor_scss__WEBPACK_IMPORTED_MODULE_12___default.a);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: _Editor_scss__WEBPACK_IMPORTED_MODULE_12___default.a.root,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 69,
      columnNumber: 5
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: _Editor_scss__WEBPACK_IMPORTED_MODULE_12___default.a.container,
    ref: containerRef,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 70,
      columnNumber: 7
    }
  }, content === null ? null : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_ace__WEBPACK_IMPORTED_MODULE_2___default.a, {
    mode: "javascript",
    theme: "github",
    name: "editor",
    width: width,
    height: height // onLoad={onLoad}
    ,
    onChange: setContent,
    fontSize: 16 // onSelectionChange={onSelectionChange}
    // onCursorChange={onCursorChange}
    // onValidate={onValidate}
    ,
    value: content,
    showGutter: true,
    highlightActiveLine: true,
    autoScrollEditorIntoView: true,
    style: {
      position: 'absolute'
    },
    setOptions: {
      enableBasicAutocompletion: true,
      enableLiveAutocompletion: true,
      // enableSnippets: enableSnippets,
      showLineNumbers: true,
      tabSize: 2
    },
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 72,
      columnNumber: 11
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar__WEBPACK_IMPORTED_MODULE_9__["default"], {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 101,
      columnNumber: 7
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_11__["default"], {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 102,
      columnNumber: 9
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_10__["default"], {
    icon: _misc_palette__WEBPACK_IMPORTED_MODULE_7__["ExecuteIcon"],
    color: "limegreen",
    onClick: () => {
      if (content !== null) onExecutionAction({
        action: 'EXECUTE',
        code: content
      });
    },
    disableRipple: true,
    disabled: running || content === null,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 103,
      columnNumber: 11
    }
  })), running ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_11__["default"], {
    key: "terminate-and-reset",
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 118,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_10__["default"], {
    onClick: () => {
      onExecutionAction({
        action: 'TERMINATE',
        reset: true
      });
    },
    icon: _misc_palette__WEBPACK_IMPORTED_MODULE_7__["TerminateAndResetIcon"],
    color: "red",
    disableRipple: true,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 119,
      columnNumber: 13
    }
  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_11__["default"], {
    key: "reset",
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 132,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_10__["default"], {
    onClick: () => {
      onExecutionAction({
        action: 'RESET'
      });
    },
    icon: _misc_palette__WEBPACK_IMPORTED_MODULE_7__["ResetIcon"],
    disableRipple: true,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 133,
      columnNumber: 13
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_11__["default"], {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 144,
      columnNumber: 9
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_10__["default"], {
    onClick: () => {
      onExecutionAction({
        action: 'TERMINATE',
        reset: false
      });
    },
    icon: _misc_palette__WEBPACK_IMPORTED_MODULE_7__["TerminateIcon"],
    color: "red",
    disableRipple: true,
    disabled: !running,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 145,
      columnNumber: 11
    }
  }))));
}

/* harmony default export */ __webpack_exports__["default"] = (Editor);

/***/ }),

/***/ "./src/components/ide/Editor/Editor.scss":
/***/ (function(module, exports, __webpack_require__) {


    var refs = 0;
    var css = __webpack_require__("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Editor/Editor.scss");
    var insertCss = __webpack_require__("./node_modules/isomorphic-style-loader/insertCss.js");
    var content = typeof css === 'string' ? [[module.i, css, '']] : css;

    exports = module.exports = css.locals || {};
    exports._getContent = function() { return content; };
    exports._getCss = function() { return '' + css; };
    exports._insertCss = function(options) { return insertCss(content, options) };

    // Hot Module Replacement
    // https://webpack.github.io/docs/hot-module-replacement
    // Only activated in browser context
    if ( true && typeof window !== 'undefined' && window.document) {
      var removeCss = function() {};
      module.hot.accept("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Editor/Editor.scss", function() {
        css = __webpack_require__("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Editor/Editor.scss");
        content = typeof css === 'string' ? [[module.i, css, '']] : css;
        removeCss = insertCss(content, { replace: true });
      });
      module.hot.dispose(function() { removeCss(); });
    }
  

/***/ }),

/***/ "./src/components/ide/Executor/Executor.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TaskHandle", function() { return TaskHandle; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _TaskExecutor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/components/ide/Executor/TaskExecutor.js");
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/util.js");
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/Executor/Executor.js";

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }




class TaskHandle {
  // eslint-disable-next-line no-use-before-define
  // eslint-disable-next-line no-use-before-define
  constructor(executor, task) {
    _defineProperty(this, "executor", void 0);

    _defineProperty(this, "task", void 0);

    _defineProperty(this, "handlers", void 0);

    _defineProperty(this, "frame", null);

    _defineProperty(this, "setFrame", frame => {
      this.frame = frame;
    });

    _defineProperty(this, "subscribe", ({
      event
    }) => {
      this.executor.registerForEvents(event, this.onEvent);
    });

    _defineProperty(this, "call", ({
      receiver,
      command,
      payload
    }) => {
      const receiverHandle = this.executor.getTaskHandle(receiver); // TODO without knowing whether the call expects a return value there is no way to report the error properly

      if (receiverHandle === null) {
        console.error(`unknown receiving task '${receiver}' for call ${command}() with payload`, payload);
        return;
      }

      receiverHandle.sendCall(this.task.name, command, payload);
    });

    _defineProperty(this, "emit", ({
      event,
      payload
    }) => {
      this.executor.sendEvent(this.task.name, event, payload);
    });

    _defineProperty(this, "reply", ({
      receiver,
      value
    }) => {
      const receiverHandle = this.executor.getTaskHandle(receiver); // even less chance to report back the error for a reply. log to console

      if (receiverHandle === null) {
        console.error(`unknown receiving task '${receiver}' for reply with value`, value);
        return;
      }

      receiverHandle.sendReply(this.task.name, value);
    });

    _defineProperty(this, "errorReply", ({
      receiver,
      error
    }) => {
      const receiverHandle = this.executor.getTaskHandle(receiver); // even less chance to report back the error for a reply. log to console

      if (receiverHandle === null) {
        console.error(`unknown receiving task '${receiver}' for reply with error`, error);
        return;
      }

      receiverHandle.sendErrorReply(this.task.name, error);
    });

    _defineProperty(this, "onEvent", (sender, event, payload) => {
      this.sendEvent(sender, event, payload);
    });

    this.executor = executor;
    this.task = task;
    this.handlers = { ...Object(_util__WEBPACK_IMPORTED_MODULE_2__["mapObject"])(task.api, // for each handler, create a function that takes the payload and invokes the handler
      handler => payload => handler(payload, this)),
      // built-in handlers
      subscribe: this.subscribe,
      call: this.call,
      emit: this.emit,
      reply: this.reply,
      errorReply: this.errorReply
    };
  } // handlers to be passed into components. arrow functions because of binding
  // used as the component ref for TaskExecutor, which has the instance type iframe


  // public API
  sendMessage(sender, command, payload) {
    if (this.frame === null) return;
    this.frame.contentWindow.postMessage({
      sender,
      command,
      payload
    }, '*');
  }

  sendCall(sender, command, payload) {
    this.sendMessage(sender, 'call', {
      command,
      payload
    });
  }

  sendEvent(sender, event, payload) {
    this.sendMessage(sender, 'event', {
      event,
      payload
    });
  }

  sendReply(sender, value) {
    this.sendMessage(sender, 'reply', value);
  }

  sendErrorReply(sender, error) {
    this.sendMessage(sender, 'errorReply', error);
  }

  async withReply(sender, cb) {
    try {
      const value = await cb();
      this.sendReply(sender, value);
    } catch (error) {
      console.error(sender, error);
      this.sendErrorReply(error.toString());
    }
  }

}

/**
 * The executor manages tasks that are running in sandboxed iframes.
 * The most common kind of task is a user program,
 * others are plugins that can interact with those programs, the simulation environment, etc. via the SDK.
 *
 * The `Task` type exported here represents a workload to be run by the Executor.
 * The executor then creates a `TaskExecutor` that runs that workload.
 */
class Executor extends react__WEBPACK_IMPORTED_MODULE_0__["Component"] {
  constructor(...args) {
    super(...args);

    _defineProperty(this, "taskHandles", new Map());

    _defineProperty(this, "eventRegistry", new Map());

    _defineProperty(this, "state", {
      taskHandleList: []
    });
  }

  addTask(task) {
    const taskHandle = new TaskHandle(this, task);
    this.taskHandles.set(task.name, taskHandle);
    this.setState(state => ({
      taskHandleList: [...state.taskHandleList, taskHandle]
    }));
    return task;
  }

  removeTask(taskName) {
    const taskHandle = this.getTaskHandle(taskName);
    if (taskHandle === null) return;
    this.setState(state => ({
      taskHandleList: state.taskHandleList.filter(t => t !== taskHandle)
    }));
    this.taskHandles.delete(taskName);

    for (const listeners of this.eventRegistry.values()) {
      listeners.delete(taskHandle.onEvent);
    }
  }

  getTaskHandle(taskName) {
    var _this$taskHandles$get;

    return (_this$taskHandles$get = this.taskHandles.get(taskName)) !== null && _this$taskHandles$get !== void 0 ? _this$taskHandles$get : null;
  }

  registerForEvents(event, listener) {
    let listeners = this.eventRegistry.get(event); // create listeners array if necessary

    if (listeners === undefined) {
      listeners = new Set();
      this.eventRegistry.set(event, listeners);
    }

    listeners.add(listener);
  }

  sendEvent(sender, event, payload) {
    const listeners = this.eventRegistry.get(event);
    if (listeners === undefined) return;

    for (const listener of listeners) {
      listener(sender, event, payload);
    }
  }

  render() {
    const {
      taskHandleList
    } = this.state;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react__WEBPACK_IMPORTED_MODULE_0__["Fragment"], null, taskHandleList.map(taskHandle => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_TaskExecutor__WEBPACK_IMPORTED_MODULE_1__["default"], {
      key: taskHandle.task.name,
      ref: taskHandle.setFrame,
      code: `return (async () => {${taskHandle.task.code}\n})();`,
      handlers: taskHandle.handlers,
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 214,
        columnNumber: 11
      }
    })));
  }

}

/* harmony default export */ __webpack_exports__["default"] = (Executor);

/***/ }),

/***/ "./src/components/ide/Executor/TaskExecutor.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/Executor/TaskExecutor.js";

const fetchExecutorDoc = fetch('/executor').then(response => response.text());
/**
 * A TaskExecutor encapsulates a single hidden, sandboxed iframe containing the `/executor` document.
 * TaskExecutors are managed by an executor.
 *
 * The component sets up communication facilities for communication between the iframe and the IDE.
 */

const TaskExecutor = react__WEBPACK_IMPORTED_MODULE_0__["forwardRef"](({
  code,
  handlers
}, ref) => {
  // load the executorDoc in the beginning
  const [executorDoc, setExecutorDoc] = react__WEBPACK_IMPORTED_MODULE_0__["useState"](null);
  react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](() => {
    fetchExecutorDoc.then(setExecutorDoc);
  }, []); // the frame, stored for local use

  const [frame, setFrame] = react__WEBPACK_IMPORTED_MODULE_0__["useState"](null); // uses useCallback because otherwise each render resets the ref.
  // (the ref could be registered with a new callback, so the callback needs to be stable)

  const attachFrame = react__WEBPACK_IMPORTED_MODULE_0__["useCallback"](f => {
    // set the ref for this component
    if (typeof ref === 'function') ref(f);else ref.current = f; // set the frame state variable

    setFrame(f);
  }, [ref]); // register message listener

  react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](() => {
    if (frame === null) return undefined;

    function receiveMessage({
      data,
      origin,
      source
    }) {
      var _handlers$command;

      if (origin !== 'null' || source !== frame.contentWindow) return;
      const {
        command,
        payload
      } = // if the source is what we expected, we assume the data is valid
      // $FlowExpectError
      data;
      (_handlers$command = handlers[command]) === null || _handlers$command === void 0 ? void 0 : _handlers$command.call(handlers, payload);
    }

    window.addEventListener('message', receiveMessage, false);
    return () => {
      window.removeEventListener('message', receiveMessage);
    };
  }, [frame, handlers]); // send execute command to iframe

  react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](() => {
    if (frame === null) return;

    frame.onload = () => {
      const sender = null;
      const command = 'init';
      const payload = code;
      frame.contentWindow.postMessage({
        sender,
        command,
        payload
      }, '*');
    };
  }, [frame, code]); // only render the iframe after loading the executorDoc

  if (executorDoc === null) return null;
  return (
    /*#__PURE__*/
    // eslint-disable-next-line jsx-a11y/iframe-has-title
    react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("iframe", {
      ref: attachFrame,
      sandbox: "allow-scripts" // src="/executor"
      ,
      srcDoc: executorDoc,
      style: {
        display: 'none'
      },
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 89,
        columnNumber: 7
      }
    })
  );
});
/* harmony default export */ __webpack_exports__["default"] = (TaskExecutor);

/***/ }),

/***/ "./src/components/ide/FileTree/FileMenu.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("react-intl");
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_core_Divider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("@material-ui/core/Divider");
/* harmony import */ var _material_ui_core_Divider__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_Divider__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _material_ui_core_ListItemIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("@material-ui/core/ListItemIcon");
/* harmony import */ var _material_ui_core_ListItemIcon__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_ListItemIcon__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _material_ui_core_Menu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("@material-ui/core/Menu");
/* harmony import */ var _material_ui_core_Menu__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_Menu__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("@material-ui/core/MenuItem");
/* harmony import */ var _material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _misc_palette__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/components/misc/palette.js");
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/FileTree/FileMenu.js";

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }








const messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_1__["defineMessages"])({
  createFolder: {
    "id": "app.ide.file_menu.create_folder",
    "defaultMessage": "New Folder"
  },
  createJavascriptFile: {
    "id": "app.ide.file_menu.create_js_file",
    "defaultMessage": "New Javascript File"
  },
  createBlocklyFile: {
    "id": "app.ide.file_menu.create_blockly_file",
    "defaultMessage": "New Blockly File"
  },
  createMarkdownFile: {
    "id": "app.ide.file_menu.create_markdown_file",
    "defaultMessage": "New Markdown File"
  },
  createPluginsDirectory: {
    "id": "app.ide.file_menu.create_plugins_directory",
    "defaultMessage": "Create Plugin Folder"
  },
  createAssetsDirectory: {
    "id": "app.ide.file_menu.create_assets_directory",
    "defaultMessage": "Create Assets Folder"
  },
  createSimulatorConfiguration: {
    "id": "app.ide.file_menu.create_simulator_configuration",
    "defaultMessage": "Create Simulator Configuration"
  },
  createLayoutConfiguration: {
    "id": "app.ide.file_menu.create_layout_configuration",
    "defaultMessage": "Create/Update Workspace Layout Configuration"
  },
  createToolboxConfiguration: {
    "id": "app.ide.file_menu.create_toolbox_configuration",
    "defaultMessage": "Create Toolbox Configuration"
  },
  rename: {
    "id": "app.ide.file_menu.rename",
    "defaultMessage": "Rename"
  },
  delete: {
    "id": "app.ide.file_menu.delete",
    "defaultMessage": "Delete"
  },
  upload: {
    "id": "app.ide.file_menu.upload",
    "defaultMessage": "Upload"
  },
  download: {
    "id": "app.ide.file_menu.download",
    "defaultMessage": "Download"
  }
});
const FileMenuItem = react__WEBPACK_IMPORTED_MODULE_0__["forwardRef"](({
  titleMsg,
  icon: TheIcon,
  ...props
}, ref) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_5___default.a, _extends({
  ref: ref
}, props, {
  __self: undefined,
  __source: {
    fileName: _jsxFileName,
    lineNumber: 105,
    columnNumber: 5
  }
}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_ListItemIcon__WEBPACK_IMPORTED_MODULE_3___default.a, {
  __self: undefined,
  __source: {
    fileName: _jsxFileName,
    lineNumber: 106,
    columnNumber: 7
  }
}, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](TheIcon, {
  fontSize: "small",
  __self: undefined,
  __source: {
    fileName: _jsxFileName,
    lineNumber: 107,
    columnNumber: 9
  }
})), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_intl__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"], _extends({}, titleMsg, {
  __self: undefined,
  __source: {
    fileName: _jsxFileName,
    lineNumber: 109,
    columnNumber: 7
  }
}))));

class FileMenu extends react__WEBPACK_IMPORTED_MODULE_0__["Component"] {
  constructor(...args) {
    super(...args);

    _defineProperty(this, "state", {
      visible: false,
      config: null
    });
  }

  show(anchorPosition, file) {
    this.setState({
      visible: true,
      config: {
        anchorPosition,
        file
      }
    });
  }

  hide() {
    this.setState({
      visible: false
    });
  }

  action(mkAction) {
    // eslint-disable-next-line no-throw-literal
    if (!this.state.visible) throw 'menu is not shown'; // eslint-disable-next-line no-throw-literal

    if (this.state.config === null) throw 'unreachable';
    const {
      config: {
        file
      }
    } = this.state;
    const action = mkAction(file);
    this.hide();
    this.props.onFileAction(action);
  }

  handleCreate(desc) {
    this.action(file => {
      // $FlowExpectError
      const parentDir = file;
      return {
        action: 'CREATE',
        parentDir,
        desc
      };
    });
  }

  handleRename() {
    this.action(file => ({
      action: 'RENAME',
      file
    }));
  }

  handleDelete() {
    this.action(file => ({
      action: 'DELETE',
      file
    }));
  }

  handleDownload() {
    this.action(file => ({
      action: 'DOWNLOAD',
      file
    }));
  }

  handleUpload() {
    this.action(file => {
      // $FlowExpectError
      const parentDir = file;
      return {
        action: 'UPLOAD',
        parentDir
      };
    });
  }

  render() {
    // this will only trigger before the first showing.
    // after that, the old config is still present and will ensure that
    // fade out animations won't glitch due to changing contents.
    if (this.state.config === null) return null;
    const {
      visible,
      config: {
        anchorPosition,
        file
      }
    } = this.state;
    const isRoot = file.path === '.';
    const isLeaf = !file.file.isDirectory();
    const isMetadata = file.path === './.metadata' && !isLeaf;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_Menu__WEBPACK_IMPORTED_MODULE_4___default.a, {
      keepMounted: true,
      anchorReference: "anchorPosition",
      anchorPosition: anchorPosition,
      open: visible,
      onClose: () => this.hide(),
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 205,
        columnNumber: 7
      }
    }, [...(!isLeaf ? [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](FileMenuItem, {
      key: "create_directory",
      titleMsg: messages.createFolder,
      onClick: () => this.handleCreate({
        type: 'DIRECTORY'
      }),
      icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["FolderIcon"],
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 215,
        columnNumber: 17
      }
    }), ...(isMetadata ? [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](FileMenuItem, {
      key: "create_plugins_directory",
      titleMsg: messages.createPluginsDirectory,
      onClick: () => this.handleCreate({
        type: 'METADATA',
        name: 'plugins',
        fileType: 'DIRECTORY'
      }),
      icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["MetadataPluginsIcon"],
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 223,
        columnNumber: 23
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](FileMenuItem, {
      key: "create_assets_directory",
      titleMsg: messages.createAssetsDirectory,
      onClick: () => this.handleCreate({
        type: 'METADATA',
        name: 'assets',
        fileType: 'DIRECTORY'
      }),
      icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["MetadataAssetsIcon"],
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 235,
        columnNumber: 23
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](FileMenuItem, {
      key: "create_layout_config",
      titleMsg: messages.createLayoutConfiguration,
      onClick: () => this.handleCreate({
        type: 'METADATA',
        name: 'layout',
        fileType: 'FILE'
      }),
      icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["MetadataLayoutIcon"],
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 247,
        columnNumber: 23
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](FileMenuItem, {
      key: "create_simulator_config",
      titleMsg: messages.createSimulatorConfiguration,
      onClick: () => this.handleCreate({
        type: 'METADATA',
        name: 'simulator',
        fileType: 'FILE'
      }),
      icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["MetadataSimulatorIcon"],
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 259,
        columnNumber: 23
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](FileMenuItem, {
      key: "create_toolbox_config",
      titleMsg: messages.createToolboxConfiguration,
      onClick: () => this.handleCreate({
        type: 'METADATA',
        name: 'toolbox',
        fileType: 'FILE'
      }),
      icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["MetadataToolboxIcon"],
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 271,
        columnNumber: 23
      }
    })] : [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](FileMenuItem, {
      key: "create_js_file",
      titleMsg: messages.createJavascriptFile,
      onClick: () => this.handleCreate({
        type: 'FILE',
        extension: '.js'
      }),
      icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["LanguageJavascriptIcon"],
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 285,
        columnNumber: 23
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](FileMenuItem, {
      key: "create_blockly_file",
      titleMsg: messages.createBlocklyFile,
      onClick: () => this.handleCreate({
        type: 'FILE',
        extension: '.blockly'
      }),
      icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["LanguageBlocklyIcon"],
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 291,
        columnNumber: 23
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](FileMenuItem, {
      key: "create_md_file",
      titleMsg: messages.createMarkdownFile,
      onClick: () => this.handleCreate({
        type: 'FILE',
        extension: '.md'
      }),
      icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["MarkdownFileIcon"],
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 302,
        columnNumber: 23
      }
    })]), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_Divider__WEBPACK_IMPORTED_MODULE_2___default.a, {
      key: "divider-directory",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 309,
        columnNumber: 17
      }
    })] : []), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](FileMenuItem, {
      key: "rename",
      titleMsg: messages.rename,
      onClick: () => this.handleRename(),
      disabled: isRoot,
      icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["RenameIcon"],
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 312,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](FileMenuItem, {
      key: "delete",
      titleMsg: messages.delete,
      onClick: () => this.handleDelete(),
      disabled: isRoot,
      icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["DeleteIcon"],
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 319,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_Divider__WEBPACK_IMPORTED_MODULE_2___default.a, {
      key: "divider-upload-download",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 326,
        columnNumber: 11
      }
    }), ...(!isLeaf ? [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](FileMenuItem, {
      key: "upload",
      titleMsg: messages.upload,
      onClick: () => this.handleUpload(),
      icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["UploadIcon"],
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 329,
        columnNumber: 17
      }
    })] : [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](FileMenuItem, {
      key: "download",
      titleMsg: messages.download,
      onClick: () => this.handleDownload(),
      icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["DownloadIcon"],
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 337,
        columnNumber: 17
      }
    })])]);
  }

}

/* harmony default export */ __webpack_exports__["default"] = (FileMenu);

/***/ }),

/***/ "./src/components/ide/FileTree/FileTree.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("isomorphic-style-loader/useStyles");
/* harmony import */ var isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var rc_tree__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("rc-tree");
/* harmony import */ var rc_tree__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(rc_tree__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var rc_tree_assets_index_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/rc-tree/assets/index.css");
/* harmony import */ var rc_tree_assets_index_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(rc_tree_assets_index_css__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _misc_palette__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/components/misc/palette.js");
/* harmony import */ var _misc_hooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/components/misc/hooks/index.js");
/* harmony import */ var _FileTree_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/components/ide/FileTree/FileTree.scss");
/* harmony import */ var _FileTree_scss__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_FileTree_scss__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _FileMenu__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/components/ide/FileTree/FileMenu.js");
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/FileTree/FileTree.js";

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



 // $FlowExpectError







/**
 * Displays all files and directories in a tree,
 * and provides actions to open, create, rename, move, delete files etc.
 */
function FileTree({
  files,
  expandedKeys,
  filter,
  onFileAction,
  onUpdate
}) {
  const [selectedKeys, setSelectedKeys] = react__WEBPACK_IMPORTED_MODULE_0__["useState"]([]);
  const rootDivRef = _misc_hooks__WEBPACK_IMPORTED_MODULE_5__["useElementRef"]();
  const menuRef = _misc_hooks__WEBPACK_IMPORTED_MODULE_5__["useElementRef"]();

  function setExpandDirectory(file, state) {
    const newExpandedKeys = [...expandedKeys];
    const index = newExpandedKeys.indexOf(file.path);

    if (state === null) {
      // toggle
      if (index === -1) newExpandedKeys.push(file.path);else newExpandedKeys.splice(index, 1);
    } else {
      // set/reset
      // eslint-disable-next-line no-lonely-if
      if (index === -1 && state) newExpandedKeys.push(file.path);else if (index !== -1 && !state) newExpandedKeys.splice(index, 1);
    }

    onUpdate({
      expandedKeys: newExpandedKeys
    });
  }

  function handleFileClick(event, file) {
    setSelectedKeys([file.path]);
    event.preventDefault();
  }

  function handleFileRightClick(event, file) {
    setSelectedKeys([file.path]); // eslint-disable-next-line no-throw-literal

    if (menuRef.current === null) throw 'ref is null';
    menuRef.current.show({
      left: event.clientX - 2,
      top: event.clientY - 4
    }, file);
    event.preventDefault();
  }

  function handleFileDoubleClick(event, file) {
    setSelectedKeys([file.path]);
    if (file.file.isDirectory()) setExpandDirectory(file, null);else onFileAction({
      action: 'OPEN',
      file
    });
    event.preventDefault();
  }

  function handleFileKeyDown(event, file) {
    // we don't handle any of these
    if (event.altKey || event.ctrlKey || event.metaKey || event.shiftKey || event.isComposing) return;
    if (file.file.isDirectory()) switch (event.key) {
      case 'ArrowLeft':
        setExpandDirectory(file, false);
        event.preventDefault();
        break;

      case 'ArrowRight':
        setExpandDirectory(file, true);
        event.preventDefault();
        break;

      case ' ':
      case 'Enter':
        setExpandDirectory(file, null);
        event.preventDefault();
        break;

      default:
    } else switch (event.key) {
      case ' ':
      case 'Enter':
        onFileAction({
          action: 'OPEN',
          file
        });
        event.preventDefault();
        break;

      default:
    }
  }

  function handleFileDrop({
    dragNode,
    node,
    dropToGap
  }) {
    const file = {
      path: dragNode.props.eventKey,
      file: dragNode.props.file
    };
    let destDirPath = node.props.eventKey;

    if (dropToGap) {
      if (destDirPath === '.') return;
      destDirPath += '/..';
    }

    onFileAction({
      action: 'MOVE',
      file,
      destDirPath
    });
  }

  const effectiveFilter = filter !== null && filter !== void 0 ? filter : () => true;

  function renderChildren(path, children) {
    return children.filter(child => effectiveFilter(path, child)).map(child => // eslint-disable-next-line no-use-before-define
    renderNode(`${path}/${child.name}`, child));
  }

  function renderNode(path, file) {
    const isLeaf = !file.isDirectory();
    const isExpanded = expandedKeys.includes(path);

    const TheIcon = (() => {
      if (isLeaf) {
        if (path === './.metadata/layout') return _misc_palette__WEBPACK_IMPORTED_MODULE_4__["MetadataLayoutIcon"];
        if (path === './.metadata/simulator') return _misc_palette__WEBPACK_IMPORTED_MODULE_4__["MetadataSimulatorIcon"];
        if (path === './.metadata/toolbox') return _misc_palette__WEBPACK_IMPORTED_MODULE_4__["MetadataToolboxIcon"];
        if (path.startsWith('./.metadata/plugins/') && file.name.endsWith('.js')) return _misc_palette__WEBPACK_IMPORTED_MODULE_4__["MetadataPluginsIcon"];
        if (file.name.endsWith('.blockly')) return _misc_palette__WEBPACK_IMPORTED_MODULE_4__["LanguageBlocklyIcon"];
        if (file.name.endsWith('.js')) return _misc_palette__WEBPACK_IMPORTED_MODULE_4__["LanguageJavascriptIcon"];
        if (file.name.endsWith('.py')) return _misc_palette__WEBPACK_IMPORTED_MODULE_4__["LanguagePythonIcon"];
        if (file.name.endsWith('.png') || file.name.endsWith('.jpg') || file.name.endsWith('.svg')) return _misc_palette__WEBPACK_IMPORTED_MODULE_4__["ImageFileIcon"];
        if (file.name.endsWith('.md')) return _misc_palette__WEBPACK_IMPORTED_MODULE_4__["MarkdownFileIcon"];
        if (file.name.endsWith('.pdf')) return _misc_palette__WEBPACK_IMPORTED_MODULE_4__["PdfFileIcon"];
        return _misc_palette__WEBPACK_IMPORTED_MODULE_4__["FileIcon"];
      } else {
        if (isExpanded) return _misc_palette__WEBPACK_IMPORTED_MODULE_4__["FolderOpenIcon"];
        if (path === './.metadata/assets') return _misc_palette__WEBPACK_IMPORTED_MODULE_4__["MetadataAssetsIcon"];
        return _misc_palette__WEBPACK_IMPORTED_MODULE_4__["FolderIcon"];
      }
    })();

    const attrs = {
      key: path,
      isLeaf,
      title:
      /*#__PURE__*/
      // TODO figure out accessibility
      react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", {
        onClick: e => handleFileClick(e, {
          path,
          file
        }),
        onContextMenu: e => handleFileRightClick(e, {
          path,
          file
        }),
        onDoubleClick: e => handleFileDoubleClick(e, {
          path,
          file
        }),
        onKeyDown: e => handleFileKeyDown(e, {
          path,
          file
        }),
        role: "treeitem",
        tabIndex: "0",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 237,
          columnNumber: 9
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](TheIcon, {
        className: _FileTree_scss__WEBPACK_IMPORTED_MODULE_6___default.a.fileIcon,
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 245,
          columnNumber: 11
        }
      }), file.name),
      file
    };

    if (isLeaf) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](rc_tree__WEBPACK_IMPORTED_MODULE_2__["TreeNode"], _extends({}, attrs, {
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 253,
          columnNumber: 14
        }
      }));
    } else {
      // $FlowExpectError
      const dir = file;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](rc_tree__WEBPACK_IMPORTED_MODULE_2__["TreeNode"], _extends({}, attrs, {
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 257,
          columnNumber: 14
        }
      }), renderChildren(path, dir.contents));
    }
  }

  isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1___default()(rc_tree_assets_index_css__WEBPACK_IMPORTED_MODULE_3___default.a);
  isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1___default()(_FileTree_scss__WEBPACK_IMPORTED_MODULE_6___default.a);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    ref: rootDivRef,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 264,
      columnNumber: 5
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](rc_tree__WEBPACK_IMPORTED_MODULE_2___default.a, {
    className: "file-tree",
    showLine: true,
    showIcon: false,
    checkable: false,
    selectable: true,
    draggable: true,
    expandedKeys: expandedKeys,
    onExpand: // eslint-disable-next-line no-shadow
    expandedKeys => onUpdate({
      expandedKeys
    }),
    selectedKeys: selectedKeys,
    onDrop: handleFileDrop,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 265,
      columnNumber: 7
    }
  }, renderNode('.', files)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_FileMenu__WEBPACK_IMPORTED_MODULE_7__["default"], {
    ref: menuRef,
    onFileAction: onFileAction,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 282,
      columnNumber: 7
    }
  }));
}

/* harmony default export */ __webpack_exports__["default"] = (FileTree);

/***/ }),

/***/ "./src/components/ide/FileTree/FileTree.scss":
/***/ (function(module, exports, __webpack_require__) {


    var refs = 0;
    var css = __webpack_require__("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/FileTree/FileTree.scss");
    var insertCss = __webpack_require__("./node_modules/isomorphic-style-loader/insertCss.js");
    var content = typeof css === 'string' ? [[module.i, css, '']] : css;

    exports = module.exports = css.locals || {};
    exports._getContent = function() { return content; };
    exports._getCss = function() { return '' + css; };
    exports._insertCss = function(options) { return insertCss(content, options) };

    // Hot Module Replacement
    // https://webpack.github.io/docs/hot-module-replacement
    // Only activated in browser context
    if ( true && typeof window !== 'undefined' && window.document) {
      var removeCss = function() {};
      module.hot.accept("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/FileTree/FileTree.scss", function() {
        css = __webpack_require__("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/FileTree/FileTree.scss");
        content = typeof css === 'string' ? [[module.i, css, '']] : css;
        removeCss = insertCss(content, { replace: true });
      });
      module.hot.dispose(function() { removeCss(); });
    }
  

/***/ }),

/***/ "./src/components/ide/FileTree/FileUpload.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/FileTree/FileUpload.js";

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



class FileUpload extends react__WEBPACK_IMPORTED_MODULE_0__["Component"] {
  constructor(...args) {
    super(...args);

    _defineProperty(this, "inputRef", react__WEBPACK_IMPORTED_MODULE_0__["createRef"]());
  }

  async show() {
    return (
      /* await */
      new Promise((resolve, reject) => {
        // eslint-disable-next-line no-throw-literal
        if (this.inputRef.current === null) throw 'ref is null';
        this.inputRef.current.value = '';
        this.inputRef.current.click();
        window.addEventListener('focus', () => {
          // wait a few millis, because at least in FF
          // the onFocus happens before the file change...
          setTimeout(() => {
            if (this.inputRef.current === null) {
              // eslint-disable-next-line prefer-promise-reject-errors
              reject('ref is null');
              return;
            }

            resolve(this.inputRef.current.files);
          }, 50);
        }, {
          once: true
        });
      })
    );
  }

  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("input", {
      ref: this.inputRef,
      type: "file",
      style: {
        display: 'none'
      },
      "aria-hidden": true,
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 40,
        columnNumber: 12
      }
    });
  }

}

/* harmony default export */ __webpack_exports__["default"] = (FileUpload);

/***/ }),

/***/ "./src/components/ide/FileTree/useCreateFileDialog.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return useCreateFileDialog; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("react-intl");
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("@material-ui/core/TextField");
/* harmony import */ var _material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _misc_SimpleDialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/components/misc/SimpleDialog.js");
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/FileTree/useCreateFileDialog.js";

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }





const messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_1__["defineMessages"])({
  title: {
    "id": "app.ide.create_file_dialog.title",
    "defaultMessage": "Create new {type, select, FILE {file} DIRECTORY {folder}}"
  },
  description: {
    "id": "app.ide.create_file_dialog.description",
    "defaultMessage": "Please enter the new {type, select, FILE {file's} DIRECTORY {folder's}} name."
  }
});
function useCreateFileDialog(onCreate) {
  var _config$desc;

  const [open, setOpen] = react__WEBPACK_IMPORTED_MODULE_0__["useState"](false);
  const [config, setConfig] = react__WEBPACK_IMPORTED_MODULE_0__["useState"](null);
  const [newFileName, setNewFileName] = react__WEBPACK_IMPORTED_MODULE_0__["useState"]('');

  function show(parentDir, desc) {
    setOpen(true);
    setConfig({
      parentDir,
      desc
    });
    setNewFileName('');
  }

  function onCancel() {
    setOpen(false);
  }

  function onChange(event) {
    const name = event.target.value;
    const nameClean = name.replace(/[^-\w#$%().,:; ]/g, '');
    setNewFileName(nameClean);
  }

  const [fileNameState, setFileNameState] = react__WEBPACK_IMPORTED_MODULE_0__["useState"]({
    actualNewFileName: '',
    valid: false
  });
  react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](() => {
    if (config === null) return;
    const {
      parentDir,
      desc
    } = config;
    const actualNewFileName = desc.type === 'DIRECTORY' || newFileName.endsWith(desc.extension) ? newFileName : `${newFileName}${desc.extension}`;
    const valid = newFileName !== '' && parentDir.file.contents.every(f => f.name !== actualNewFileName);
    setFileNameState({
      actualNewFileName,
      valid
    });
  }, [config, newFileName]);

  async function onConfirm() {
    // eslint-disable-next-line no-throw-literal
    if (!open) throw 'dialog is not shown'; // eslint-disable-next-line no-throw-literal

    if (config === null) throw 'unreachable';
    const {
      parentDir,
      desc
    } = config;
    const {
      actualNewFileName
    } = fileNameState;
    const success = await onCreate(parentDir, actualNewFileName, desc.type);

    if (success) {
      setOpen(false);
    }
  }

  const desc = (_config$desc = config === null || config === void 0 ? void 0 : config.desc) !== null && _config$desc !== void 0 ? _config$desc : {
    type: 'DIRECTORY'
  };
  const {
    type
  } = desc;
  const {
    valid
  } = fileNameState;
  const placeholder = desc.type === 'FILE' ? `file${desc.extension}` : 'folder';
  return {
    show,

    mountSimpleDialog() {
      return {
        open,
        valid,
        title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_intl__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"], _extends({}, messages.title, {
          values: {
            type
          },
          __self: this,
          __source: {
            fileName: _jsxFileName,
            lineNumber: 126,
            columnNumber: 16
          }
        })),
        description: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_intl__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"], _extends({}, messages.description, {
          values: {
            type
          },
          __self: this,
          __source: {
            fileName: _jsxFileName,
            lineNumber: 127,
            columnNumber: 22
          }
        })),
        actions: 'OK_CANCEL',
        onCancel,
        onConfirm,
        children: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_2___default.a, {
          autoFocus: true,
          margin: "dense",
          id: "name",
          label: placeholder,
          type: "text",
          value: newFileName,
          onChange: onChange,
          error: !valid,
          fullWidth: true,
          __self: this,
          __source: {
            fileName: _jsxFileName,
            lineNumber: 132,
            columnNumber: 11
          }
        })
      };
    }

  };
}

/***/ }),

/***/ "./src/components/ide/FileTree/useDeleteFileDialog.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return useDeleteFileDialog; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("react-intl");
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _misc_SimpleDialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/components/misc/SimpleDialog.js");
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/FileTree/useDeleteFileDialog.js";

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }




const messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_1__["defineMessages"])({
  title: {
    "id": "app.ide.delete_file_dialog.title",
    "defaultMessage": "Confirm deletion"
  },
  description: {
    "id": "app.ide.delete_file_dialog.description",
    "defaultMessage": "Are you sure you want to delete {type, select, FILE {file} DIRECTORY {folder}} \"{name}\"?"
  }
});
function useDeleteFileDialog(onDelete) {
  var _file$name, _file$isDirectory;

  const [open, setOpen] = react__WEBPACK_IMPORTED_MODULE_0__["useState"](false);
  const [config, setConfig] = react__WEBPACK_IMPORTED_MODULE_0__["useState"](null);

  function show(file) {
    setOpen(true);
    setConfig({
      file
    });
  }

  function onCancel() {
    setOpen(false);
  }

  async function onConfirm() {
    // eslint-disable-next-line no-throw-literal
    if (!open) throw 'dialog is not shown'; // eslint-disable-next-line no-throw-literal

    if (config === null) throw 'unreachable';
    const {
      file
    } = config; // whether the deletion succeeded or not, we want to hide the dialog.
    // Thus, ignore the result of onDelete

    await onDelete(file); // we don't set the file to null because that results in a display glitch:
    // the hide animation will leave the file name visible for a split second

    setOpen(false);
  }

  const file = config === null || config === void 0 ? void 0 : config.file.file;
  const name = (_file$name = file === null || file === void 0 ? void 0 : file.name) !== null && _file$name !== void 0 ? _file$name : '';
  const type = ((_file$isDirectory = file === null || file === void 0 ? void 0 : file.isDirectory()) !== null && _file$isDirectory !== void 0 ? _file$isDirectory : false) ? 'DIRECTORY' : 'FILE';
  return {
    show,

    mountSimpleDialog() {
      return {
        open,
        valid: true,
        title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_intl__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"], _extends({}, messages.title, {
          __self: this,
          __source: {
            fileName: _jsxFileName,
            lineNumber: 86,
            columnNumber: 16
          }
        })),
        description: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_intl__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"], _extends({}, messages.description, {
          values: {
            type,
            name
          },
          __self: this,
          __source: {
            fileName: _jsxFileName,
            lineNumber: 87,
            columnNumber: 22
          }
        })),
        actions: 'OK_autofocus_CANCEL',
        onCancel,
        onConfirm
      };
    }

  };
}

/***/ }),

/***/ "./src/components/ide/FileTree/useFileDownload.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return useFileDownload; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _misc_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/components/misc/hooks/index.js");

 // this type has all properties that are generated by mountLink()

function useFileDownload() {
  const [config, setConfig] = react__WEBPACK_IMPORTED_MODULE_0__["useState"](null);
  const linkRef = _misc_hooks__WEBPACK_IMPORTED_MODULE_1__["useElementRef"](); // after setting the config, show the download window
  // whenever the config is changed, revoke the old objectURL

  react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](() => {
    if (config === null) return undefined; // eslint-disable-next-line no-throw-literal

    if (linkRef.current === null) throw 'ref is null'; // by the time the effect is called, it should have the current objectURL
    // eslint-disable-next-line no-throw-literal

    if (linkRef.current.href !== config.objectURL) throw 'unreachable';
    linkRef.current.click();
    return () => {
      URL.revokeObjectURL(config.objectURL);
    };
  }, [config, linkRef]);

  function show(name, content) {
    const objectURL = URL.createObjectURL(new Blob([content]));
    setConfig({
      name,
      objectURL
    });
  }

  return {
    show,

    mountLink() {
      return {
        ref: linkRef,
        href: config === null || config === void 0 ? void 0 : config.objectURL,
        download: config === null || config === void 0 ? void 0 : config.name,
        style: {
          display: 'none'
        },
        'aria-hidden': true
      };
    }

  };
}

/***/ }),

/***/ "./src/components/ide/FileTree/useRenameFileDialog.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return useRenameFileDialog; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("react-intl");
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("@material-ui/core/TextField");
/* harmony import */ var _material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _misc_SimpleDialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/components/misc/SimpleDialog.js");
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/FileTree/useRenameFileDialog.js";

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }





const messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_1__["defineMessages"])({
  title: {
    "id": "app.ide.rename_file_dialog.title",
    "defaultMessage": "Rename {type, select, FILE {file} DIRECTORY {folder}}"
  },
  description: {
    "id": "app.ide.rename_file_dialog.description",
    "defaultMessage": "Please enter the {type, select, FILE {file's} DIRECTORY {folder's}} new name."
  }
});
function useRenameFileDialog(onRename) {
  var _config$file$file$isD, _config$siblingNames;

  const [open, setOpen] = react__WEBPACK_IMPORTED_MODULE_0__["useState"](false);
  const [config, setConfig] = react__WEBPACK_IMPORTED_MODULE_0__["useState"](null);
  const [newFileName, setNewFileName] = react__WEBPACK_IMPORTED_MODULE_0__["useState"]('');

  function show(file, siblingNames) {
    setOpen(true);
    setConfig({
      file,
      siblingNames
    });
    setNewFileName(file.file.name);
  }

  function onCancel() {
    setOpen(false);
  }

  function onChange(event) {
    const name = event.target.value;
    const nameClean = name.replace(/[^-\w#$%().,:; ]/g, '');
    setNewFileName(nameClean);
  }

  async function onConfirm() {
    // eslint-disable-next-line no-throw-literal
    if (!open) throw 'dialog is not shown'; // eslint-disable-next-line no-throw-literal

    if (config === null) throw 'unreachable';
    const {
      file
    } = config;
    const success = await onRename(file, newFileName);

    if (success) {
      setOpen(false);
    }
  }

  const type = ((_config$file$file$isD = config === null || config === void 0 ? void 0 : config.file.file.isDirectory()) !== null && _config$file$file$isD !== void 0 ? _config$file$file$isD : false) ? 'DIRECTORY' : 'FILE';
  const siblingNames = (_config$siblingNames = config === null || config === void 0 ? void 0 : config.siblingNames) !== null && _config$siblingNames !== void 0 ? _config$siblingNames : [];
  const valid = newFileName !== '' && siblingNames.every(name => name !== newFileName);
  return {
    show,

    mountSimpleDialog() {
      return {
        open,
        valid,
        title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_intl__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"], _extends({}, messages.title, {
          values: {
            type
          },
          __self: this,
          __source: {
            fileName: _jsxFileName,
            lineNumber: 93,
            columnNumber: 16
          }
        })),
        description: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_intl__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"], _extends({}, messages.description, {
          values: {
            type
          },
          __self: this,
          __source: {
            fileName: _jsxFileName,
            lineNumber: 94,
            columnNumber: 22
          }
        })),
        actions: 'OK_CANCEL',
        onCancel,
        onConfirm,
        children: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_2___default.a, {
          autoFocus: true,
          margin: "dense",
          id: "name",
          type: "text",
          value: newFileName,
          onChange: onChange,
          error: !valid,
          fullWidth: true,
          __self: this,
          __source: {
            fileName: _jsxFileName,
            lineNumber: 99,
            columnNumber: 11
          }
        })
      };
    }

  };
}

/***/ }),

/***/ "./src/components/ide/Ide/Ide.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("isomorphic-style-loader/useStyles");
/* harmony import */ var isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("@material-ui/styles");
/* harmony import */ var _material_ui_styles__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_material_ui_styles__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("react-intl");
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _material_ui_core_Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("@material-ui/core/Button");
/* harmony import */ var _material_ui_core_Button__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("@material-ui/core/Grid");
/* harmony import */ var _material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _material_ui_core_Menu__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("@material-ui/core/Menu");
/* harmony import */ var _material_ui_core_Menu__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_Menu__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("@material-ui/core/Paper");
/* harmony import */ var _material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("@material-ui/core/IconButton");
/* harmony import */ var _material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("@material-ui/core/Tooltip");
/* harmony import */ var _material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var material_ui_popup_state_hooks__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("material-ui-popup-state/hooks");
/* harmony import */ var material_ui_popup_state_hooks__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(material_ui_popup_state_hooks__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var filer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("filer");
/* harmony import */ var filer__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(filer__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var flexlayout_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("flexlayout-react");
/* harmony import */ var flexlayout_react__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(flexlayout_react__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _flex_layout_ide_css__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/components/ide/Ide/flex_layout_ide.css");
/* harmony import */ var _flex_layout_ide_css__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_flex_layout_ide_css__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _misc_palette__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/components/misc/palette.js");
/* harmony import */ var _misc_hooks__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/components/misc/hooks/index.js");
/* harmony import */ var _misc_SimpleDialog__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./src/components/misc/SimpleDialog.js");
/* harmony import */ var _Console__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./src/components/ide/Console/Console.js");
/* harmony import */ var _Editor__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./src/components/ide/Editor/Editor.js");
/* harmony import */ var _FileTree__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("./src/components/ide/FileTree/FileTree.js");
/* harmony import */ var _Markdown__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("./src/components/ide/Markdown/Markdown.js");
/* harmony import */ var _IframeViewer__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("./src/components/ide/IframeViewer/IframeViewer.js");
/* harmony import */ var _Simulator__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("./src/components/ide/Simulator/Simulator.js");
/* harmony import */ var _SimulatorEditor__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("./src/components/ide/SimulatorEditor/SimulatorEditor.js");
/* harmony import */ var _VisualEditor__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__("./src/components/ide/VisualEditor/VisualEditor.js");
/* harmony import */ var _Simulator_simulation__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__("./src/components/ide/Simulator/simulation/index.js");
/* harmony import */ var _core_store_projects__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__("./src/core/store/projects.js");
/* harmony import */ var _FileTree_useCreateFileDialog__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__("./src/components/ide/FileTree/useCreateFileDialog.js");
/* harmony import */ var _FileTree_useRenameFileDialog__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__("./src/components/ide/FileTree/useRenameFileDialog.js");
/* harmony import */ var _FileTree_useDeleteFileDialog__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__("./src/components/ide/FileTree/useDeleteFileDialog.js");
/* harmony import */ var _FileTree_FileUpload__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__("./src/components/ide/FileTree/FileUpload.js");
/* harmony import */ var _FileTree_useFileDownload__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__("./src/components/ide/FileTree/useFileDownload.js");
/* harmony import */ var _Executor__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__("./src/components/ide/Executor/Executor.js");
/* harmony import */ var _sdk_misc__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__("./src/sdk/misc.js");
/* harmony import */ var _sdk_hedgehog__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__("./src/sdk/hedgehog.js");
/* harmony import */ var _sdk_PluginManager__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__("./src/sdk/PluginManager.js");
/* harmony import */ var _useProjectInfo__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__("./src/components/ide/Ide/useProjectInfo.js");
/* harmony import */ var _useProjectCache__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__("./src/components/ide/Ide/useProjectCache.js");
/* harmony import */ var _usePersistentState__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__("./src/components/ide/Ide/usePersistentState.js");
/* harmony import */ var _useLayoutModel__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__("./src/components/ide/Ide/useLayoutModel.js");
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/Ide/Ide.js";

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }













 // eslint-disable-next-line css-modules/no-unused-class




























const messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_3__["defineMessages"])({
  simulatorTooltip: {
    "id": "app.ide.toolbar.simulator_tooltip",
    "defaultMessage": "Simulator"
  },
  consoleTooltip: {
    "id": "app.ide.toolbar.console_tooltip",
    "defaultMessage": "Console"
  },
  restoreLayoutTooltip: {
    "id": "app.ide.toolbar.restore_layout_tooltip",
    "defaultMessage": "Restore layout"
  },
  projectSettingsTooltip: {
    "id": "app.ide.toolbar.project_settings_tooltip",
    "defaultMessage": "Project settings"
  },
  showHideMetadata: {
    "id": "app.ide.toolbar.project_settings.show_hide_metadata",
    "defaultMessage": "{action, select, SHOW {Show} HIDE {Hide}} Metadata"
  },
  createMetadata: {
    "id": "app.ide.toolbar.project_settings.create_metadata",
    "defaultMessage": "Create Metadata folder"
  }
});
const sh = new filer__WEBPACK_IMPORTED_MODULE_11__["fs"].Shell();
const SquarePaper = react__WEBPACK_IMPORTED_MODULE_0__["forwardRef"]((props, ref) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_7___default.a, _extends({
  ref: ref,
  square: true
}, props, {
  __self: undefined,
  __source: {
    fileName: _jsxFileName,
    lineNumber: 106,
    columnNumber: 19
  }
})));
const useStylesMaterial = Object(_material_ui_styles__WEBPACK_IMPORTED_MODULE_2__["makeStyles"])(theme => ({
  root: {
    boxSizing: 'border-box',
    height: '100%'
  },
  navToolbar: {
    padding: theme.spacing(1),
    paddingBottom: 0
  },
  editorContainer: {
    flex: '1 auto',
    position: 'relative'
  }
}));

/**
 * The main view of the Hedgehog IDE.
 *
 * This component combines managing of transient (what programs are running etc.)
 * and persisted (what files are open etc.) state
 * with UI for all the usual parts of an IDE: a file tree, a surface for file tabs,
 * and in this case a console along with a simulation environment.
 */
function Ide({
  projectName
}) {
  var _project$uid, _state$layoutState, _projectCache$simulat, _projectCache$assets, _projectCache$layoutJ;

  const project = Object(_useProjectInfo__WEBPACK_IMPORTED_MODULE_36__["default"])(projectName);
  const [pluginsLoaded, setPluginsLoaded] = react__WEBPACK_IMPORTED_MODULE_0__["useState"](false);
  const [running, setRunning] = react__WEBPACK_IMPORTED_MODULE_0__["useState"](false);
  const [projectCache, refreshProject] = Object(_useProjectCache__WEBPACK_IMPORTED_MODULE_37__["default"])(project);
  const [state, dispatch] = Object(_usePersistentState__WEBPACK_IMPORTED_MODULE_38__["default"])((_project$uid = project === null || project === void 0 ? void 0 : project.uid) !== null && _project$uid !== void 0 ? _project$uid : null);
  const consoleRef = _misc_hooks__WEBPACK_IMPORTED_MODULE_15__["useElementRef"]();
  const simulatorRef = _misc_hooks__WEBPACK_IMPORTED_MODULE_15__["useElementRef"]();
  const executorRef = _misc_hooks__WEBPACK_IMPORTED_MODULE_15__["useElementRef"]();
  const fileUploadRef = _misc_hooks__WEBPACK_IMPORTED_MODULE_15__["useElementRef"]();
  const pluginManagerRef = react__WEBPACK_IMPORTED_MODULE_0__["useRef"](null);
  let initialLayoutState = (_state$layoutState = state === null || state === void 0 ? void 0 : state.layoutState) !== null && _state$layoutState !== void 0 ? _state$layoutState : null;

  if (initialLayoutState === _useLayoutModel__WEBPACK_IMPORTED_MODULE_39__["DEFAULT_LAYOUT_STATE"]) {
    if (projectCache === null) {
      // delay creation of the layout model until the cache is ready
      initialLayoutState = null;
    } else if (projectCache.layoutJson !== null) {
      // use the stored layout instead of the default layout
      initialLayoutState = JSON.parse(projectCache.layoutJson);
    } // fallthrough: no stored layout, just use the default layout

  }

  const [layoutModel, setLayoutState, layoutProps] = Object(_useLayoutModel__WEBPACK_IMPORTED_MODULE_39__["default"])(initialLayoutState, layoutState => {
    dispatch({
      type: 'LAYOUT',
      layoutState
    });
  }); // create new plugin manager when ready, but only once

  async function initializePluginManager() {
    if (project === null || layoutModel === null || executorRef.current === null || pluginsLoaded) return;
    const pluginManager = new _sdk_PluginManager__WEBPACK_IMPORTED_MODULE_35__["default"](executorRef.current, print, getInput, getSimulation);
    await pluginManager.initSdk();
    await pluginManager.loadFromProjectMetadata(project);
    pluginManagerRef.current = pluginManager;
    setPluginsLoaded(true);
  }

  react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](() => {
    initializePluginManager();
  }, [project, layoutModel, pluginsLoaded]); // uses useCallback because otherwise each render resets the ref.
  // (the ref could be registered with a new callback,
  // so the callback needs to be stable)

  const attachExecutor = react__WEBPACK_IMPORTED_MODULE_0__["useCallback"](executor => {
    executorRef.current = executor;
    initializePluginManager();
  }, [executorRef, project, layoutModel, pluginsLoaded]); // load the project's simulator config if it or the simulator changes

  const simulatorXml = (_projectCache$simulat = projectCache === null || projectCache === void 0 ? void 0 : projectCache.simulatorXml) !== null && _projectCache$simulat !== void 0 ? _projectCache$simulat : null;
  const assets = (_projectCache$assets = projectCache === null || projectCache === void 0 ? void 0 : projectCache.assets) !== null && _projectCache$assets !== void 0 ? _projectCache$assets : null;

  function refreshSimulatorFromConfig(config) {
    if (simulatorRef.current === null || config === null || assets === null) return;
    simulatorRef.current.simulation.jsonInit(config, assets);
  }

  function refreshSimulator() {
    if (simulatorXml === null) return;
    const config = Object(_SimulatorEditor__WEBPACK_IMPORTED_MODULE_23__["generateConfigFromXml"])(simulatorXml);
    refreshSimulatorFromConfig(config);
  }

  react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](() => {
    refreshSimulator();
  }, [simulatorXml, assets]); // uses useCallback because otherwise each render resets the ref.
  // (the ref could be registered with a new callback,
  // so the callback needs to be stable)

  const attachSimulator = react__WEBPACK_IMPORTED_MODULE_0__["useCallback"](sim => {
    simulatorRef.current = sim;
    refreshSimulator();
  }, [simulatorRef, simulatorXml]);

  function getFile(path) {
    // eslint-disable-next-line no-throw-literal
    if (projectCache === null) throw 'unreachable';

    const fragments = (() => {
      // the root path is the one path where a trailing slash is correct.
      // however, this confuses our use of `split`, so handle it as a special case
      if (path === './') return [];
      const [_root, ...fragments] = path.split('/');
      return fragments;
    })();

    const file = Object(_core_store_projects__WEBPACK_IMPORTED_MODULE_26__["getDescendant"])(projectCache.files, ...fragments);
    return {
      path,
      file
    };
  }

  function getNodes() {
    // eslint-disable-next-line no-throw-literal
    if (layoutModel === null) throw 'layoutModel is null';
    const nodes = {};
    layoutModel.visitNodes(node => {
      nodes[node.getId()] = node;
    });
    return nodes;
  }

  function openOrFocusTab(nodeJson, options) {
    // eslint-disable-next-line no-throw-literal
    if (layoutModel === null) throw 'layoutModel is null';
    const {
      id
    } = nodeJson;
    const nodes = getNodes();

    if (id in nodes) {
      // eslint-disable-next-line no-throw-literal
      if (nodes[id].getType() !== 'tab') throw `'${id}' is not a tab`; // the tab exists, select it

      layoutModel.doAction(flexlayout_react__WEBPACK_IMPORTED_MODULE_12___default.a.Actions.selectTab(id));
    } else {
      // create the tab.
      const {
        location,
        alwaysNewTabset
      } = {
        location: flexlayout_react__WEBPACK_IMPORTED_MODULE_12___default.a.DockLocation.RIGHT,
        alwaysNewTabset: false,
        ...(options !== null && options !== void 0 ? options : {})
      };
      let targetTabset;

      if (alwaysNewTabset) {
        targetTabset = null;
      } else {
        // what's the active tabset?
        const active = layoutModel.getActiveTabset(); // the active tabset may be undefined or a tabset that was already removed, handle that

        if (active !== undefined && active.getId() in nodes && nodes[active.getId()].getType() === 'tabset') {
          targetTabset = active;
        } else {
          targetTabset = null;
        }
      }

      if (targetTabset !== null) {
        // there's a target tabset; put the new tab there
        layoutModel.doAction(flexlayout_react__WEBPACK_IMPORTED_MODULE_12___default.a.Actions.addNode(nodeJson, targetTabset.getId(), flexlayout_react__WEBPACK_IMPORTED_MODULE_12___default.a.DockLocation.CENTER, -1));
      } else {
        // put the new tab into the root tabset, at the preferred location.
        layoutModel.doAction(flexlayout_react__WEBPACK_IMPORTED_MODULE_12___default.a.Actions.addNode(nodeJson, layoutModel.getRoot().getId(), location, -1));
      }
    }
  }

  function closeTabsForFile(file) {
    // eslint-disable-next-line no-throw-literal
    if (layoutModel === null) throw 'layoutModel is null'; // list all file paths below the given file/directory

    const pathsToClose = [];

    function listPaths(current) {
      if (current.file.isDirectory()) {
        // $FlowExpectError
        const dir = current;
        dir.file.contents.forEach(child => listPaths({
          path: `${dir.path}/${child.name}`,
          file: child
        }));
      } else {
        pathsToClose.push(current.path);
      }
    }

    listPaths(file); // close those paths that are open

    const nodes = getNodes();
    pathsToClose.forEach(path => {
      if (path in nodes) {
        layoutModel.doAction(flexlayout_react__WEBPACK_IMPORTED_MODULE_12___default.a.Actions.deleteTab(path));
      }
    });
  }

  async function waitForSimulator() {
    return (
      /* await */
      new Promise(resolve => {
        function tryIt() {
          if (simulatorRef.current) {
            resolve(simulatorRef.current);
          } else {
            setTimeout(tryIt, 0);
          }
        }

        tryIt();
      })
    );
  }

  function addSimulator() {
    openOrFocusTab({
      id: 'sim',
      type: 'tab',
      component: 'simulator',
      name: 'Simulator'
    });
    waitForSimulator().then(s => {
      // eslint-disable-next-line no-throw-literal
      if (pluginManagerRef.current === null) throw 'ref is null'; // TODO this is the only place where simulationAdded is called,
      // and it usually only happens through getSimulation through one
      // of the SDKs, e.g. the Hedgehog SDK when controlling the robot.
      // That means for a significant portion of the IDEs life,
      // the plugin manager does not know about the simulator,
      // just because no SDK called getSimulation yet.
      // the whole waitForSimulator call could be avoided when the
      // simulator has already been open, *if* we corrected the
      // lifecycle and made sure the plugin manager is aware of the
      // simulator from the beginning.

      pluginManagerRef.current.simulationAdded(s.simulation);
    });
  }

  async function getSimulation() {
    addSimulator();
    return (await waitForSimulator()).simulation;
  }

  async function waitForConsole() {
    return (
      /* await */
      new Promise(resolve => {
        function tryIt() {
          if (consoleRef.current) {
            resolve(consoleRef.current);
          } else {
            setTimeout(tryIt, 0);
          }
        }

        tryIt();
      })
    );
  }

  function addConsole() {
    openOrFocusTab({
      id: 'console',
      type: 'tab',
      component: 'console',
      name: 'Console'
    }, {
      location: flexlayout_react__WEBPACK_IMPORTED_MODULE_12___default.a.DockLocation.BOTTOM,
      alwaysNewTabset: true
    });
  }

  async function print(text, stream) {
    addConsole();
    (await waitForConsole()).print(text, stream);
  }

  const inputResolveRef = react__WEBPACK_IMPORTED_MODULE_0__["useRef"](null);

  async function getInput() {
    if (inputResolveRef.current !== null) {
      return Promise.reject('there already is a pending input request');
    }

    return new Promise((resolve, _reject) => {
      inputResolveRef.current = resolve;
    });
  }

  async function handleConsoleInput(input) {
    const ideConsole = consoleRef.current; // eslint-disable-next-line no-throw-literal

    if (ideConsole === null) throw 'ref is null';

    if (inputResolveRef.current !== null) {
      inputResolveRef.current(input);
      inputResolveRef.current = null;
    } else if (input === '/c' || input === '/clear') {
      ideConsole.clear();
    }
  }

  async function handleExecute(code) {
    const executor = executorRef.current; // eslint-disable-next-line no-throw-literal

    if (executor === null) throw 'ref is null';
    const pluginManager = pluginManagerRef.current; // eslint-disable-next-line no-throw-literal

    if (pluginManager === null) throw 'ref is null';
    const sdk = {
      misc: await Object(_sdk_misc__WEBPACK_IMPORTED_MODULE_33__["default"])({
        print,
        getInput,
        onExit: handleTerminate,
        pluginManager,
        executor
      }),
      hedgehog: await Object(_sdk_hedgehog__WEBPACK_IMPORTED_MODULE_34__["default"])({
        getSimulation
      })
    };
    executor.addTask({
      // just some key that is unlikely to collide with a plugin
      // plugins are looked up by the .js file extension, so this should be safe
      name: '$user-program',
      code,
      api: { ...sdk.misc.handlers,
        ...sdk.hedgehog.handlers
      }
    });
    setRunning(true);
    pluginManager.getSdk().misc.emit(executor, 'programExecute', null);
  }

  async function handleTerminate(error) {
    const executor = executorRef.current; // eslint-disable-next-line no-throw-literal

    if (executor === null) throw 'ref is null';
    const pluginManager = pluginManagerRef.current; // eslint-disable-next-line no-throw-literal

    if (pluginManager === null) throw 'ref is null';
    executor.removeTask('$user-program');
    setRunning(false);
    pluginManager.getSdk().misc.emit(executor, 'programTerminate', {
      error
    });
    const simulator = simulatorRef.current;

    if (simulator !== null) {
      for (const robot of simulator.simulation.robots.values()) {
        robot.controller.off();
      }
    }
  }

  function handleReset() {
    const simulator = simulatorRef.current; // eslint-disable-next-line no-throw-literal

    if (simulator === null) throw 'ref is null';
    const executor = executorRef.current; // eslint-disable-next-line no-throw-literal

    if (executor === null) throw 'ref is null';
    const pluginManager = pluginManagerRef.current; // eslint-disable-next-line no-throw-literal

    if (pluginManager === null) throw 'ref is null';
    simulator.simulation.reset();
    pluginManager.getSdk().misc.emit(executor, 'simulationReset', null);
  }

  async function handleExecutionAction(action) {
    switch (action.action) {
      case 'EXECUTE':
        {
          const {
            code
          } = action;
          await handleExecute(code);
          break;
        }

      case 'TERMINATE':
        {
          const {
            reset
          } = action;
          await handleTerminate();

          if (reset && simulatorRef.current !== null) {
            // TODO this is a workaround for the simulated robot
            // (and probably other objects) still moving after terminating
            await new Promise(resolve => setTimeout(resolve, 100));
            await handleReset();
          }

          break;
        }

      case 'RESET':
        {
          if (simulatorRef.current !== null) await handleReset();
          break;
        }

      default:
        // eslint-disable-next-line no-throw-literal
        throw 'unreachable';
    }
  } // this is a hack to be able to open new files


  const [createdPath, setCreatedPath] = react__WEBPACK_IMPORTED_MODULE_0__["useState"](null);
  react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](() => {
    if (createdPath === null) return;

    try {
      const file = getFile(createdPath);
      if (file.file.isFile()) handleFileAction({
        action: 'OPEN',
        file
      });
      setCreatedPath(null);
    } catch (_ex) {// will automatically try again when projectCache has been updated
    }
  }, [projectCache, createdPath]);

  async function confirmCreateFile(parentDir, name, type, content = '', overwriteIfExists = false) {
    // eslint-disable-next-line no-throw-literal
    if (project === null) throw 'unreachable';
    const path = project.resolve(parentDir.path, name); // check existence of the file/try creating the directory

    let isNew;

    if (type === 'FILE') {
      try {
        await filer__WEBPACK_IMPORTED_MODULE_11__["fs"].promises.stat(path);
        isNew = false;
      } catch (ex) {
        if (!(ex instanceof filer__WEBPACK_IMPORTED_MODULE_11___default.a.Errors.ENOENT)) {
          console.error(ex);
          throw ex;
        }

        isNew = true;
      }
    } else {
      try {
        await filer__WEBPACK_IMPORTED_MODULE_11__["fs"].promises.mkdir(path);
        isNew = true;
      } catch (ex) {
        if (!(ex instanceof filer__WEBPACK_IMPORTED_MODULE_11___default.a.Errors.EEXIST)) {
          console.error(ex);
          throw ex;
        }

        isNew = false;
      }
    }

    try {
      // directory was already created above, file needs to be created here
      if (type === 'FILE') {
        if (isNew || overwriteIfExists) {
          // create/update the file
          await filer__WEBPACK_IMPORTED_MODULE_11__["fs"].promises.writeFile(path, content, 'utf8');
        }
      } // no matter whether we actually created the file/directory, we want to
      // - refresh the project
      // - reveal the file
      // - TODO select the file in the file tree
      // - open the file


      await refreshProject();
      dispatch({
        type: 'EXPAND_DIRECTORY',
        path: parentDir.path
      }); // TODO select the file in the file tree

      setCreatedPath(`${parentDir.path}/${name}`);
      return isNew;
    } catch (ex) {
      console.error(ex);
      throw ex;
    }
  }

  const createFile = Object(_FileTree_useCreateFileDialog__WEBPACK_IMPORTED_MODULE_27__["default"])(confirmCreateFile);

  async function confirmRenameFile(file, newName) {
    // eslint-disable-next-line no-throw-literal
    if (project === null) throw 'unreachable';

    try {
      const path = project.resolve(file.path);
      const newPath = project.resolve(file.path, '..', newName);
      closeTabsForFile(file);
      await filer__WEBPACK_IMPORTED_MODULE_11__["fs"].promises.rename(path, newPath);
      await refreshProject();
      return true;
    } catch (ex) {
      if (ex instanceof filer__WEBPACK_IMPORTED_MODULE_11___default.a.Errors.EEXIST) {
        await refreshProject();
        return false;
      }

      if (ex instanceof filer__WEBPACK_IMPORTED_MODULE_11___default.a.Errors.ENOENT) {
        await refreshProject(); // close the dialog, the file is gone

        return true;
      }

      console.error(ex);
      throw ex;
    }
  }

  const renameFile = Object(_FileTree_useRenameFileDialog__WEBPACK_IMPORTED_MODULE_28__["default"])(confirmRenameFile);

  function beginRenameFile(file) {
    // split off the './' at the start and the file name at the end
    const path = file.path.split('/').slice(1, -1); // eslint-disable-next-line no-throw-literal

    if (projectCache === null) throw 'unreachable';
    const root = projectCache.files; // the project root is always a directory. assert and cast
    // eslint-disable-next-line no-throw-literal

    if (!root.isDirectory()) throw 'unreachable'; // $FlowExpectError

    let dir = root; // determine the files that are siblings of the event target

    path.forEach(fragment => {
      // right now `fragment` is a child of `dir`. look it up.
      const child = dir.contents.find(c => c.name === fragment); // the child is an ancestor of `file` and thus a directory. assert and cast
      // eslint-disable-next-line no-throw-literal

      if (child === undefined || !child.isDirectory()) throw 'unreachable'; // $FlowExpectError

      dir = child;
    });
    renameFile.show(file, dir.contents.map(f => f.name));
  }

  async function confirmDeleteFile(file) {
    // eslint-disable-next-line no-throw-literal
    if (project === null) throw 'unreachable';

    try {
      const path = project.resolve(file.path);
      closeTabsForFile(file);
      await sh.promises.rm(path, {
        recursive: true
      });
      await refreshProject();
      return true;
    } catch (ex) {
      if (ex instanceof filer__WEBPACK_IMPORTED_MODULE_11___default.a.Errors.EEXIST) {
        await refreshProject();
        return false;
      }

      if (ex instanceof filer__WEBPACK_IMPORTED_MODULE_11___default.a.Errors.ENOENT) {
        await refreshProject(); // close the dialog, the file is gone

        return true;
      }

      console.error(ex);
      throw ex;
    }
  }

  const deleteFile = Object(_FileTree_useDeleteFileDialog__WEBPACK_IMPORTED_MODULE_29__["default"])(confirmDeleteFile);

  async function moveFile(file, destDirPath) {
    // eslint-disable-next-line no-throw-literal
    if (project === null) throw 'unreachable';

    try {
      const path = project.resolve(file.path);
      const newPath = project.resolve(destDirPath, file.file.name);
      closeTabsForFile(file);
      await filer__WEBPACK_IMPORTED_MODULE_11__["fs"].promises.rename(path, newPath);
      await refreshProject();
      return true;
    } catch (ex) {
      if (ex instanceof filer__WEBPACK_IMPORTED_MODULE_11___default.a.Errors.EEXIST) {
        await refreshProject();
        return false;
      }

      if (ex instanceof filer__WEBPACK_IMPORTED_MODULE_11___default.a.Errors.ENOENT) {
        await refreshProject(); // close the dialog, the file is gone

        return true;
      }

      console.error(ex);
      throw ex;
    }
  }

  const fileDownload = Object(_FileTree_useFileDownload__WEBPACK_IMPORTED_MODULE_31__["default"])();

  async function downloadFile(file) {
    // eslint-disable-next-line no-throw-literal
    if (project === null) throw 'unreachable';
    const path = project.resolve(file.path);
    const content = await filer__WEBPACK_IMPORTED_MODULE_11__["fs"].promises.readFile(path, 'utf8');
    fileDownload.show(file.file.name, content);
  }

  async function uploadFiles(parentDir) {
    // eslint-disable-next-line no-throw-literal
    if (fileUploadRef.current === null) throw 'ref is null';
    const files = await fileUploadRef.current.show();
    if (files.length === 0) return; // eslint-disable-next-line no-throw-literal

    if (project === null) throw 'unreachable'; // TODO assumes there's exactly one file

    const file = files[0];

    try {
      const path = project.resolve(parentDir.path, file.name); // wrap into the augmented Node-style filer.Buffer object

      const buffer = filer__WEBPACK_IMPORTED_MODULE_11___default.a.Buffer.from(await file.arrayBuffer()); // TODO this overwrites files without warning

      await filer__WEBPACK_IMPORTED_MODULE_11__["fs"].promises.writeFile(path, buffer);
      await refreshProject();
    } catch (ex) {
      if (ex instanceof filer__WEBPACK_IMPORTED_MODULE_11___default.a.Errors.EEXIST) {
        await refreshProject();
        return;
      }

      console.error(ex);
      throw ex;
    }
  }

  function handleFileAction(action) {
    switch (action.action) {
      case 'CREATE':
        {
          const {
            parentDir,
            desc
          } = action;

          if (desc.type === 'METADATA') {
            if (parentDir.path === './.metadata' && desc.name === 'layout') {
              // eslint-disable-next-line no-throw-literal
              if (state === null) throw 'unreachable';
              const layoutJson = JSON.stringify(state.layoutState); // TODO this will not show the content in an already open file tab

              confirmCreateFile(parentDir, desc.name, desc.fileType, layoutJson, true);
            } else {
              confirmCreateFile(parentDir, desc.name, desc.fileType);
            }
          } else {
            createFile.show(parentDir, desc);
          }

          break;
        }

      case 'RENAME':
        {
          const {
            file
          } = action;
          beginRenameFile(file);
          break;
        }

      case 'DELETE':
        {
          const {
            file
          } = action;
          deleteFile.show(file);
          break;
        }

      case 'MOVE':
        {
          const {
            file,
            destDirPath
          } = action;
          moveFile(file, destDirPath);
          break;
        }

      case 'OPEN':
        {
          const {
            file: {
              path,
              file
            }
          } = action;

          const component = (() => {
            if (path === './.metadata/simulator') return 'simulator-editor'; // if (path === './.metadata/toolbox') return 'toolbox-editor';

            if (file.name.endsWith('.blockly')) return 'blockly';
            if (file.name.endsWith('.js')) return 'editor';
            if (file.name.endsWith('.md')) return 'markdown';
            if (file.name.endsWith('.pdf')) return 'iframe';
            if (file.name.endsWith('.png')) return 'iframe';
            if (file.name.endsWith('.jpg')) return 'iframe';
            return 'editor';
          })();

          openOrFocusTab({
            id: path,
            type: 'tab',
            component,
            name: file.name
          });
          break;
        }

      case 'DOWNLOAD':
        {
          const {
            file
          } = action;
          downloadFile(file);
          break;
        }

      case 'UPLOAD':
        {
          const {
            parentDir
          } = action;
          uploadFiles(parentDir);
          break;
        }

      default:
        // eslint-disable-next-line no-throw-literal
        throw 'unreachable';
    }
  }

  const projectSettingsPopupState = Object(material_ui_popup_state_hooks__WEBPACK_IMPORTED_MODULE_10__["usePopupState"])({
    variant: 'popover',
    popupId: 'project-controls-menu'
  });
  isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1___default()(_flex_layout_ide_css__WEBPACK_IMPORTED_MODULE_13___default.a);
  const classes = useStylesMaterial();
  if (project === null || projectCache === null || state === null) return null;
  const {
    fileTreeState,
    showMetadataFolder
  } = state;
  let hasMetadataFolder;

  try {
    getFile('./.metadata');
    hasMetadataFolder = true;
  } catch (_ex) {
    hasMetadataFolder = false;
  }

  function factory(node) {
    function bindEditorProps(path, editorType) {
      return { ...(() => {
          const editorStates = state.editorStates[path];
          const editorState = editorStates ? editorStates[editorType] : null;
          return editorState;
        })(),
        onUpdate: editorState => {
          const editorStates = {
            [editorType]: editorState
          };
          dispatch({
            type: 'SET_EDITOR_STATE',
            path,
            editorStates
          });
        }
      };
    }

    const id = node.getId();

    switch (node.getComponent()) {
      case 'editor':
        {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_Editor__WEBPACK_IMPORTED_MODULE_18__["default"], {
            layoutNode: node,
            project: project,
            path: id // {...bindEditorProps(id, 'editor')}
            ,
            onExecutionAction: handleExecutionAction,
            running: running,
            __self: this,
            __source: {
              fileName: _jsxFileName,
              lineNumber: 917,
              columnNumber: 11
            }
          });
        }

      case 'blockly':
        {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_VisualEditor__WEBPACK_IMPORTED_MODULE_24__["default"], _extends({
            layoutNode: node,
            project: project,
            path: id
          }, bindEditorProps(id, 'blockly'), {
            onExecutionAction: handleExecutionAction,
            running: running,
            __self: this,
            __source: {
              fileName: _jsxFileName,
              lineNumber: 929,
              columnNumber: 11
            }
          }));
        }

      case 'markdown':
        {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_Markdown__WEBPACK_IMPORTED_MODULE_20__["default"], _extends({
            layoutNode: node,
            project: project,
            path: id,
            assets: projectCache.assets
          }, bindEditorProps(id, 'markdown'), {
            __self: this,
            __source: {
              fileName: _jsxFileName,
              lineNumber: 941,
              columnNumber: 11
            }
          }));
        }

      case 'iframe':
        {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_IframeViewer__WEBPACK_IMPORTED_MODULE_21__["default"], {
            layoutNode: node,
            project: project,
            path: id // {...bindEditorProps(id, 'iframe')}
            ,
            __self: this,
            __source: {
              fileName: _jsxFileName,
              lineNumber: 952,
              columnNumber: 11
            }
          });
        }

      case 'simulator-editor':
        {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_SimulatorEditor__WEBPACK_IMPORTED_MODULE_23__["default"], _extends({
            layoutNode: node,
            project: project,
            path: id
          }, bindEditorProps(id, 'simulator-editor'), {
            onConfigChange: refreshSimulatorFromConfig,
            __self: this,
            __source: {
              fileName: _jsxFileName,
              lineNumber: 962,
              columnNumber: 11
            }
          }));
        }

      case 'simulator':
        {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_Simulator__WEBPACK_IMPORTED_MODULE_22__["default"], _extends({
            ref: attachSimulator,
            running: running
          }, state.simulatorState, {
            onUpdate: simulatorState => {
              dispatch({
                type: 'SET_SIMULATOR_STATE',
                simulatorState
              });
            },
            onExecutionAction: handleExecutionAction,
            __self: this,
            __source: {
              fileName: _jsxFileName,
              lineNumber: 973,
              columnNumber: 11
            }
          }));
        }

      case 'console':
        {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_Console__WEBPACK_IMPORTED_MODULE_17__["default"], {
            ref: consoleRef,
            onInput: handleConsoleInput,
            __self: this,
            __source: {
              fileName: _jsxFileName,
              lineNumber: 985,
              columnNumber: 16
            }
          });
        }

      default:
        return null;
    }
  }

  function filter(path, child) {
    if (path === '.' && child.name === '.metadata' && !showMetadataFolder) return false;
    return true;
  }

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_5___default.a, {
    className: classes.root,
    container: true,
    direction: "row",
    wrap: "nowrap",
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 998,
      columnNumber: 5
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_5___default.a, {
    item: true,
    component: SquarePaper,
    style: {
      flex: '0 auto',
      minWidth: '150px',
      marginRight: '8px',
      overflow: 'auto'
    },
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 999,
      columnNumber: 7
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: classes.navToolbar,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1009,
      columnNumber: 9
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_9___default.a, {
    title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_intl__WEBPACK_IMPORTED_MODULE_3__["FormattedMessage"], _extends({}, messages.simulatorTooltip, {
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 1010,
        columnNumber: 27
      }
    })),
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1010,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_8___default.a, {
    variant: "contained",
    color: "primary",
    size: "small",
    onClick: addSimulator,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1011,
      columnNumber: 13
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_misc_palette__WEBPACK_IMPORTED_MODULE_14__["SimulatorIcon"], {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1012,
      columnNumber: 15
    }
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_9___default.a, {
    title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_intl__WEBPACK_IMPORTED_MODULE_3__["FormattedMessage"], _extends({}, messages.consoleTooltip, {
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 1015,
        columnNumber: 27
      }
    })),
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1015,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_8___default.a, {
    variant: "contained",
    color: "primary",
    size: "small",
    onClick: addConsole,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1016,
      columnNumber: 13
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_misc_palette__WEBPACK_IMPORTED_MODULE_14__["ConsoleIcon"], {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1017,
      columnNumber: 15
    }
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_9___default.a, {
    title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_intl__WEBPACK_IMPORTED_MODULE_3__["FormattedMessage"], _extends({}, messages.restoreLayoutTooltip, {
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 1020,
        columnNumber: 27
      }
    })),
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1020,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1021,
      columnNumber: 13
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_8___default.a, {
    variant: "contained",
    color: "primary",
    size: "small",
    disabled: ((_projectCache$layoutJ = projectCache === null || projectCache === void 0 ? void 0 : projectCache.layoutJson) !== null && _projectCache$layoutJ !== void 0 ? _projectCache$layoutJ : null) === null,
    onClick: () => {
      var _projectCache$layoutJ2;

      const layoutJson = (_projectCache$layoutJ2 = projectCache === null || projectCache === void 0 ? void 0 : projectCache.layoutJson) !== null && _projectCache$layoutJ2 !== void 0 ? _projectCache$layoutJ2 : null; // eslint-disable-next-line no-throw-literal

      if (layoutJson === null) throw 'unreachable';
      setLayoutState(JSON.parse(layoutJson));
    },
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1022,
      columnNumber: 15
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_misc_palette__WEBPACK_IMPORTED_MODULE_14__["RestoreLayoutIcon"], {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1035,
      columnNumber: 17
    }
  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_9___default.a, {
    title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_intl__WEBPACK_IMPORTED_MODULE_3__["FormattedMessage"], _extends({}, messages.projectSettingsTooltip, {
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 1039,
        columnNumber: 27
      }
    })),
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1039,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_8___default.a, _extends({
    variant: "contained",
    color: "primary",
    size: "small"
  }, Object(material_ui_popup_state_hooks__WEBPACK_IMPORTED_MODULE_10__["bindTrigger"])(projectSettingsPopupState), {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1040,
      columnNumber: 13
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_misc_palette__WEBPACK_IMPORTED_MODULE_14__["SettingsIcon"], {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1046,
      columnNumber: 15
    }
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_Menu__WEBPACK_IMPORTED_MODULE_6___default.a, _extends({
    keepMounted: true
  }, Object(material_ui_popup_state_hooks__WEBPACK_IMPORTED_MODULE_10__["bindMenu"])(projectSettingsPopupState), {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1049,
      columnNumber: 11
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_4___default.a, {
    variant: "contained",
    color: "primary",
    size: "small",
    onClick: () => {
      projectSettingsPopupState.close();

      if (hasMetadataFolder) {
        dispatch({
          type: 'TOGGLE_METADATA_FOLDER'
        });
      } else {
        // $FlowExpectError
        const parentDir = getFile('./');
        handleFileAction({
          action: 'CREATE',
          parentDir,
          desc: {
            type: 'METADATA',
            name: '.metadata',
            fileType: 'DIRECTORY'
          }
        });
        dispatch({
          type: 'SHOW_METADATA_FOLDER',
          value: true
        });
      }
    },
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1050,
      columnNumber: 13
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_intl__WEBPACK_IMPORTED_MODULE_3__["FormattedMessage"], _extends({}, hasMetadataFolder ? messages.showHideMetadata : messages.createMetadata, {
    values: hasMetadataFolder ? {
      action: showMetadataFolder ? 'HIDE' : 'SHOW'
    } : {},
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1075,
      columnNumber: 15
    }
  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("hr", {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1087,
      columnNumber: 11
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_FileTree__WEBPACK_IMPORTED_MODULE_19__["default"], _extends({
    files: projectCache.files
  }, fileTreeState, {
    filter: filter,
    onFileAction: handleFileAction,
    onUpdate: // eslint-disable-next-line no-shadow
    fileTreeState => dispatch({
      type: 'UPDATE_FILE_TREE',
      fileTreeState
    }),
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1089,
      columnNumber: 9
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_misc_SimpleDialog__WEBPACK_IMPORTED_MODULE_16__["default"], _extends({
    id: "create-file-dialog"
  }, createFile.mountSimpleDialog(), {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1099,
      columnNumber: 9
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_misc_SimpleDialog__WEBPACK_IMPORTED_MODULE_16__["default"], _extends({
    id: "rename-file-dialog"
  }, renameFile.mountSimpleDialog(), {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1100,
      columnNumber: 9
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_misc_SimpleDialog__WEBPACK_IMPORTED_MODULE_16__["default"], _extends({
    id: "delete-file-dialog"
  }, deleteFile.mountSimpleDialog(), {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1101,
      columnNumber: 9
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_FileTree_FileUpload__WEBPACK_IMPORTED_MODULE_30__["default"], {
    ref: fileUploadRef,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1102,
      columnNumber: 9
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("a", _extends({}, fileDownload.mountLink(), {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1104,
      columnNumber: 9
    }
  }))), pluginsLoaded && layoutModel !== null ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_5___default.a, {
    item: true,
    component: SquarePaper,
    className: classes.editorContainer,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1107,
      columnNumber: 9
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](flexlayout_react__WEBPACK_IMPORTED_MODULE_12___default.a.Layout, _extends({}, layoutProps, {
    factory: factory,
    classNameMapper: className => _flex_layout_ide_css__WEBPACK_IMPORTED_MODULE_13___default.a[className],
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1108,
      columnNumber: 11
    }
  }))) : null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_Executor__WEBPACK_IMPORTED_MODULE_32__["default"], {
    ref: attachExecutor,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 1115,
      columnNumber: 7
    }
  }));
}

/* harmony default export */ __webpack_exports__["default"] = (Ide);

/***/ }),

/***/ "./src/components/ide/Ide/flex_layout_ide.css":
/***/ (function(module, exports, __webpack_require__) {


    var refs = 0;
    var css = __webpack_require__("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Ide/flex_layout_ide.css");
    var insertCss = __webpack_require__("./node_modules/isomorphic-style-loader/insertCss.js");
    var content = typeof css === 'string' ? [[module.i, css, '']] : css;

    exports = module.exports = css.locals || {};
    exports._getContent = function() { return content; };
    exports._getCss = function() { return '' + css; };
    exports._insertCss = function(options) { return insertCss(content, options) };

    // Hot Module Replacement
    // https://webpack.github.io/docs/hot-module-replacement
    // Only activated in browser context
    if ( true && typeof window !== 'undefined' && window.document) {
      var removeCss = function() {};
      module.hot.accept("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Ide/flex_layout_ide.css", function() {
        css = __webpack_require__("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Ide/flex_layout_ide.css");
        content = typeof css === 'string' ? [[module.i, css, '']] : css;
        removeCss = insertCss(content, { replace: true });
      });
      module.hot.dispose(function() { removeCss(); });
    }
  

/***/ }),

/***/ "./src/components/ide/Ide/useLayoutModel.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_LAYOUT_STATE", function() { return DEFAULT_LAYOUT_STATE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return useLayoutModel; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var flexlayout_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("flexlayout-react");
/* harmony import */ var flexlayout_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(flexlayout_react__WEBPACK_IMPORTED_MODULE_1__);


const DEFAULT_LAYOUT_STATE = {
  global: {},
  borders: [],
  layout: {
    type: 'tabset',
    children: []
  }
};
// FlexLayout.Model uses a different approach to state:
// It uses a mutable model object which is not suitable for react's regular
// handling of state updates.
// it is also not a plain JS object but an instance of a class that needs
// to be serialized for persistence.
// This hook bridges this API mismatch.
// The passed state is used to create a model the first time it is not null,
// and changes to the model (detected by a callback registered with the Layout)
// update the state.
// Subsequent changes to the state are assumed to be triggered by model changes
// and are therefore ignored.
//
//    const [state, setState] = React.useState(null);
//    const [model, layoutProps] = useLayoutModel(state, setState);
//    // somewhere, state is set to a non-null value
//
//    // layoutProps contains both model and onModelChange
//    return model && <FlexLayout.Layout {...layoutProps} />;
function useLayoutModel(layoutState, onLayoutStateChange) {
  const [model, setModel] = react__WEBPACK_IMPORTED_MODULE_0__["useState"](null);
  react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](() => {
    // only load the model once when the layoutState becomes non-null
    if (layoutState === null || model !== null) return;
    setModel(flexlayout_react__WEBPACK_IMPORTED_MODULE_1___default.a.Model.fromJson(layoutState));
  }, [layoutState, model]);

  function setLayoutState(newLayoutState) {
    setModel(flexlayout_react__WEBPACK_IMPORTED_MODULE_1___default.a.Model.fromJson(newLayoutState));
  }

  return [model, setLayoutState, {
    model,

    onModelChange() {
      // eslint-disable-next-line no-throw-literal
      if (model === null) throw 'onModelChange when model is null';
      onLayoutStateChange(model.toJson());
    }

  }];
}

/***/ }),

/***/ "./src/components/ide/Ide/usePersistentState.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return usePersistentState; });
/* harmony import */ var _misc_hooks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/misc/hooks/index.js");
/* harmony import */ var _useLayoutModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/components/ide/Ide/useLayoutModel.js");



function ideState(state, action) {
  switch (action.type) {
    case 'SET_EDITOR_STATE':
      {
        const {
          path,
          editorStates
        } = action;
        return { ...state,
          editorStates: { ...state.editorStates,
            [path]: { ...state.editorStates[path],
              ...editorStates
            }
          }
        };
      }

    case 'SET_SIMULATOR_STATE':
      {
        const {
          simulatorState
        } = action;
        return { ...state,
          simulatorState
        };
      }

    case 'EXPAND_DIRECTORY':
      {
        const {
          path
        } = action;
        const {
          expandedKeys
        } = state.fileTreeState; // no need to update state if the parent directory is already expanded

        if (expandedKeys.includes(path)) return state;
        return { ...state,
          fileTreeState: { ...state.fileTreeState,
            expandedKeys: [...expandedKeys, path]
          }
        };
      }

    case 'TOGGLE_METADATA_FOLDER':
      {
        return { ...state,
          showMetadataFolder: !state.showMetadataFolder
        };
      }

    case 'SHOW_METADATA_FOLDER':
      {
        const {
          value
        } = action;
        return { ...state,
          showMetadataFolder: value
        };
      }

    case 'UPDATE_FILE_TREE':
      {
        const {
          fileTreeState
        } = action;
        return { ...state,
          fileTreeState
        };
      }

    case 'LAYOUT':
      {
        const {
          layoutState
        } = action;
        return { ...state,
          layoutState
        };
      }

    default:
      return state;
  }
}

const useStorage = Object(_misc_hooks__WEBPACK_IMPORTED_MODULE_0__["makeLocalStorageOpt"])(json => ({
  // default state
  fileTreeState: {
    expandedKeys: []
  },
  showMetadataFolder: false,
  layoutState: _useLayoutModel__WEBPACK_IMPORTED_MODULE_1__["DEFAULT_LAYOUT_STATE"],
  simulatorState: {
    zoom: 100,
    zoomMode: 'FIT'
  },
  editorStates: {},
  // persisted state
  ...(json !== null ? JSON.parse(json) : null)
}), state => JSON.stringify(state));
function usePersistentState(projectUid) {
  const [state, setState] = useStorage(projectUid && `IDE-State-${projectUid}`);

  function dispatch(action) {
    setState(state => {
      // eslint-disable-next-line no-throw-literal
      if (state === undefined) throw 'state must be loaded first';
      return ideState(state, action);
    });
  }

  return [state !== null && state !== void 0 ? state : null, dispatch];
}

/***/ }),

/***/ "./src/components/ide/Ide/useProjectCache.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return useProjectCache; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var filer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("filer");
/* harmony import */ var filer__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(filer__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _core_store_projects__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/store/projects.js");
/* harmony import */ var _misc_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/components/misc/hooks/index.js");




function useProjectCache(project) {
  const [internalState, setInternalState] = Object(_misc_hooks__WEBPACK_IMPORTED_MODULE_3__["useAsyncState"])(null);

  function refreshProject() {
    if (project === null) {
      setInternalState(null);
      return;
    }

    async function loadAssets(root) {
      const assetBuffers = new Map();
      let assetsFile;

      try {
        assetsFile = Object(_core_store_projects__WEBPACK_IMPORTED_MODULE_2__["getDescendant"])(root, '.metadata', 'assets');
      } catch (err) {
        console.error(err);
        return assetBuffers;
      }

      if (!assetsFile.isDirectory()) return assetBuffers; // $FlowExpectError

      const assetsDir = assetsFile;

      async function walk(prefix, files) {
        await Promise.all(files.map(async f => {
          if (f.isDirectory()) {
            // $FlowExpectError
            const dir = f;
            await walk(`${prefix}${f.name}/`, dir.contents);
          } else {
            const absolutePath = project.resolve('./.metadata/assets', prefix, f.name);
            const buffer = await filer__WEBPACK_IMPORTED_MODULE_1__["fs"].promises.readFile(absolutePath);
            assetBuffers.set(`asset:${prefix}${f.name}`, buffer);
          }
        }));
      }

      await walk('', assetsDir.contents);
      return assetBuffers;
    }

    async function loadFilesAndAssets() {
      const files = await project.getFiles();
      const assetBuffers = await loadAssets(files);
      return [files, assetBuffers];
    }

    async function loadSimulatorXml() {
      const absolutePath = project.resolve('./.metadata/simulator');

      try {
        const workspaceXml = await filer__WEBPACK_IMPORTED_MODULE_1__["fs"].promises.readFile(absolutePath, 'utf8');
        if (workspaceXml === '') return null;
        return workspaceXml;
      } catch (ex) {
        if (!(ex instanceof filer__WEBPACK_IMPORTED_MODULE_1___default.a.Errors.ENOENT)) {
          throw ex;
        }

        return null;
      }
    }

    async function loadLayoutJson() {
      const absolutePath = project.resolve('./.metadata/layout');

      try {
        const layoutJson = await filer__WEBPACK_IMPORTED_MODULE_1__["fs"].promises.readFile(absolutePath, 'utf8');
        return layoutJson;
      } catch (ex) {
        if (!(ex instanceof filer__WEBPACK_IMPORTED_MODULE_1___default.a.Errors.ENOENT)) {
          throw ex;
        }

        return null;
      }
    }

    async function loadProjectCache() {
      // load project from the file system
      const [[files, assetBuffers], simulatorXml, layoutJson] = await Promise.all([loadFilesAndAssets(), loadSimulatorXml(), loadLayoutJson()]);
      return {
        files,
        simulatorXml,
        layoutJson,
        assetBuffers
      };
    }

    setInternalState(loadProjectCache());
  } // refresh project when projectName changes


  react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](() => {
    refreshProject();
  }, [project]);
  const [state, setState] = react__WEBPACK_IMPORTED_MODULE_0__["useState"](null); // provide blob URLs for assets

  react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](() => {
    if (internalState === null) {
      setState(null);
      return undefined;
    }

    const {
      files,
      simulatorXml,
      layoutJson,
      assetBuffers
    } = internalState;
    const urls = [];
    const assets = new Map();

    for (const [key, buffer] of assetBuffers) {
      const blob = new Blob([buffer]);
      const url = URL.createObjectURL(blob);
      urls.push(url);
      assets.set(key, [url, buffer]);
    }

    setState({
      files,
      simulatorXml,
      layoutJson,
      assets
    });
    return () => {
      for (const url of urls) {
        URL.revokeObjectURL(url);
      }
    };
  }, [internalState]);
  return [state, refreshProject];
}

/***/ }),

/***/ "./src/components/ide/Ide/useProjectInfo.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return useProjectInfo; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _core_store_projects__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/store/projects.js");
/* harmony import */ var _misc_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/components/misc/hooks/index.js");



function useProjectInfo(projectName) {
  const [state, setState] = Object(_misc_hooks__WEBPACK_IMPORTED_MODULE_2__["useAsyncState"])(null); // refresh project when projectName changes

  react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](() => {
    setState(_core_store_projects__WEBPACK_IMPORTED_MODULE_1__["Project"].getProject(projectName));
  }, [projectName]);
  return state;
}

/***/ }),

/***/ "./src/components/ide/IframeViewer/IframeViewer.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _useFileObjectURL__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/components/ide/useFileObjectURL.js");
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/IframeViewer/IframeViewer.js";



/**
 * Shows a project file in an iframe. This is effective for file types such as PDF documents or images.
 */
// eslint-disable-next-line no-unused-vars
function IframeViewer({
  layoutNode,
  project,
  path
}) {
  const url = Object(_useFileObjectURL__WEBPACK_IMPORTED_MODULE_1__["default"])(project, path);
  return url === null ? null : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("iframe", {
    title: path,
    src: url,
    style: {
      width: '100%',
      height: '100%'
    },
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 21,
      columnNumber: 5
    }
  });
}

/* harmony default export */ __webpack_exports__["default"] = (IframeViewer);

/***/ }),

/***/ "./src/components/ide/Markdown/Markdown.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("isomorphic-style-loader/useStyles");
/* harmony import */ var isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("@material-ui/core/IconButton");
/* harmony import */ var _material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("@material-ui/core/Tooltip");
/* harmony import */ var _material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _uiw_react_md_editor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("@uiw/react-md-editor");
/* harmony import */ var _uiw_react_md_editor__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_uiw_react_md_editor__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _uiw_react_md_editor_dist_markdown_editor_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/@uiw/react-md-editor/dist/markdown-editor.css");
/* harmony import */ var _uiw_react_md_editor_dist_markdown_editor_css__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_uiw_react_md_editor_dist_markdown_editor_css__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _misc_palette__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/components/misc/palette.js");
/* harmony import */ var _misc_hooks__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/components/misc/hooks/index.js");
/* harmony import */ var _Markdown_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/components/ide/Markdown/Markdown.scss");
/* harmony import */ var _Markdown_scss__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_Markdown_scss__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _useFile__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/components/ide/useFile.js");
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/Markdown/Markdown.js";





/* eslint-disable camelcase */
// $FlowExpectError


/* eslint-enable camelcase */






/**
 * Wraps an `MDEditor` for display in a `FlexLayout` tab,
 * and for editing the contents of a project file.
 */
function Markdown({
  layoutNode,
  project,
  path,
  assets,
  mode,
  onUpdate
}) {
  const [height, setHeight] = react__WEBPACK_IMPORTED_MODULE_0__["useState"](200);
  const containerRef = _misc_hooks__WEBPACK_IMPORTED_MODULE_7__["useElementRef"]();
  const [content, setContent] = Object(_useFile__WEBPACK_IMPORTED_MODULE_9__["default"])(project, path, 'utf8'); // update editor size when the containing tab is resized or made visible

  react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](() => {
    const handleResize = () => {
      setTimeout(() => {
        if (containerRef.current === null) return;
        setHeight(containerRef.current.offsetHeight);
      }, 0);
    };

    layoutNode.setEventListener('resize', handleResize);
    layoutNode.setEventListener('visibility', handleResize);
    handleResize();
    return () => {
      layoutNode.setEventListener('resize', null);
      layoutNode.setEventListener('visibility', null);
    };
  }, [layoutNode, containerRef]); // update the mode on first load

  react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](() => {
    if (mode !== 'default' || content === null) return;
    onUpdate({
      mode: content === '' ? 'edit' : 'preview'
    });
  }, [onUpdate, mode, content]); // resolve assets for the preview

  const [previewContent, setPreviewContent] = react__WEBPACK_IMPORTED_MODULE_0__["useState"](null);
  react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](() => {
    if (content === null) {
      setPreviewContent(null);
      return;
    }

    const replaced = content.replace(/\]\((asset:.*?)\)/g, (_match, asset) => {
      var _assets$get$, _assets$get;

      return `](${(_assets$get$ = (_assets$get = assets.get(asset)) === null || _assets$get === void 0 ? void 0 : _assets$get[0]) !== null && _assets$get$ !== void 0 ? _assets$get$ : ''})`;
    });
    setPreviewContent(replaced);
  }, [content, assets]);
  isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1___default()(_Markdown_scss__WEBPACK_IMPORTED_MODULE_8___default.a);
  isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1___default()(_uiw_react_md_editor_dist_markdown_editor_css__WEBPACK_IMPORTED_MODULE_5___default.a);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: _Markdown_scss__WEBPACK_IMPORTED_MODULE_8___default.a.root,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 89,
      columnNumber: 5
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    key: `md-${height}`,
    className: _Markdown_scss__WEBPACK_IMPORTED_MODULE_8___default.a.container,
    ref: containerRef,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 90,
      columnNumber: 7
    }
  }, content === null ? null : mode === 'edit' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_uiw_react_md_editor__WEBPACK_IMPORTED_MODULE_4___default.a, {
    value: content,
    onChange: setContent,
    visiableDragbar: false,
    height: height,
    commands: [..._uiw_react_md_editor__WEBPACK_IMPORTED_MODULE_4__["commands"].getCommands().slice(0, -1), {
      name: 'activatePreview',
      keyCommand: 'activatePreview',
      buttonProps: {
        'aria-label': 'Activate Preview'
      },
      icon: _uiw_react_md_editor__WEBPACK_IMPORTED_MODULE_4__["commands"].fullscreen.icon,
      execute: (_state, _api) => {
        onUpdate({
          mode: 'preview'
        });
      }
    }],
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 92,
      columnNumber: 11
    }
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: _Markdown_scss__WEBPACK_IMPORTED_MODULE_8___default.a.previewContainer,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 111,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: _Markdown_scss__WEBPACK_IMPORTED_MODULE_8___default.a.previewViewport,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 112,
      columnNumber: 13
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: _Markdown_scss__WEBPACK_IMPORTED_MODULE_8___default.a.preview,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 113,
      columnNumber: 15
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_uiw_react_md_editor__WEBPACK_IMPORTED_MODULE_4___default.a.Markdown, {
    source: previewContent,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 114,
      columnNumber: 17
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: _Markdown_scss__WEBPACK_IMPORTED_MODULE_8___default.a.previewToolbar,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 116,
      columnNumber: 15
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_3___default.a, {
    title: "Edit",
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 117,
      columnNumber: 17
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_2___default.a, {
    size: "small",
    onClick: () => onUpdate({
      mode: 'edit'
    }),
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 118,
      columnNumber: 19
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_misc_palette__WEBPACK_IMPORTED_MODULE_6__["MarkdownFileIcon"], {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 119,
      columnNumber: 21
    }
  }))))))));
}

Markdown.defaultProps = {
  // eslint-disable-next-line react/default-props-match-prop-types
  mode: 'default'
};
/* harmony default export */ __webpack_exports__["default"] = (Markdown);

/***/ }),

/***/ "./src/components/ide/Markdown/Markdown.scss":
/***/ (function(module, exports, __webpack_require__) {


    var refs = 0;
    var css = __webpack_require__("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Markdown/Markdown.scss");
    var insertCss = __webpack_require__("./node_modules/isomorphic-style-loader/insertCss.js");
    var content = typeof css === 'string' ? [[module.i, css, '']] : css;

    exports = module.exports = css.locals || {};
    exports._getContent = function() { return content; };
    exports._getCss = function() { return '' + css; };
    exports._insertCss = function(options) { return insertCss(content, options) };

    // Hot Module Replacement
    // https://webpack.github.io/docs/hot-module-replacement
    // Only activated in browser context
    if ( true && typeof window !== 'undefined' && window.document) {
      var removeCss = function() {};
      module.hot.accept("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Markdown/Markdown.scss", function() {
        css = __webpack_require__("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Markdown/Markdown.scss");
        content = typeof css === 'string' ? [[module.i, css, '']] : css;
        removeCss = insertCss(content, { replace: true });
      });
      module.hot.dispose(function() { removeCss(); });
    }
  

/***/ }),

/***/ "./src/components/ide/Simulator/DefaultPlayground.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("@babylonjs/core");
/* harmony import */ var _babylonjs_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("lodash");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var webrob_src_AxesHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("webrob/src/AxesHelper");
/* harmony import */ var webrob_src_AxesHelper__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(webrob_src_AxesHelper__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _URDFJSONLoader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/components/ide/Simulator/URDFJSONLoader.js");
/* harmony import */ var webrob_src_InputController__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("webrob/src//InputController");
/* harmony import */ var webrob_src_InputController__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(webrob_src_InputController__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var eulerutil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("eulerutil");
/* harmony import */ var eulerutil__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(eulerutil__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var webrob_src_robot_MultiRobotHandler__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("webrob/src/robot/MultiRobotHandler");
/* harmony import */ var webrob_src_robot_MultiRobotHandler__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(webrob_src_robot_MultiRobotHandler__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _tmp_webRob_src_test_data_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("../../../../tmp/webRob/src/test/data.js");
/* harmony import */ var _babylonjs_core_Loading_sceneLoader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("@babylonjs/core/Loading/sceneLoader");
/* harmony import */ var _babylonjs_core_Loading_sceneLoader__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babylonjs_core_Loading_sceneLoader__WEBPACK_IMPORTED_MODULE_9__);
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/Simulator/DefaultPlayground.js";

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }











const inputsDef = {
  xAxis: [[_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Keyboard, [-'S'.charCodeAt(0), 'W'.charCodeAt(0)]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].DualShock, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DualShockInput"].LStickXAxis]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Xbox, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["XboxInput"].LStickXAxis]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Generic, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["XboxInput"].LStickXAxis]]],
  yAxis: [[_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Keyboard, [-'A'.charCodeAt(0), 'D'.charCodeAt(0)]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].DualShock, [-_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DualShockInput"].LStickYAxis]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Xbox, [-_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["XboxInput"].LStickYAxis]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Generic, [-_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["XboxInput"].LStickYAxis]]],
  zAxis: [[_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Keyboard, [-'Q'.charCodeAt(0), 'E'.charCodeAt(0)]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].DualShock, [-_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DualShockInput"].RStickYAxis]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Xbox, [-_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["XboxInput"].RStickYAxis]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Generic, [-_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["XboxInput"].RStickYAxis]]],
  mode: [[_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Keyboard, [' '.charCodeAt(0)]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].DualShock, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DualShockInput"].R1, _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DualShockInput"].L1]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Xbox, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["XboxInput"].RB, _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["XboxInput"].LB]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Generic, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["XboxInput"].RB, _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["XboxInput"].LB]]],
  fast: [[_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Keyboard, ['O'.charCodeAt(0)]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].DualShock, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DualShockInput"].R2]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Xbox, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["XboxInput"].RT]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Generic, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["XboxInput"].RT]]],
  slow: [[_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Keyboard, ['L'.charCodeAt(0)]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].DualShock, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DualShockInput"].L2]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Xbox, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["XboxInput"].LT]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Generic, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["XboxInput"].LT]]],
  tool1: [[_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Keyboard, ['1'.charCodeAt(0)]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].DualShock, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DualShockInput"].Cross]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Xbox, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["XboxInput"].A]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Generic, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["XboxInput"].A]]],
  tool2: [[_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Keyboard, ['2'.charCodeAt(0)]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].DualShock, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DualShockInput"].Circle]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Xbox, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["XboxInput"].B]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["DeviceType"].Generic, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["XboxInput"].B]]]
};
var inputController;
var scene;
var rendering = false;
var engine;
var assetsManager;
var assetsManager = new _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["AssetsManager"](scene);
const robotData = [{
  path: "robot/festo_description/urdf/excm40.urdfjson",
  pos: new _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["Vector3"](0, 0, 0),
  rot: Object(eulerutil__WEBPACK_IMPORTED_MODULE_6__["eulerToQuaternion"])(new _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["Vector3"](0, 0, 0)),
  chains: [{
    base: 'base_link',
    flange: 'axis3',
    ik: 'cartesianik',
    tools: [{
      position: new _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["Vector3"](0, 0, -0.05),
      rotationQuaternion: Object(eulerutil__WEBPACK_IMPORTED_MODULE_6__["eulerToQuaternion"])(new _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["Vector3"](0, 0, 0)),
      type: 'vacuumGripper',
      visual: {
        parameter: {
          diameter: 0.01,
          height: 0.05
        },
        position: new _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["Vector3"](0, 0, -0.025),
        rotationQuaternion: Object(eulerutil__WEBPACK_IMPORTED_MODULE_6__["eulerToQuaternion"])(new _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["Vector3"](Math.PI / 2, 0, 0))
      }
    }]
  }]
} //{path: "robot/pr2_description/robots/", file: 'pr2.urdfjson', pos: new Vector3(0,0,0)},
];
/* harmony default export */ __webpack_exports__["default"] = (props => {
  const reactCanvas = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])(null);
  const {
    antialias,
    engineOptions,
    adaptToDeviceRatio,
    sceneOptions,
    onRender,
    onSceneReady,
    ...rest
  } = props;
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(() => {
    if (reactCanvas.current) {
      engine = new _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["Engine"](reactCanvas.current, antialias, engineOptions, adaptToDeviceRatio);
      scene = new _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["Scene"](engine, sceneOptions);
      assetsManager = new _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["AssetsManager"](scene);
      inputController = new webrob_src_InputController__WEBPACK_IMPORTED_MODULE_5___default.a(scene);
      inputController.setInputDefinition(inputsDef);
      inputController.currentInputsProcessed.add(() => inputsProcessed());
      const cameraRadius = 2;
      const alpha = _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["Tools"].ToRadians(-45);
      const beta = _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["Tools"].ToRadians(45);
      const camera = new _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["ArcRotateCamera"]("camera", alpha, beta, cameraRadius, new _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["Vector3"](0, 0, 0.2)
      /*robot.workRangeCenter*/
      , scene);
      camera.attachControl(reactCanvas.current, true);
      camera.wheelPrecision = 20;
      camera.upVector = new _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["Vector3"](0, 0, 1);
      scene.useRightHandedSystem = true;
      camera.minZ = 0.03;
      const light = new _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["HemisphericLight"]("light1", new _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["Vector3"](0, 0, 1), scene);
      light.intensity = 0.7;
      const axes = webrob_src_AxesHelper__WEBPACK_IMPORTED_MODULE_2___default()(scene, 0.5, 1.0, true);

      if (scene.isReady()) {
        props.onSceneReady(scene);
      } else {
        scene.onReadyObservable.addOnce(scene => props.onSceneReady(scene));
      }

      engine.runRenderLoop(() => {
        if (typeof onRender === "function") {
          onRender(scene);
          camera.inputs.checkInputs();
          inputController.processInputs();

          if (camera.inertialAlphaOffset === 0 && camera.inertialBetaOffset === 0 && camera.inertialRadiusOffset === 0 && camera.inertialPanningX === 0 && camera.inertialPanningY === 0 && scene._activeAnimatables.length === 0 && inputController.activatedInputs.length === 0 && inputController.changedInputs.length === 0) {
            if (rendering === true) {
              console.log("Paused Renderloop");
              rendering = false;
            }
          } else {
            scene.render();

            if (rendering === false) {
              let allrobots = null;
              console.log("Started Renderloop"); // await r.Wait(2)
              //r.speed = 0.2
              //r.setTCPTo( new Vector3(0.3, 0.3, 0.3), eulerToQuaternion(new Vector3(0, Math.PI / 2, -Math.PI + 0.1)))

              /*await r.MoveTo({Straight: false, Pose: {'A': 0, 'B': Math.PI / 2, 'C':-Math.PI + 0.1, 'X':300, 'Y':400, 'Z': 300}})
              await r.lin(Matrix.Compose(Vector3.One(), eulerToQuaternion(new Vector3(0, Math.PI / 2, -Math.PI + 0.1)), new Vector3(0.3, 0.5, 0.3)))
              r.SetEndEffectorParameters({setting: 1.0})
              await r.ptp(Matrix.Compose(Vector3.One(), eulerToQuaternion(new Vector3(0, Math.PI / 2, -Math.PI + 0.1)), new Vector3(0.3, 0.3, 0.3)))
              r.SetEndEffectorParameters({setting: 0.0})
              await r.ptp(Matrix.Compose(Vector3.One(), eulerToQuaternion(new Vector3(0, Math.PI / 2, -Math.PI + 0.1)), new Vector3(0.3, 0.4, 0.3)))
              */
              //await executeMultiRobotProgram(allrobots, TEST_CMDS)

              rendering = true;
            }
          }
        }

        scene.render();
      });

      const resize = () => {
        scene.getEngine().resize();
      };

      if (window) {
        window.addEventListener("resize", resize);
      }

      return () => {
        scene.getEngine().dispose();

        if (window) {
          window.removeEventListener("resize", resize);
        }
      };
    }
  }, [reactCanvas]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("canvas", _extends({
    ref: reactCanvas
  }, rest, {
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 216,
      columnNumber: 12
    }
  }));
});

function inputsProcessed(forceupdate = false) {
  const inputs = inputController.inputs;
  const fastscale = 1 + inputs.fast * 2; // inputs.fast: [0, 1] -> [1, 2]

  const slowscale = 1 - Math.min(inputs.slow, 0.97); // inputs.slow: [0, 1] -> [0, 1]

  const scale = scene.getAnimationRatio() * 0.01 * fastscale * slowscale;
  let shift = _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["Vector3"].Zero();

  if (inputs.mode > 0.5) {
    shift = new _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["Vector3"](-inputs.yAxis, inputs.xAxis, inputs.zAxis).scale(scale);
    const shiftQuaternion = _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["Quaternion"].FromEulerVector(shift);
    tcp.rotationQuaternion = tcp.rotationQuaternion.multiply(shiftQuaternion);
    allrobots.forEach(r => r.setTCPTo(tcp.position, tcp.rotationQuaternion));
    rendering = true;
  } else {
    shift = new _babylonjs_core__WEBPACK_IMPORTED_MODULE_0__["Vector3"](-inputs.xAxis, inputs.yAxis, inputs.zAxis).scale(scale * 0.3); // TODO rotate viewer pos

    if (shift.length() > 0 || forceupdate) {
      tcp.position = tcp.position.add(shift);
      allrobots.forEach(r => r.setTCPTo(tcp.position, tcp.rotationQuaternion));
      rendering = true;
    }
  }

  try {
    if (inputController.changedInputs.tool1 && inputs.tool1 >= 0.5) {
      console.log('Gripping');
      /*
      if (coneMaterial.diffuseColor.equals(Color3.Gray())){
          coneMaterial.diffuseColor = Color3.Black()
          console.log('Gripping')
          //robotInterface.send(CommandFactory.SetEndEffector('Gripping', 1.0))
      } else {
          coneMaterial.diffuseColor = Color3.Gray()
          console.log('Releasing')
          //robotInterface.send(CommandFactory.SetEndEffector('Releasing', 0.0))
      } */
    }
  } catch (e) {
    console.log(e.message);
  }
}

/***/ }),

/***/ "./src/components/ide/Simulator/Simulator.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babylonjs_core_Loading_sceneLoader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("@babylonjs/core/Loading/sceneLoader");
/* harmony import */ var _babylonjs_core_Loading_sceneLoader__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babylonjs_core_Loading_sceneLoader__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _URDFJSONLoader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/components/ide/Simulator/URDFJSONLoader.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var webrob_src_AxesHelper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("webrob/src/AxesHelper.js");
/* harmony import */ var webrob_src_AxesHelper_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(webrob_src_AxesHelper_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("isomorphic-style-loader/useStyles");
/* harmony import */ var isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babylonjs_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("@babylonjs/core");
/* harmony import */ var _babylonjs_core__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _misc_palette__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/components/misc/palette.js");
/* harmony import */ var _misc_hooks__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/components/misc/hooks/index.js");
/* harmony import */ var eulerutil_src_EulerUtil_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("eulerutil/src/EulerUtil.js");
/* harmony import */ var eulerutil_src_EulerUtil_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(eulerutil_src_EulerUtil_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var webrob_src_robot_Robot_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("webrob/src/robot/Robot.js");
/* harmony import */ var webrob_src_robot_Robot_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(webrob_src_robot_Robot_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _ToolBar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/components/ide/ToolBar/ToolBar.js");
/* harmony import */ var _ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/components/ide/ToolBar/ToolBarIconButton.js");
/* harmony import */ var _ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/components/ide/ToolBar/ToolBarItem.js");
/* harmony import */ var _Simulator_scss__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/components/ide/Simulator/Simulator.scss");
/* harmony import */ var _Simulator_scss__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_Simulator_scss__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _simulation__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/components/ide/Simulator/simulation/index.js");
/* harmony import */ var _SimulatorEditor__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/components/ide/SimulatorEditor/SimulatorEditor.js");
/* harmony import */ var _default_simulation_xml__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./src/components/ide/Simulator/default_simulation.xml");
/* harmony import */ var _default_simulation_xml__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_default_simulation_xml__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var webrob_src_InputController_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("webrob/src/InputController.js");
/* harmony import */ var webrob_src_InputController_js__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(webrob_src_InputController_js__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var _babylonjs_core_Debug_debugLayer__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("@babylonjs/core/Debug/debugLayer");
/* harmony import */ var _babylonjs_core_Debug_debugLayer__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_babylonjs_core_Debug_debugLayer__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var _babylonjs_inspector__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("@babylonjs/inspector");
/* harmony import */ var _babylonjs_inspector__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_babylonjs_inspector__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var webrob_src_test_data__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("webrob/src/test/data");
/* harmony import */ var webrob_src_test_data__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(webrob_src_test_data__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var _DefaultPlayground__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("./src/components/ide/Simulator/DefaultPlayground.js");
/* harmony import */ var webrob_src_robot_MultiRobotHandler__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("webrob/src/robot/MultiRobotHandler");
/* harmony import */ var webrob_src_robot_MultiRobotHandler__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(webrob_src_robot_MultiRobotHandler__WEBPACK_IMPORTED_MODULE_22__);
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/Simulator/Simulator.js";















 // $FlowExpectError



const defaultSimulationConfig = Object(_SimulatorEditor__WEBPACK_IMPORTED_MODULE_15__["generateConfigFromXml"])(_default_simulation_xml__WEBPACK_IMPORTED_MODULE_16___default.a);
var inputController;
const bgIntensity = 0.8;
 // Augments the scene with the debug methods


 // Injects a local ES6 version of the inspector to prevent automatically relying on the none compatible version

const inputsDef = {
  xAxis: [[_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Keyboard, [-'S'.charCodeAt(0), 'W'.charCodeAt(0)]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].DualShock, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DualShockInput"].LStickXAxis]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Xbox, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["XboxInput"].LStickXAxis]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Generic, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["XboxInput"].LStickXAxis]]],
  yAxis: [[_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Keyboard, [-'A'.charCodeAt(0), 'D'.charCodeAt(0)]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].DualShock, [-_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DualShockInput"].LStickYAxis]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Xbox, [-_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["XboxInput"].LStickYAxis]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Generic, [-_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["XboxInput"].LStickYAxis]]],
  zAxis: [[_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Keyboard, [-'Q'.charCodeAt(0), 'E'.charCodeAt(0)]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].DualShock, [-_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DualShockInput"].RStickYAxis]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Xbox, [-_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["XboxInput"].RStickYAxis]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Generic, [-_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["XboxInput"].RStickYAxis]]],
  mode: [[_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Keyboard, [' '.charCodeAt(0)]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].DualShock, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DualShockInput"].R1, _babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DualShockInput"].L1]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Xbox, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["XboxInput"].RB, _babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["XboxInput"].LB]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Generic, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["XboxInput"].RB, _babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["XboxInput"].LB]]],
  fast: [[_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Keyboard, ['O'.charCodeAt(0)]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].DualShock, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DualShockInput"].R2]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Xbox, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["XboxInput"].RT]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Generic, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["XboxInput"].RT]]],
  slow: [[_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Keyboard, ['L'.charCodeAt(0)]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].DualShock, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DualShockInput"].L2]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Xbox, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["XboxInput"].LT]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Generic, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["XboxInput"].LT]]],
  tool1: [[_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Keyboard, ['1'.charCodeAt(0)]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].DualShock, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DualShockInput"].Cross]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Xbox, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["XboxInput"].A]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Generic, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["XboxInput"].A]]],
  tool2: [[_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Keyboard, ['2'.charCodeAt(0)]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].DualShock, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DualShockInput"].Circle]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Xbox, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["XboxInput"].B]], [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["DeviceType"].Generic, [_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["XboxInput"].B]]]
};
var assetsManager;
/**
 * The simulator displays a 2D environment containing a simulated robot.
 *
 * Besides the simulation itself, the toolbar allows terminating programs and resetting the simulation.
 */




function inputsProcessed(forceupdate = false) {
  const inputs = inputController.inputs;
  const fastscale = 1 + inputs.fast * 2; // inputs.fast: [0, 1] -> [1, 2]

  const slowscale = 1 - Math.min(inputs.slow, 0.97); // inputs.slow: [0, 1] -> [0, 1]

  const scale = scene.getAnimationRatio() * 0.01 * fastscale * slowscale;
  let shift = _babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["Vector3"].Zero();

  if (inputs.mode > 0.5) {
    shift = new _babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["Vector3"](-inputs.yAxis, inputs.xAxis, inputs.zAxis).scale(scale);
    const shiftQuaternion = _babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["Quaternion"].FromEulerVector(shift);
    tcp.rotationQuaternion = tcp.rotationQuaternion.multiply(shiftQuaternion);
    allrobots.forEach(r => r.setTCPTo(tcp.position, tcp.rotationQuaternion));
    rendering = true;
  } else {
    shift = new _babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["Vector3"](-inputs.xAxis, inputs.yAxis, inputs.zAxis).scale(scale * 0.3); // TODO rotate viewer pos

    if (shift.length() > 0 || forceupdate) {
      tcp.position = tcp.position.add(shift);
      allrobots.forEach(r => r.setTCPTo(tcp.position, tcp.rotationQuaternion));
      rendering = true;
    }
  }

  try {
    if (inputController.changedInputs.tool1 && inputs.tool1 >= 0.5) {
      console.log('Gripping');
      /*
      if (coneMaterial.diffuseColor.equals(Color3.Gray())){
          coneMaterial.diffuseColor = Color3.Black()
          console.log('Gripping')
          //robotInterface.send(CommandFactory.SetEndEffector('Gripping', 1.0))
      } else {
          coneMaterial.diffuseColor = Color3.Gray()
          console.log('Releasing')
          //robotInterface.send(CommandFactory.SetEndEffector('Releasing', 0.0))
      } */
    }
  } catch (e) {
    console.log(e.message);
  }
}

const robotData = [{
  path: "robot/festo_description/urdf/excm40.urdfjson",
  pos: new _babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["Vector3"](0, 0, 0),
  rot: Object(eulerutil_src_EulerUtil_js__WEBPACK_IMPORTED_MODULE_8__["eulerToQuaternion"])(new _babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["Vector3"](0, 0, 0)),
  chains: [{
    base: 'base_link',
    flange: 'axis3',
    ik: 'cartesianik',
    tools: [{
      position: new _babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["Vector3"](0, 0, -0.05),
      rotationQuaternion: Object(eulerutil_src_EulerUtil_js__WEBPACK_IMPORTED_MODULE_8__["eulerToQuaternion"])(new _babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["Vector3"](0, 0, 0)),
      type: 'vacuumGripper',
      visual: {
        parameter: {
          diameter: 0.01,
          height: 0.05
        },
        position: new _babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["Vector3"](0, 0, -0.025),
        rotationQuaternion: Object(eulerutil_src_EulerUtil_js__WEBPACK_IMPORTED_MODULE_8__["eulerToQuaternion"])(new _babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["Vector3"](Math.PI / 2, 0, 0))
      }
    }]
  }]
} //{path: "robot/pr2_description/robots/", file: 'pr2.urdfjson', pos: new Vector3(0,0,0)},
];
const Simulator = react__WEBPACK_IMPORTED_MODULE_2__["forwardRef"](({
  running,
  zoom,
  zoomMode,
  onUpdate,
  onExecutionAction
}, ref) => {
  const simulation = _misc_hooks__WEBPACK_IMPORTED_MODULE_7__["useValue"](() => {
    const sim = new _simulation__WEBPACK_IMPORTED_MODULE_14__["Simulation"](); //sim.jsonInit(defaultSimulationConfig);
    //return sim;
  });
  ;

  const onSceneReady = scene => {
    // This creates and positions a free camera (non-mesh)
    var camera = new _babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["FreeCamera"]("camera1", new _babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["Vector3"](0, 5, -10), scene); // This targets the camera to scene origin

    camera.setTarget(_babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["Vector3"].Zero());
    const canvas = scene.getEngine().getRenderingCanvas(); // This attaches the camera to the canvas

    camera.attachControl(canvas, true); // This creates a light, aiming 0,1,0 - to the sky (non-mesh)

    var light = new _babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["HemisphericLight"]("light", new _babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["Vector3"](0, 1, 0), scene); // Default intensity is 1. Let's dim the light a small amount

    light.intensity = 0.7;
    inputController = new webrob_src_InputController_js__WEBPACK_IMPORTED_MODULE_17___default.a(scene);
    inputController.setInputDefinition(inputsDef);
    inputController.currentInputsProcessed.add(() => inputsProcessed());
    const axes = webrob_src_AxesHelper_js__WEBPACK_IMPORTED_MODULE_3___default()(scene, 0.5, 1.0, true);
    assetsManager = new _babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["AssetsManager"](scene); // loadRobots(robotData,scene,assetsManager);

    scene.render(); // Our built-in 'ground' shape.

    _babylonjs_core__WEBPACK_IMPORTED_MODULE_5__["MeshBuilder"].CreateGround("ground", {
      width: 6,
      height: 6
    }, scene);
  };
  /**
   * Will run on every frame render.  We are spinning the box on y-axis.
   */


  const onRender = scene => {};

  _babylonjs_core_Loading_sceneLoader__WEBPACK_IMPORTED_MODULE_0__["SceneLoader"].OnPluginActivatedObservable.add(function (loader) {
    if (loader.name === "urdfjson") {
      loader.assetsManager = assetsManager;
      console.log('Injected AssetManager');
    }
  }); // mount simulator in the target and simulate continuously

  const [renderTarget, setRenderTarget] = react__WEBPACK_IMPORTED_MODULE_2__["useState"](null);
  react__WEBPACK_IMPORTED_MODULE_2__["useEffect"](() => {
    if (renderTarget === null) return undefined;
    simulation.mount(renderTarget);
    simulation.startMatter();
    simulation.startRender();
    return () => {
      simulation.stopRender();
      simulation.stopMatter();
      simulation.unmount();
    };
  }, [renderTarget, simulation]); // Need to use a dependency array here, because Ide requires a stable ref.
  // On each change to the Simulator ref, jsonInit is potentially called.

  react__WEBPACK_IMPORTED_MODULE_2__["useImperativeHandle"](ref, () => ({
    simulation
  }), [simulation]);
  isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_4___default()(_Simulator_scss__WEBPACK_IMPORTED_MODULE_13___default.a);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"]("div", {
    className: _Simulator_scss__WEBPACK_IMPORTED_MODULE_13___default.a.root,
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 285,
      columnNumber: 7
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar__WEBPACK_IMPORTED_MODULE_10__["default"], {
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 289,
      columnNumber: 9
    }
  }, running ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_12__["default"], {
    key: "terminate-and-reset",
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 291,
      columnNumber: 13
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_11__["default"], {
    onClick: () => {
      onExecutionAction({
        action: 'TERMINATE',
        reset: true
      });
    },
    icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["TerminateAndResetIcon"],
    color: "red",
    disableRipple: true,
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 292,
      columnNumber: 15
    }
  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_12__["default"], {
    key: "reset",
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 302,
      columnNumber: 13
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_11__["default"], {
    onClick: () => {
      onExecutionAction({
        action: 'RESET'
      });
    },
    icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["ResetIcon"],
    disableRipple: true,
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 303,
      columnNumber: 15
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_12__["default"], {
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 312,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_11__["default"], {
    onClick: () => {
      onExecutionAction({
        action: 'TERMINATE',
        reset: false
      });
    },
    icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["TerminateIcon"],
    color: "red",
    disableRipple: true,
    disabled: !running,
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 313,
      columnNumber: 13
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_12__["default"], {
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 323,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_11__["default"], {
    onClick: () => onUpdate({
      zoom: Math.min(zoom + 10, 150),
      zoomMode: 'MANUAL'
    }),
    icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["ZoomInIcon"],
    disableRipple: true,
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 324,
      columnNumber: 13
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_12__["default"], {
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 329,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_11__["default"], {
    onClick: () => onUpdate({
      zoom: 100,
      zoomMode: 'MANUAL'
    }),
    icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["ZoomResetIcon"],
    disableRipple: true,
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 330,
      columnNumber: 13
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_12__["default"], {
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 335,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_11__["default"], {
    onClick: () => onUpdate({
      zoom: Math.max(zoom - 10, 50),
      zoomMode: 'MANUAL'
    }),
    icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["ZoomOutIcon"],
    disableRipple: true,
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 336,
      columnNumber: 13
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_12__["default"], {
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 341,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_11__["default"], {
    onClick: () => onUpdate({
      zoom,
      zoomMode: 'FIT'
    }),
    icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["ZoomFitIcon"],
    disableRipple: true,
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 342,
      columnNumber: 13
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_12__["default"], {
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 349,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_11__["default"], {
    onClick: () => onUpdate({}),
    icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["RotateOrbitIcon"],
    disableRipple: true,
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 350,
      columnNumber: 13
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_12__["default"], {
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 354,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_11__["default"], {
    onClick: () => onUpdate({}),
    icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["ResizeIcon"],
    disableRipple: true,
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 355,
      columnNumber: 13
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_12__["default"], {
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 359,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_11__["default"], {
    onClick: () => onUpdate({}),
    icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["ArrowAllIcon"],
    disableRipple: true,
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 360,
      columnNumber: 13
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_12__["default"], {
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 364,
      columnNumber: 11
    }
  }, "SetTCP"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_12__["default"], {
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 368,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_11__["default"], {
    onClick: () => onUpdate({}),
    icon: _misc_palette__WEBPACK_IMPORTED_MODULE_6__["RobotIndustrialIcon"],
    disableRipple: true,
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 369,
      columnNumber: 13
    }
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"]("div", {
    className: "Simulation3D",
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 377,
      columnNumber: 9
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__["createElement"](_DefaultPlayground__WEBPACK_IMPORTED_MODULE_21__["default"], {
    antialias: true,
    onSceneReady: onSceneReady,
    onRender: onRender,
    id: "my-canvas",
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 378,
      columnNumber: 11
    }
  })));
});
/* harmony default export */ __webpack_exports__["default"] = (Simulator);

/***/ }),

/***/ "./src/components/ide/Simulator/Simulator.scss":
/***/ (function(module, exports, __webpack_require__) {


    var refs = 0;
    var css = __webpack_require__("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Simulator/Simulator.scss");
    var insertCss = __webpack_require__("./node_modules/isomorphic-style-loader/insertCss.js");
    var content = typeof css === 'string' ? [[module.i, css, '']] : css;

    exports = module.exports = css.locals || {};
    exports._getContent = function() { return content; };
    exports._getCss = function() { return '' + css; };
    exports._insertCss = function(options) { return insertCss(content, options) };

    // Hot Module Replacement
    // https://webpack.github.io/docs/hot-module-replacement
    // Only activated in browser context
    if ( true && typeof window !== 'undefined' && window.document) {
      var removeCss = function() {};
      module.hot.accept("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Simulator/Simulator.scss", function() {
        css = __webpack_require__("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/Simulator/Simulator.scss");
        content = typeof css === 'string' ? [[module.i, css, '']] : css;
        removeCss = insertCss(content, { replace: true });
      });
      module.hot.dispose(function() { removeCss(); });
    }
  

/***/ }),

/***/ "./src/components/ide/Simulator/URDFJSONLoader.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return URDFJSONLoader; });
/* harmony import */ var eulerutil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("eulerutil");
/* harmony import */ var eulerutil__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(eulerutil__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babylonjs_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("@babylonjs/core");
/* harmony import */ var _babylonjs_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babylonjs_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var webrob_src_robot_Robot__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("webrob/src/robot/Robot");
/* harmony import */ var webrob_src_robot_Robot__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(webrob_src_robot_Robot__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var webrob_src_robot_Joint__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("webrob/src/robot/Joint");
/* harmony import */ var webrob_src_robot_Joint__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(webrob_src_robot_Joint__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var webrob_src_AxesHelper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("webrob/src/AxesHelper");
/* harmony import */ var webrob_src_AxesHelper__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(webrob_src_AxesHelper__WEBPACK_IMPORTED_MODULE_4__);
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }







function parseVector(val) {
  if (!val) return _babylonjs_core__WEBPACK_IMPORTED_MODULE_1__["Vector3"].Zero();
  return _babylonjs_core__WEBPACK_IMPORTED_MODULE_1__["Vector3"].FromArray(val.trim().split(/\s+/g).map(parseFloat));
}

function splitFolderPath(path) {
  const sepIndex = path.lastIndexOf('/') + 1;
  return [path.substr(0, sepIndex), path.substr(sepIndex)];
}
/**
 * URDF JSON loader.
 * This is a babylon scene loader plugin.
 */


class URDFJSONLoader {
  constructor() {
    _defineProperty(this, "name", "urdfjson");

    _defineProperty(this, "extensions", {
      ".urdfjson": {
        isBinary: false
      }
    });

    this.assetsManager = null;
    this.importVisual = true;
    this.importCollision = false;
    this.overrideMeshMaterial = false;
    this.packagePath = 'robot/';
  }
  /**
   * Defines the name of the plugin.
   */


  /**
   * Load into a scene.
   * @param scene The scene to load into
   * @param data The data to import
   * @param rootUrl The root url for scene and resources
   * @param onError The callback when import fails
   * @returns true if successful or false otherwise
   */
  load(scene, data, rootUrl) {
    console.log("ich bin hier");
    return this.importMesh(null, scene, data, rootUrl, null, null, null);
  }
  /**
   * Load into an asset container.
   * @param scene The scene to load into
   * @param data The data to import
   * @param rootUrl The root url for scene and resources
   * @param onError The callback when import fails
   * @returns The loaded asset container
   */


  loadAssetContainer(scene, data, rootUrl, onError) {
    const container = new _babylonjs_core__WEBPACK_IMPORTED_MODULE_1__["AssetContainer"](scene);
    scene._blockEntityCollection = true;
    this.importMesh(null, scene, data, rootUrl, container.meshes, null, null);
    scene._blockEntityCollection = false;
    return container;
  }
  /**
   * Import meshes into a scene.
   * @param meshesNames An array of mesh names, a single mesh name, or empty string for all meshes that filter what meshes are imported
   * @param scene The scene to import into
   * @param data The data to import
   * @param rootUrl The root url for scene and resources
   * @param meshes The meshes array to import into
   * @param particleSystems The particle systems array to import into
   * @param skeletons The skeletons array to import into
   * @param onError The callback when import fails
   * @returns True if successful or false otherwise
   */


  importMesh(meshesNames, scene, data, rootUrl, meshes, particleSystems, skeleton) {
    const materials = {
      'DefaultMaterial': new _babylonjs_core__WEBPACK_IMPORTED_MODULE_1__["StandardMaterial"]('DefaultMaterial', scene)
    };
    const assetsManager = this.assetsManager || new _babylonjs_core__WEBPACK_IMPORTED_MODULE_1__["AssetsManager"](scene);

    if (typeof data !== "object") {
      if (typeof data === "string") {
        data = JSON.parse(data);
      } else {
        // convert to string
        const array_buffer = new Uint8Array(data);
        let str = '';

        for (let i = 0; i < data.byteLength; i++) {
          str += String.fromCharCode(array_buffer[i]); // implicitly assumes little-endian
        }

        data = JSON.parse(str);
      }
    }

    if (typeof data !== "object") {
      _babylonjs_core__WEBPACK_IMPORTED_MODULE_1__["Tools"].Error("URDFJSONLoader: Invalid data format provided");
      return false;
    }

    const robotData = data.robot;
    console.log("Importing robotData: " + robotData.name);
    const robot = new webrob_src_robot_Robot__WEBPACK_IMPORTED_MODULE_2___default.a(robotData.name, scene); //robot.rotationQuaternion = fromRotation
    //robot.scale = fromScale

    if (robotData.material) {
      robotData.material.forEach(m => this.importMaterial(m, materials, assetsManager, scene));
    }

    robotData.link.forEach(l => this.importLink(l, robot, scene, materials, assetsManager));
    robotData.joint.forEach((j, index) => this.importJoint(j, robot, index, scene));
    robot.rootLink = _.find(robot.links, l => l.parent === null);
    robot.rootLink.parent = robot;
    /*
    Object.values(robot.links).forEach(l => {
        //console.log("Adding axis to "+l.name)
        const axes = createAxes(scene, 0.2, 0.3, false);
        axes.parent = l
    });*/

    if (this.assetsManager !== assetsManager) assetsManager.load();

    if (meshes) {
      meshes.push(robot);
    }

    return true;
  }

  importJoint(jointData, robot, index, scene) {
    let joint = null;
    joint = new webrob_src_robot_Joint__WEBPACK_IMPORTED_MODULE_3___default.a(jointData.name, scene);
    joint.index = index;
    robot.joints[jointData.name] = joint;
    joint.jointType = jointData.type;
    const child = robot.links[jointData.child.link];
    const parent = robot.links[jointData.parent.link];
    child.parent = joint;
    joint.parent = parent;

    if (jointData.origin) {
      joint.position = parseVector(jointData.origin.xyz);
      Object(eulerutil__WEBPACK_IMPORTED_MODULE_0__["eulerToQuaternion"])(parseVector(jointData.origin.rpy), 'XYZ', joint.rotationQuaternion);
    }

    if (jointData.limit) {
      joint.limit.lower = parseFloat(jointData.limit.lower);
      joint.limit.upper = parseFloat(jointData.limit.upper);
      joint.velocity = parseFloat(jointData.limit.velocity);
    }

    if (jointData.axis) {
      joint.axis = parseVector(jointData.axis.xyz);
      joint.axis.normalize();
    }
  }

  importLink(linkData, robot, scene, materials, assetsManager) {
    const link = new _babylonjs_core__WEBPACK_IMPORTED_MODULE_1__["TransformNode"](linkData.name, scene);
    robot.links[linkData.name] = link;
    link.rotationQuaternion = _babylonjs_core__WEBPACK_IMPORTED_MODULE_1__["Quaternion"].Identity();

    if (this.importVisual && linkData.visual) {
      if (!_.isArray(linkData.visual)) linkData.visual = [linkData.visual];
      linkData.visual.forEach(visual => this.importLinkElement(visual, link, '_visual', robot.visual, materials, assetsManager, scene));
    }

    if (this.importCollision && linkData.collision) {
      if (!_.isArray(linkData.collision)) linkData.collision = [linkData.collision];
      linkData.collision.forEach(collision => this.importLinkElement(collision, link, '_collision', robot.collision, materials, assetsManager, scene));
    }
  }

  importLinkElement(linkData, parent, namesuffix, collection, materials, assetsManager, scene) {
    let elementName = linkData.name;
    if (!elementName) elementName = parent.name + namesuffix;
    let material = null;

    if (linkData.material) {
      const materialName = linkData.material.name;

      if (materialName && materialName in materials) {
        material = materials[materialName];
      } else {
        material = this.importMaterial(linkData.material, materials, assetsManager, scene);
      }
    } else {
      material = materials['DefaultMaterial'];
    }

    const element = new _babylonjs_core__WEBPACK_IMPORTED_MODULE_1__["TransformNode"](elementName, scene);
    element.rotationQuaternion = _babylonjs_core__WEBPACK_IMPORTED_MODULE_1__["Quaternion"].Identity();
    element.parent = parent;
    collection[elementName] = element;

    if (linkData.origin) {
      element.position = parseVector(linkData.origin.xyz);
      Object(eulerutil__WEBPACK_IMPORTED_MODULE_0__["eulerToQuaternion"])(parseVector(linkData.origin.rpy), 'XYZ', element.rotationQuaternion);
    }

    if (linkData.geometry) {
      const geom = linkData.geometry;

      if (geom.mesh) {
        this.importMeshReference(geom.mesh.filename, element, material, assetsManager);
        if (geom.mesh.scale) element.scale = parseVector(geom.mesh.scale);
      } else if (geom.box) {
        const size = parseVector(geom.box.size) || _babylonjs_core__WEBPACK_IMPORTED_MODULE_1__["Vector3"].One();
        const box = _babylonjs_core__WEBPACK_IMPORTED_MODULE_1__["MeshBuilder"].CreateBox(elementName + "Box", {
          width: size.x,
          depth: size.y,
          height: size.z
        }, scene);
        box.material = material;
        box.parent = element;
        box.rotation.set(Math.PI / 2, 0, 0);
      } else if (geom.sphere) {
        const radius = parseFloat(geom.sphere.radius) || 1;
        const sphere = _babylonjs_core__WEBPACK_IMPORTED_MODULE_1__["MeshBuilder"].CreateSphere(elementName + "Sphere", {
          diameter: radius * 2
        }, scene);
        sphere.material = material;
        sphere.parent = element;
      } else if (geom.cylinder) {
        const radius = parseFloat(geom.cylinder.radius) || 1;
        const length = parseFloat(geom.cylinder.length) || 1;
        const cylinder = _babylonjs_core__WEBPACK_IMPORTED_MODULE_1__["MeshBuilder"].CreateCylinder(elementName + "Cylinder", {
          height: length,
          diameter: radius * 2
        }, scene);
        cylinder.material = material;
        cylinder.parent = element;
        cylinder.rotation.set(Math.PI / 2, 0, 0);
      }
    }

    return element;
  }

  importMeshReference(path, parent, material, assetsManager) {
    const filePath = this.resolvePath(path); // file path is null if a package directory is not provided.

    if (filePath !== null) {
      const [folder, file] = splitFolderPath(filePath);
      const meshTask = assetsManager.addMeshTask("meshTask" + file, "", folder, file);

      meshTask.onSuccess = task => {
        task.loadedMeshes.forEach(m => {
          m.parent = parent;
          if (file.endsWith('.stl')) m.rotation.set(Math.PI / 2, 0, 0);
          if (this.overrideMeshMaterial || !m.material) m.material = material;
        });
      };

      meshTask.onError = (task, msg, ex) => _babylonjs_core__WEBPACK_IMPORTED_MODULE_1__["Tools"].Error('URDFJSONLoader: Error loading mesh:' + msg, ex);
    }
  }

  importMaterial(materialData, materials, assetsManager, scene) {
    const material = new _babylonjs_core__WEBPACK_IMPORTED_MODULE_1__["StandardMaterial"](materialData.name, scene);
    materials[materialData.name] = material;

    if (materialData.color) {
      const rgba = materialData.color.rgba.split(/\s/g).map(parseFloat);
      material.diffuseColor = new _babylonjs_core__WEBPACK_IMPORTED_MODULE_1__["Color3"](rgba[0], rgba[1], rgba[2]);
      material.opacity = rgba[3];
      material.transparent = rgba[3] < 1;
      material.disableDepthWrite = material.transparent;
    }

    if (materialData.texture) {
      const filePath = this.resolvePath(materialData.texture.filename);
      const textureTask = assetsManager.addTextureTask("textureTask" + materialData.texture.filename, filePath);

      textureTask.onSuccess = task => material.diffuseTexture = task.texture;

      textureTask.onError = (task, msg, ex) => _babylonjs_core__WEBPACK_IMPORTED_MODULE_1__["Tools"].Error('URDFJSONLoader: Error loading mesh:' + msg, ex);
    }

    return material;
  }

  resolvePath(path) {
    return this.packagePath + path.replace(/^package:\/\//, '');
  }

}

if (_babylonjs_core__WEBPACK_IMPORTED_MODULE_1__["SceneLoader"]) {
  _babylonjs_core__WEBPACK_IMPORTED_MODULE_1__["SceneLoader"].RegisterPlugin(new URDFJSONLoader());
  console.log('Registered URDFJSONLoader');
} else {
  console.log("Could not register URDFJSONLoader");
}

/***/ }),

/***/ "./src/components/ide/Simulator/default_simulation.xml":
/***/ (function(module, exports) {

module.exports = "<xml xmlns=\"https://developers.google.com/blockly/xml\">\n  <block type=\"simulator_root\" id=\"Ud0t5eObyOC+TgB2!ft/\" x=\"-50\" y=\"-50\">\n    <field name=\"X\">0</field>\n    <field name=\"Y\">0</field>\n    <field name=\"W\">720</field>\n    <field name=\"H\">500</field>\n    <field name=\"WALLS\">FALSE</field>\n    <statement name=\"OBJECTS\">\n      <block type=\"simulator_group\" id=\")xvh44LZ@ILx{qI#T1PS\">\n        <value name=\"SETTINGS\">\n          <block type=\"simulator_settings_static\" id=\"}*DugOye@i7eC@Zd$/Am\">\n            <field name=\"STATIC\">TRUE</field>\n          </block>\n        </value>\n        <statement name=\"OBJECTS\">\n          <block type=\"simulator_rect\" id=\"[`ue1h-NPFw]U[rny`cS\">\n            <field name=\"W\">10</field>\n            <field name=\"H\">500</field>\n            <value name=\"SETTINGS\">\n              <block type=\"simulator_settings_color\" id=\"dA(*tLmQB[^`BxVB~fem\">\n                <field name=\"COLOUR\">#222222</field>\n                <value name=\"MORE\">\n                  <block type=\"simulator_settings_sensor\" id=\"N*iF4Oa+A%?L4HMV?+mX\">\n                    <field name=\"SENSOR\">TRUE</field>\n                    <value name=\"MORE\">\n                      <block type=\"simulator_settings_line\" id=\"q}!]!}3WisH!97Ur$I6-\">\n                        <field name=\"LINE\">TRUE</field>\n                        <value name=\"MORE\">\n                          <block type=\"simulator_settings_translate\" id=\"0JNA43_1$!YL;.hw9Gao\">\n                            <field name=\"X\">-200</field>\n                            <field name=\"Y\">0</field>\n                          </block>\n                        </value>\n                      </block>\n                    </value>\n                  </block>\n                </value>\n              </block>\n            </value>\n            <next>\n              <block type=\"simulator_group\" id=\"TS*IimuP0bb/af7*iuza\">\n                <value name=\"SETTINGS\">\n                  <block type=\"simulator_settings_color\" id=\"jMW*yWy9Ea0mLB*fP3UB\">\n                    <field name=\"COLOUR\">#33ff33</field>\n                    <value name=\"MORE\">\n                      <block type=\"simulator_settings_translate\" id=\"Ia%=acVI.i}G`Gy.5XIi\">\n                        <field name=\"X\">-20</field>\n                        <field name=\"Y\">0</field>\n                      </block>\n                    </value>\n                  </block>\n                </value>\n                <statement name=\"OBJECTS\">\n                  <block type=\"simulator_rect\" id=\"z=b4|uZ@7Yf51ry;WXQ3\">\n                    <field name=\"W\">110</field>\n                    <field name=\"H\">4</field>\n                    <value name=\"SETTINGS\">\n                      <block type=\"simulator_settings_translate\" id=\"X{G#P`r_|;Rd7BO?RyNJ\">\n                        <field name=\"X\">0</field>\n                        <field name=\"Y\">60</field>\n                      </block>\n                    </value>\n                    <next>\n                      <block type=\"simulator_rect\" id=\"dz8UW*iq(6UG,]2lsbyC\">\n                        <field name=\"W\">110</field>\n                        <field name=\"H\">4</field>\n                        <value name=\"SETTINGS\">\n                          <block type=\"simulator_settings_translate\" id=\"-4x@7aUOa,czD:hP#?A1\">\n                            <field name=\"X\">0</field>\n                            <field name=\"Y\">-60</field>\n                          </block>\n                        </value>\n                        <next>\n                          <block type=\"simulator_rect\" id=\"uIQ]v^TOZ~JG+;Tl%jtN\">\n                            <field name=\"W\">4</field>\n                            <field name=\"H\">124</field>\n                            <value name=\"SETTINGS\">\n                              <block type=\"simulator_settings_translate\" id=\"6^c!%[2p_poD|L:ol2h0\">\n                                <field name=\"X\">55</field>\n                                <field name=\"Y\">0</field>\n                              </block>\n                            </value>\n                            <next>\n                              <block type=\"simulator_rect\" id=\"[:H]#,$,xGlbYu/K4*Jy\">\n                                <field name=\"W\">50</field>\n                                <field name=\"H\">116</field>\n                                <value name=\"SETTINGS\">\n                                  <block type=\"simulator_settings_color\" id=\"1CEedKU@UVjU7(iEjRr=\">\n                                    <field name=\"COLOUR\">#ffffff</field>\n                                    <value name=\"MORE\">\n                                      <block type=\"simulator_settings_sensor\" id=\"seH)Qxpn45-8Qz2sRG7P\">\n                                        <field name=\"SENSOR\">TRUE</field>\n                                        <value name=\"MORE\">\n                                          <block type=\"simulator_settings_translate\" id=\"w(BhIz:ir?T=W}M0(~+T\">\n                                            <field name=\"X\">28</field>\n                                            <field name=\"Y\">0</field>\n                                            <value name=\"MORE\">\n                                              <block type=\"simulator_settings_label\" id=\"+{K]lrJ~Mg2pvCfR5ZtK\">\n                                                <field name=\"LABEL\">green</field>\n                                              </block>\n                                            </value>\n                                          </block>\n                                        </value>\n                                      </block>\n                                    </value>\n                                  </block>\n                                </value>\n                              </block>\n                            </next>\n                          </block>\n                        </next>\n                      </block>\n                    </next>\n                  </block>\n                </statement>\n                <next>\n                  <block type=\"simulator_group\" id=\"sRAp~WXji0A9!D%]2W^d\">\n                    <value name=\"SETTINGS\">\n                      <block type=\"simulator_settings_color\" id=\"hv.5eIzC=/!])v3@BxX@\">\n                        <field name=\"COLOUR\">#3333ff</field>\n                        <value name=\"MORE\">\n                          <block type=\"simulator_settings_translate\" id=\"hk:A7(|~$1h|MGzCHGQr\">\n                            <field name=\"X\">270</field>\n                            <field name=\"Y\">170</field>\n                            <value name=\"MORE\">\n                              <block type=\"simulator_settings_rotate\" id=\"#4DVxaeA._N}WR+%1=u?\">\n                                <field name=\"ANGLE\">315</field>\n                              </block>\n                            </value>\n                          </block>\n                        </value>\n                      </block>\n                    </value>\n                    <statement name=\"OBJECTS\">\n                      <block type=\"simulator_rect\" id=\"/e80oB4vxD8rbG8f^:xk\">\n                        <field name=\"W\">110</field>\n                        <field name=\"H\">4</field>\n                        <value name=\"SETTINGS\">\n                          <block type=\"simulator_settings_translate\" id=\"f^yqXX.R*Ln7W!he3t%6\">\n                            <field name=\"X\">0</field>\n                            <field name=\"Y\">50</field>\n                          </block>\n                        </value>\n                        <next>\n                          <block type=\"simulator_rect\" id=\"t#dzcgIUC*b*D,Ed`AKU\">\n                            <field name=\"W\">110</field>\n                            <field name=\"H\">4</field>\n                            <value name=\"SETTINGS\">\n                              <block type=\"simulator_settings_translate\" id=\"#P(]A0*4lB4H%_#w5~WO\">\n                                <field name=\"X\">0</field>\n                                <field name=\"Y\">-50</field>\n                              </block>\n                            </value>\n                            <next>\n                              <block type=\"simulator_rect\" id=\"ALXk$-:%;1{[!T_OShEw\">\n                                <field name=\"W\">4</field>\n                                <field name=\"H\">104</field>\n                                <value name=\"SETTINGS\">\n                                  <block type=\"simulator_settings_translate\" id=\"t4n$}s2,nUG?8Vh]|GCi\">\n                                    <field name=\"X\">55</field>\n                                    <field name=\"Y\">0</field>\n                                  </block>\n                                </value>\n                                <next>\n                                  <block type=\"simulator_rect\" id=\"chim|]pGuX:RSpfQzPxk\">\n                                    <field name=\"W\">50</field>\n                                    <field name=\"H\">96</field>\n                                    <value name=\"SETTINGS\">\n                                      <block type=\"simulator_settings_color\" id=\"A29{Nlf4CVj?Wl9abIEz\">\n                                        <field name=\"COLOUR\">#ffffff</field>\n                                        <value name=\"MORE\">\n                                          <block type=\"simulator_settings_sensor\" id=\"0|_;}8kL::=jyZa^ZLBS\">\n                                            <field name=\"SENSOR\">TRUE</field>\n                                            <value name=\"MORE\">\n                                              <block type=\"simulator_settings_translate\" id=\"0yGKN|-{r18z/bH*]C?X\">\n                                                <field name=\"X\">28</field>\n                                                <field name=\"Y\">0</field>\n                                                <value name=\"MORE\">\n                                                  <block type=\"simulator_settings_label\" id=\"/o3=KlS#s%s#C#Z;n)1Q\">\n                                                    <field name=\"LABEL\">blue</field>\n                                                  </block>\n                                                </value>\n                                              </block>\n                                            </value>\n                                          </block>\n                                        </value>\n                                      </block>\n                                    </value>\n                                  </block>\n                                </next>\n                              </block>\n                            </next>\n                          </block>\n                        </next>\n                      </block>\n                    </statement>\n                    <next>\n                      <block type=\"simulator_group\" id=\"dnvn0O?Fll]-HI*@Ep[j\">\n                        <value name=\"SETTINGS\">\n                          <block type=\"simulator_settings_color\" id=\"{0H!|H:#{-TRLhM#F?Q:\">\n                            <field name=\"COLOUR\">#ffff00</field>\n                            <value name=\"MORE\">\n                              <block type=\"simulator_settings_translate\" id=\"Cr3/yNQpOM9gt[yvqN70\">\n                                <field name=\"X\">130</field>\n                                <field name=\"Y\">-170</field>\n                                <value name=\"MORE\">\n                                  <block type=\"simulator_settings_rotate\" id=\"5:o2,iZk-H,nCR,erieP\">\n                                    <field name=\"ANGLE\">180</field>\n                                  </block>\n                                </value>\n                              </block>\n                            </value>\n                          </block>\n                        </value>\n                        <statement name=\"OBJECTS\">\n                          <block type=\"simulator_rect\" id=\"~0Jn+-rW(9{qQ,]V*W*B\">\n                            <field name=\"W\">110</field>\n                            <field name=\"H\">4</field>\n                            <value name=\"SETTINGS\">\n                              <block type=\"simulator_settings_translate\" id=\"_J-UTKFqbWZ-zYJb`/Dq\">\n                                <field name=\"X\">0</field>\n                                <field name=\"Y\">45</field>\n                              </block>\n                            </value>\n                            <next>\n                              <block type=\"simulator_rect\" id=\")V-k6]NZEaiO!5h!c~cu\">\n                                <field name=\"W\">110</field>\n                                <field name=\"H\">4</field>\n                                <value name=\"SETTINGS\">\n                                  <block type=\"simulator_settings_translate\" id=\"PRNhc#n/}+1%qnzTjlBC\">\n                                    <field name=\"X\">0</field>\n                                    <field name=\"Y\">-45</field>\n                                  </block>\n                                </value>\n                                <next>\n                                  <block type=\"simulator_rect\" id=\"(:hTPm7NQ_sriqusim]i\">\n                                    <field name=\"W\">4</field>\n                                    <field name=\"H\">94</field>\n                                    <value name=\"SETTINGS\">\n                                      <block type=\"simulator_settings_translate\" id=\"p(+BlWNq]5]_TFFel7F(\">\n                                        <field name=\"X\">55</field>\n                                        <field name=\"Y\">0</field>\n                                      </block>\n                                    </value>\n                                    <next>\n                                      <block type=\"simulator_rect\" id=\"lZ$XRfnYy(2-$FXqqogZ\">\n                                        <field name=\"W\">50</field>\n                                        <field name=\"H\">86</field>\n                                        <value name=\"SETTINGS\">\n                                          <block type=\"simulator_settings_color\" id=\"E1qN/*|F(KY0WFBf@3eT\">\n                                            <field name=\"COLOUR\">#ffffff</field>\n                                            <value name=\"MORE\">\n                                              <block type=\"simulator_settings_sensor\" id=\"U}p018SAM}O3]7EJ6ajv\">\n                                                <field name=\"SENSOR\">TRUE</field>\n                                                <value name=\"MORE\">\n                                                  <block type=\"simulator_settings_translate\" id=\"I`ar8|aDjiTm#6z_q(gB\">\n                                                    <field name=\"X\">28</field>\n                                                    <field name=\"Y\">0</field>\n                                                    <value name=\"MORE\">\n                                                      <block type=\"simulator_settings_label\" id=\":*DDECeZ2r9Xbkeh}+P=\">\n                                                        <field name=\"LABEL\">yellow</field>\n                                                      </block>\n                                                    </value>\n                                                  </block>\n                                                </value>\n                                              </block>\n                                            </value>\n                                          </block>\n                                        </value>\n                                      </block>\n                                    </next>\n                                  </block>\n                                </next>\n                              </block>\n                            </next>\n                          </block>\n                        </statement>\n                      </block>\n                    </next>\n                  </block>\n                </next>\n              </block>\n            </next>\n          </block>\n        </statement>\n        <next>\n          <block type=\"simulator_robot\" id=\"w@.wL:L,Z816e-2Hg_^N\">\n            <field name=\"NAME\">hedgehog</field>\n            <field name=\"DEFAULT_SENSORS\">TRUE</field>\n            <value name=\"SETTINGS\">\n              <block type=\"simulator_settings_translate\" id=\"X?}KHh#p@YbBbw7L=iU;\">\n                <field name=\"X\">-270</field>\n                <field name=\"Y\">0</field>\n              </block>\n            </value>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n</xml>"

/***/ }),

/***/ "./src/components/ide/Simulator/simulation/Hedgehog.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Hedgehog; });
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function createArray(length, cb) {
  // Array.from({ length: n }, (v, i) => ...):
  // first parameter is array-like, so `length` is an array length
  // all values (`v`) are `undefined`, map them to something else.
  return Array.from({
    length
  }, (_elem, index) => cb(index));
}
/**
 * The Hedgehog class represents the controller of a simulated robot.
 * As such, it manages the simulated sensors (whose input values are set by the simulation when changes occur)
 * and actuators (which are set by user programs and queried by the simulation when needed).
 */


class Hedgehog {
  constructor() {
    _defineProperty(this, "motors", createArray(4, () => ({
      power: 0,
      onChange: null
    })));

    _defineProperty(this, "servos", createArray(6, () => ({
      position: null,
      onChange: null
    })));

    _defineProperty(this, "sensors", createArray(16, () => ({
      analogValue: 4095,
      noiseSource: null
    })));
  }

  // "public" APIs for the client
  moveMotor(port, power) {
    var _this$motors$port$onC, _this$motors$port;

    this.motors[port].power = power; // eslint-disable-next-line no-unused-expressions

    (_this$motors$port$onC = (_this$motors$port = this.motors[port]).onChange) === null || _this$motors$port$onC === void 0 ? void 0 : _this$motors$port$onC.call(_this$motors$port, port, power);
  }

  setServo(port, position) {
    var _this$servos$port$onC, _this$servos$port;

    this.servos[port].position = position; // eslint-disable-next-line no-unused-expressions

    (_this$servos$port$onC = (_this$servos$port = this.servos[port]).onChange) === null || _this$servos$port$onC === void 0 ? void 0 : _this$servos$port$onC.call(_this$servos$port, port, position);
  }

  getAnalog(port) {
    var _noiseSource;

    const {
      analogValue,
      noiseSource
    } = this.sensors[port];
    const noise = (_noiseSource = noiseSource === null || noiseSource === void 0 ? void 0 : noiseSource(port, analogValue)) !== null && _noiseSource !== void 0 ? _noiseSource : 0;
    const result = analogValue + noise;
    if (result > 4095) return 4095;
    if (result < 0) return 0;
    return result;
  }

  getDigital(port) {
    return this.getAnalog(port) > 2047;
  }

  off() {
    for (let port = 0; port < 4; port += 1) {
      this.moveMotor(port, 0);
    }

    for (let port = 0; port < 6; port += 1) {
      this.setServo(port, null);
    }
  } // "private" APIs needed by the simulation


  getMotor(port) {
    return this.motors[port].power;
  }

  getServo(port) {
    return this.servos[port].position;
  }

  setSensor(port, value) {
    this.sensors[port].analogValue = value;
  }

}

/***/ }),

/***/ "./src/components/ide/Simulator/simulation/Robot.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Robot; });
/* harmony import */ var matter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("matter-js");
/* harmony import */ var matter_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(matter_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/components/ide/Simulator/simulation/index.js");
/* harmony import */ var _schema_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/components/ide/Simulator/simulation/schema/helpers.js");
/* harmony import */ var _drives__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/components/ide/Simulator/simulation/drives.js");
/* harmony import */ var _sensors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/components/ide/Simulator/simulation/sensors.js");
/* harmony import */ var _servo__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/components/ide/Simulator/simulation/servo.js");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }








function createArray(length, cb) {
  // Array.from({ length: n }, (v, i) => ...):
  // first parameter is array-like, so `length` is an array length
  // all values (`v`) are `undefined`, map them to something else.
  return Array.from({
    length
  }, (_elem, index) => cb(index));
}
/**
 * A simulated robot, capable of moving through and sensing the simulation.
 */


class Robot {
  constructor(config, assets = null) {
    _defineProperty(this, "controller", new ___WEBPACK_IMPORTED_MODULE_1__["Hedgehog"]());

    _defineProperty(this, "body", void 0);

    _defineProperty(this, "collisionSensors", void 0);

    _defineProperty(this, "drive", void 0);

    _defineProperty(this, "servoArms", void 0);

    _defineProperty(this, "robot", void 0);

    this.jsonInit(config, assets);
  }

  jsonInit({
    position: {
      x,
      y
    },
    angle,
    parts,
    render: renderBody
  }, assets = null) {
    Object(_schema_helpers__WEBPACK_IMPORTED_MODULE_2__["resolveSprite"])(renderBody === null || renderBody === void 0 ? void 0 : renderBody.sprite, assets);
    const material = {
      density: 1,
      frictionAir: 0.4
    };
    const materialGrabber = {
      density: 0.02,
      frictionAir: 0
    };
    const styleWheel = {
      render: {
        fillStyle: '#777777'
      }
    };
    const styleBody = {
      render: {
        fillStyle: '#38b449',
        ...renderBody
      }
    };
    const styleLineSensor = {// fillStyle controlled by sensor
    };
    const styleTouchSensor = {// fillStyle controlled by sensor
    };
    const styleDistanceSensor = {
      render: {
        fillStyle: '#555555'
      }
    };
    const optionsDistanceSensorSegment = {
      isSensor: true,
      density: 0,
      frictionAir: 0 // fillStyle & opacity controlled by sensor

    };
    const styleGrabber = {
      render: {
        fillStyle: '#777777'
      }
    };
    const leftWheel = matter_js__WEBPACK_IMPORTED_MODULE_0___default.a.Bodies.rectangle(7, -21, 20, 4, { ...material,
      ...styleWheel,
      label: 'leftWheel'
    });
    const rightWheel = matter_js__WEBPACK_IMPORTED_MODULE_0___default.a.Bodies.rectangle(7, 21, 20, 4, { ...material,
      ...styleWheel,
      label: 'rightWheel'
    });
    const mainBody = matter_js__WEBPACK_IMPORTED_MODULE_0___default.a.Bodies.rectangle(0, 0, 40, 32, { ...material,
      ...styleBody,
      label: 'mainBody'
    });
    this.collisionSensors = [];
    const partBodies = [];

    for (const part of parts) {
      try {
        switch (part.type) {
          case 'line':
            {
              const {
                type: _type,
                port,
                objects
              } = part;

              if (objects.length !== 1) {
                throw new Error(`robot part must have exactly one object: ${part.type} ${port}`);
              }

              const [object] = objects;
              const partBody = ___WEBPACK_IMPORTED_MODULE_1__["schema"].createBody({ ...material,
                ...styleLineSensor,
                ...object
              }, assets);
              const sensor = new _sensors__WEBPACK_IMPORTED_MODULE_4__["LineSensor"](this.controller, partBody, port);
              partBodies.push(partBody);
              this.collisionSensors.push(sensor);
              break;
            }

          case 'touch':
            {
              const {
                type: _type,
                port,
                objects
              } = part;

              if (objects.length !== 1) {
                throw new Error(`robot part must have exactly one object: ${part.type} ${port}`);
              }

              const [object] = objects;
              const partBody = ___WEBPACK_IMPORTED_MODULE_1__["schema"].createBody({ ...material,
                ...styleTouchSensor,
                ...object
              }, assets);
              const sensor = new _sensors__WEBPACK_IMPORTED_MODULE_4__["TouchSensor"](this.controller, partBody, port);
              partBodies.push(partBody);
              this.collisionSensors.push(sensor);
              break;
            }

          case 'distance':
            {
              const {
                type: _type,
                port,
                objects
              } = part;

              if (objects.length !== 1) {
                throw new Error(`robot part must have exactly one object: ${part.type} ${port}`);
              }

              const [object] = objects;
              const partBody = ___WEBPACK_IMPORTED_MODULE_1__["schema"].createBody({ ...material,
                ...styleDistanceSensor,
                ...object
              }, assets);
              const {
                position: {
                  x,
                  y
                },
                angle,
                label
              } = partBody;
              const cos = Math.cos(angle);
              const sin = Math.sin(angle);
              const length = 5;
              const numSegments = 60;
              const segments = createArray(numSegments, index => {
                const distance = length / 2 + length * index;
                const body = matter_js__WEBPACK_IMPORTED_MODULE_0___default.a.Bodies.rectangle(x + cos * distance, y + sin * distance, length, 2, { ...optionsDistanceSensorSegment,
                  angle,
                  label: `${label}-${index}`
                });
                return [body, // add another half length to get to the outer edge of the segment
                length * (index + 1)];
              });
              const sensor = new _sensors__WEBPACK_IMPORTED_MODULE_4__["DistanceSensor"](this.controller, port, segments);
              partBodies.push(partBody, ...segments.map(([body, _distance]) => body));
              this.collisionSensors.push(...sensor.segments);
              break;
            }

          case 'servo_arm':
            {
              // handled later
              break;
            }

          default:
            console.warn('unknown robot part:', part);
        }
      } catch (err) {
        console.error(err);
      }
    }

    this.body = matter_js__WEBPACK_IMPORTED_MODULE_0___default.a.Body.create({
      parts: [leftWheel, rightWheel, ...partBodies, mainBody],
      ...material,
      label: 'body'
    });
    this.drive = new _drives__WEBPACK_IMPORTED_MODULE_3__["DifferentialDrive"](this.controller, 0, 1, leftWheel, rightWheel, this.body);
    this.servoArms = [];
    const compositePartBodies = [];
    const compositePartConstraints = [];

    for (const part of parts) {
      try {
        switch (part.type) {
          case 'line':
          case 'touch':
          case 'distance':
            {
              // handled eariler
              break;
            }

          case 'servo_arm':
            {
              const {
                type: _type,
                port,
                pivotAnchor,
                pivotArm,
                length,
                objects
              } = part;

              if (objects.length !== 1) {
                throw new Error(`robot part must have exactly one object: ${part.type} ${port}`);
              }

              const [object] = objects;
              const partBody = ___WEBPACK_IMPORTED_MODULE_1__["schema"].createBody({ ...materialGrabber,
                ...styleGrabber,
                ...object
              }, assets);
              const servoArm = new _servo__WEBPACK_IMPORTED_MODULE_5__["ServoArm"](this.controller, port, this.body, pivotAnchor, partBody, pivotArm, length);
              compositePartBodies.push(partBody);
              compositePartConstraints.push(servoArm.pivotConstraint, servoArm.controlConstraint);
              this.servoArms.push(servoArm);
              break;
            }

          default:
            console.warn('unknown robot part:', part);
        }
      } catch (err) {
        console.error(err);
      }
    }

    this.robot = matter_js__WEBPACK_IMPORTED_MODULE_0___default.a.Composite.create({
      bodies: [this.body, ...compositePartBodies],
      constraints: [...compositePartConstraints],
      label: 'bot'
    });
    const pose = {
      x,
      y,
      angle
    };
    this.setPose(pose);
    Object(_schema_helpers__WEBPACK_IMPORTED_MODULE_2__["setInitialPose"])(this.body); // TODO temporary
  }

  setPose({
    x,
    y,
    angle
  }) {
    matter_js__WEBPACK_IMPORTED_MODULE_0___default.a.Body.setPosition(this.body, {
      x,
      y
    });
    matter_js__WEBPACK_IMPORTED_MODULE_0___default.a.Body.setAngle(this.body, angle);
  }

  beforeUpdate() {
    this.drive.beforeUpdate();

    for (const servoArm of this.servoArms) {
      servoArm.beforeUpdate();
    }
  }

  reset() {
    for (const servoArm of this.servoArms) {
      servoArm.reset();
    }
  }

}

/***/ }),

/***/ "./src/components/ide/Simulator/simulation/Simulation.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Simulation; });
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lodash.merge");
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var matter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("matter-js");
/* harmony import */ var matter_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(matter_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var pathseg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("pathseg");
/* harmony import */ var pathseg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pathseg__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _client_poly_decomp_polyfill__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/client/poly-decomp-polyfill.js");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/components/ide/Simulator/simulation/index.js");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }







/**
 * Manages a robot simulation.
 * The simulation can contain multiple robots, and objects representing the environment.
 * This class is responsible for managing the Matter.js simulation lifecycle
 * and triggering robot behavior (accelerating the robots, setting values for their sensors).
 */
class Simulation {
  // assets
  // special bodies for simulation logi
  // timers waiting for simulated time to pass
  constructor() {
    _defineProperty(this, "world", void 0);

    _defineProperty(this, "engine", void 0);

    _defineProperty(this, "runner", void 0);

    _defineProperty(this, "render", null);

    _defineProperty(this, "bounds", null);

    _defineProperty(this, "assets", null);

    _defineProperty(this, "robots", new Map());

    _defineProperty(this, "sensorsCache", new Set());

    _defineProperty(this, "timers", []);

    _defineProperty(this, "externalSensorHandlers", []);

    this.world = matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.World.create({
      gravity: {
        x: 0,
        y: 0
      }
    });
    this.engine = matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.Engine.create({
      world: this.world
    });
    this.runner = matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.Runner.create(); // robot update on simulation tick

    matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.Events.on(this.runner, 'beforeUpdate', ({
      timestamp
    }) => {
      for (const robot of this.robots.values()) {
        robot.beforeUpdate();
      }

      this.timers = this.timers.filter(([deadline, resolve]) => {
        // keep timers that have not yet expired
        if (deadline > timestamp) return true; // process the timer and remove

        resolve();
        return false;
      });
    });

    function extractBodyForSDK({
      id,
      label,
      position,
      speed,
      velocity,
      angle,
      angularSpeed,
      angularVelocity,
      bounds
    }) {
      return {
        id,
        label,
        position,
        speed,
        velocity,
        angle,
        angularSpeed,
        angularVelocity,
        bounds
      };
    } // check for line detection


    const collisionHandler = ({
      name,
      pairs
    }) => {
      for (const {
        bodyA,
        bodyB
      } of pairs) {
        for (const handler of this.externalSensorHandlers) {
          handler(name, extractBodyForSDK(bodyA), extractBodyForSDK(bodyB));
        }

        let sensor = null;
        let other = null;

        if (this.sensorsCache.has(bodyA)) {
          sensor = bodyA;
          other = bodyB;
        } else if (this.sensorsCache.has(bodyB)) {
          sensor = bodyB;
          other = bodyA;
        } else {
          continue;
        }

        sensor.plugin.hedgehog.sensor.handleCollision(name, other);
      }
    };

    matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.Events.on(this.engine, 'collisionStart', collisionHandler);
    matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.Events.on(this.engine, 'collisionEnd', collisionHandler);
  }

  async sleep(millis) {
    return (
      /* await */
      new Promise(resolve => {
        this.timers.push([this.engine.timing.timestamp + millis, resolve]);
      })
    );
  }

  jsonInit({
    center: {
      x,
      y
    },
    // eslint-disable-next-line no-shadow
    width,
    // eslint-disable-next-line no-shadow
    height,
    objects
  }, assets = null) {
    this.clear(false);
    this.assets = assets;
    this.lookAt({
      min: {
        x: x - width / 2,
        y: y - height / 2
      },
      max: {
        x: x + width / 2,
        y: y + height / 2
      }
    });
    this.jsonAdd(objects);
  }

  jsonAdd(objects, temporary = false) {
    for (const object of objects) {
      try {
        if (object.type === 'robot') {
          const {
            type: _type,
            name,
            ...options
          } = object; // Robot is added here

          this.addRobot(name, new ___WEBPACK_IMPORTED_MODULE_4__["Robot"](options, this.assets));
        } else {
          // this fails cleanly if the object type is not known
          const body = ___WEBPACK_IMPORTED_MODULE_4__["schema"].createBody(object, this.assets, temporary);
          this.add([body]);
        }
      } catch (err) {
        console.error(err);
      }
    }

    this.updateSensorCache();
  }

  updateBodies(objects) {
    for (const body of this.world.bodies) {
      const settings = objects[body.label];

      if (settings !== undefined) {
        matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.Body.set(body, { ...settings,
          // merge render, as that encapsulates multiple settings
          render: { ...body.render,
            ...settings.render,
            sprite: { ...body.render.sprite,
              ...settings.render.sprite
            }
          },
          // also recursively merge plugins, which encapsulate arbitrary data
          plugin: lodash_merge__WEBPACK_IMPORTED_MODULE_0___default()({}, body.plugin, settings.plugin)
        });
      }
    }
  }

  removeBodies(labels) {
    const bodiesToRemove = this.world.bodies.filter(body => labels.includes(body.label));

    for (const body of bodiesToRemove) {
      matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.World.remove(this.world, body);
    }
  }

  mount(canvas) {
    this.unmount();
    const dimension = {};

    if (this.bounds !== null) {
      dimension.width = this.bounds.max.x - this.bounds.min.x;
      dimension.height = this.bounds.max.y - this.bounds.min.y;
    } // TODO creating a Render instance with a running Engine will error,
    // as the Engine's internal state is recursive.
    // mount() can therefore not be called after initially starting the simulation


    this.render = matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.Render.create({
      canvas,
      engine: this.engine,
      options: { ...dimension,
        wireframes: false,
        background: '#eeeeee'
      }
    });
    if (this.bounds !== null) matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.Render.lookAt(this.render, this.bounds);
  }

  unmount() {
    if (this.render !== null) this.stopRender();
    this.render = null;
  }

  startMatter() {
    matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.Runner.run(this.runner, this.engine);
  }

  startRender() {
    matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.Render.run(this.render);
  }

  stopMatter() {
    matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.Runner.stop(this.runner);
  }

  stopRender() {
    matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.Render.stop(this.render);
  }

  lookAt(bounds) {
    this.bounds = bounds;
    if (this.render !== null) matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.Render.lookAt(this.render, bounds);
  }

  add(bodies) {
    matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.World.add(this.world, bodies);
  }

  addSensorHandler(handler) {
    if (!this.externalSensorHandlers.includes(handler)) {
      this.externalSensorHandlers.push(handler);
    }
  }

  removeSensorHandler(handler) {
    const index = this.externalSensorHandlers.indexOf(handler);

    if (index !== -1) {
      this.externalSensorHandlers.splice(index, 1);
    }
  }

  addRobot(name, robot) {
    this.robots.set(name, robot);
    this.add(robot.robot);
  } // this method has to be called after adding one or more robots to the
  // simulation, before using any new robot's sensors.


  updateSensorCache() {
    this.sensorsCache.clear();

    for (const robot of this.robots.values()) {
      for (const sensor of robot.collisionSensors) {
        this.sensorsCache.add(sensor.sensorBody);
      }
    }
  }

  clear(keepStatic) {
    matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.Composite.clear(this.world, keepStatic);
    this.robots.clear();
    this.updateSensorCache();
  }

  reset() {
    const bodiesToRemove = [];

    for (const composite of [...matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.Composite.allComposites(this.world), ...matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.Composite.allBodies(this.world)]) {
      var _composite$plugin$hed, _composite$plugin$hed2;

      if ((_composite$plugin$hed = composite.plugin.hedgehog) === null || _composite$plugin$hed === void 0 ? void 0 : _composite$plugin$hed.initialPose) {
        const {
          x,
          y,
          angle
        } = composite.plugin.hedgehog.initialPose;
        matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.Body.setPosition(composite, {
          x,
          y
        });
        matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.Body.setAngle(composite, angle);
        matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.Body.setVelocity(composite, {
          x: 0,
          y: 0
        });
        matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.Body.setAngularVelocity(composite, 0);
      }

      if ((_composite$plugin$hed2 = composite.plugin.hedgehog) === null || _composite$plugin$hed2 === void 0 ? void 0 : _composite$plugin$hed2.temporary) {
        bodiesToRemove.push(composite);
      }
    }

    for (const body of bodiesToRemove) {
      matter_js__WEBPACK_IMPORTED_MODULE_1___default.a.World.remove(this.world, body);
    }

    for (const robot of this.robots.values()) {
      robot.reset();
    }
  }

}

/***/ }),

/***/ "./src/components/ide/Simulator/simulation/drives.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DifferentialDrive", function() { return DifferentialDrive; });
/* harmony import */ var matter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("matter-js");
/* harmony import */ var matter_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(matter_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/components/ide/Simulator/simulation/index.js");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }


 // eslint-disable-next-line import/prefer-default-export

class DifferentialDrive {
  constructor(controller, leftPort, rightPort, leftWheel, rightWheel, body) {
    _defineProperty(this, "controller", void 0);

    _defineProperty(this, "leftPort", void 0);

    _defineProperty(this, "rightPort", void 0);

    _defineProperty(this, "leftWheel", void 0);

    _defineProperty(this, "rightWheel", void 0);

    _defineProperty(this, "body", void 0);

    this.controller = controller;
    this.leftPort = leftPort;
    this.rightPort = rightPort;
    this.leftWheel = leftWheel;
    this.rightWheel = rightWheel;
    this.body = body;
  }

  applyForce(pos, force, cos, sin) {
    matter_js__WEBPACK_IMPORTED_MODULE_0___default.a.Body.applyForce(this.body, pos, {
      x: force * cos,
      y: force * sin
    });
  }

  beforeUpdate() {
    const lPos = this.leftWheel.position;
    const rPos = this.rightWheel.position;
    const dx = lPos.x - rPos.x;
    const dy = lPos.y - rPos.y;
    const hypot = Math.hypot(dx, dy); // cosine and sine of the angle in which the forces are directed
    // this is normal to the axis of the wheels, therefore [-dy, dx] instead of [dx, dy]

    const cos = -dy / hypot;
    const sin = dx / hypot;
    this.applyForce(lPos, this.controller.getMotor(this.leftPort) / 800, cos, sin);
    this.applyForce(rPos, this.controller.getMotor(this.rightPort) / 800, cos, sin);
  }

}

/***/ }),

/***/ "./src/components/ide/Simulator/simulation/index.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/ide/Simulator/simulation/schema/index.js");
/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, "schema", function() { return _schema__WEBPACK_IMPORTED_MODULE_0__; });
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Point", function() { return _schema__WEBPACK_IMPORTED_MODULE_0__["Point"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Pose", function() { return _schema__WEBPACK_IMPORTED_MODULE_0__["Pose"]; });

/* harmony import */ var _Hedgehog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/components/ide/Simulator/simulation/Hedgehog.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Hedgehog", function() { return _Hedgehog__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _Robot__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/components/ide/Simulator/simulation/Robot.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Robot", function() { return _Robot__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony import */ var _Simulation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/components/ide/Simulator/simulation/Simulation.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Simulation", function() { return _Simulation__WEBPACK_IMPORTED_MODULE_3__["default"]; });

// work around https://github.com/benmosher/eslint-plugin-import/issues/1753







/***/ }),

/***/ "./src/components/ide/Simulator/simulation/schema/helpers.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resolveSprite", function() { return resolveSprite; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setInitialPose", function() { return setInitialPose; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setTemporary", function() { return setTemporary; });
/* harmony import */ var matter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("matter-js");
/* harmony import */ var matter_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(matter_js__WEBPACK_IMPORTED_MODULE_0__);

function resolveSprite(sprite, assets = null) {
  if ((sprite === null || sprite === void 0 ? void 0 : sprite.texture) && sprite.texture.startsWith('asset:')) {
    var _assets$get;

    if (assets === null) {
      throw new Error(`Trying to use '${sprite.texture}', but there's no asset map`);
    } // the result may be undefined, which is fine with us,
    // because that means Matter.js will not fail loading a texture


    sprite.texture = (_assets$get = assets.get(sprite.texture)) === null || _assets$get === void 0 ? void 0 : _assets$get[0];
  }
}
function setInitialPose(body, pose) {
  if (!body.plugin.hedgehog) body.plugin.hedgehog = {};
  body.plugin.hedgehog.initialPose = pose !== null && pose !== void 0 ? pose : { ...body.position,
    angle: body.angle
  };
}
function setTemporary(body, temporary) {
  if (!body.plugin.hedgehog) body.plugin.hedgehog = {};
  body.plugin.hedgehog.temporary = temporary;
}

/***/ }),

/***/ "./src/components/ide/Simulator/simulation/schema/index.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _misc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/ide/Simulator/simulation/schema/misc.js");
/* harmony import */ var _misc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_misc__WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _misc__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _misc__WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _simulation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/components/ide/Simulator/simulation/schema/simulation.js");
/* harmony import */ var _simulation__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_simulation__WEBPACK_IMPORTED_MODULE_1__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _simulation__WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _simulation__WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/components/ide/Simulator/simulation/schema/settings.js");
/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_settings__WEBPACK_IMPORTED_MODULE_2__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _settings__WEBPACK_IMPORTED_MODULE_2__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _settings__WEBPACK_IMPORTED_MODULE_2__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _objects__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/components/ide/Simulator/simulation/schema/objects.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "createBody", function() { return _objects__WEBPACK_IMPORTED_MODULE_3__["createBody"]; });

/* harmony import */ var _robot__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/components/ide/Simulator/simulation/schema/robot.js");
/* harmony import */ var _robot__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_robot__WEBPACK_IMPORTED_MODULE_4__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _robot__WEBPACK_IMPORTED_MODULE_4__) if(["createBody","default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _robot__WEBPACK_IMPORTED_MODULE_4__[key]; }) }(__WEBPACK_IMPORT_KEY__));






/***/ }),

/***/ "./src/components/ide/Simulator/simulation/schema/misc.js":
/***/ (function(module, exports) {



/***/ }),

/***/ "./src/components/ide/Simulator/simulation/schema/objects.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createBody", function() { return createBody; });
/* harmony import */ var matter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("matter-js");
/* harmony import */ var matter_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(matter_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/components/ide/Simulator/simulation/schema/helpers.js");


function createBody(config, assets = null, temporary = false) {
  let body;

  switch (config.type) {
    case 'rectangle':
      {
        var _options$render;

        // eslint-disable-next-line no-shadow
        const {
          type: _type,
          width,
          height,
          ...options
        } = config;
        Object(_helpers__WEBPACK_IMPORTED_MODULE_1__["resolveSprite"])(options === null || options === void 0 ? void 0 : (_options$render = options.render) === null || _options$render === void 0 ? void 0 : _options$render.sprite, assets);
        body = matter_js__WEBPACK_IMPORTED_MODULE_0___default.a.Bodies.rectangle(0, 0, width, height, options);
        break;
      }

    case 'circle':
      {
        var _options$render2;

        const {
          type: _type,
          radius,
          ...options
        } = config;
        Object(_helpers__WEBPACK_IMPORTED_MODULE_1__["resolveSprite"])(options === null || options === void 0 ? void 0 : (_options$render2 = options.render) === null || _options$render2 === void 0 ? void 0 : _options$render2.sprite, assets);
        body = matter_js__WEBPACK_IMPORTED_MODULE_0___default.a.Bodies.circle(0, 0, radius, options);
        break;
      }

    case 'svg':
      {
        var _options$render3, _assets$get$, _assets$get;

        const {
          type: _type,
          src,
          scale,
          granularity,
          position: {
            x,
            y
          },
          angle,
          ...options
        } = config;
        Object(_helpers__WEBPACK_IMPORTED_MODULE_1__["resolveSprite"])(options === null || options === void 0 ? void 0 : (_options$render3 = options.render) === null || _options$render3 === void 0 ? void 0 : _options$render3.sprite, assets);

        if (assets === null) {
          throw new Error(`Trying to use '${src}', but there's no asset map`);
        }

        const svgBuffer = (_assets$get$ = (_assets$get = assets.get(src)) === null || _assets$get === void 0 ? void 0 : _assets$get[1]) !== null && _assets$get$ !== void 0 ? _assets$get$ : null;

        if (svgBuffer === null) {
          throw new Error(`asset not found: '${src}'`);
        }

        const svgText = new TextDecoder('utf-8').decode(svgBuffer);
        const svgDocument = new DOMParser().parseFromString(svgText, 'image/svg+xml');
        const paths = Array.from(svgDocument.getElementsByTagName('path'));
        const vertexSets = paths.map(path => matter_js__WEBPACK_IMPORTED_MODULE_0___default.a.Vertices.scale(matter_js__WEBPACK_IMPORTED_MODULE_0___default.a.Svg.pathToVertices(path, granularity), scale, scale));
        body = matter_js__WEBPACK_IMPORTED_MODULE_0___default.a.Bodies.fromVertices(x, y, vertexSets, options, true);
        matter_js__WEBPACK_IMPORTED_MODULE_0___default.a.Body.setAngle(body, angle);
        break;
      }

    case 'robot':
      {
        throw new Error(`createBody can not handle robots`);
      }

    default:
      {
        throw new Error(`unknown simulation object: ${config.type}`);
      }
  }

  Object(_helpers__WEBPACK_IMPORTED_MODULE_1__["setInitialPose"])(body);
  Object(_helpers__WEBPACK_IMPORTED_MODULE_1__["setTemporary"])(body, temporary);
  return body;
}

/***/ }),

/***/ "./src/components/ide/Simulator/simulation/schema/robot.js":
/***/ (function(module, exports) {



/***/ }),

/***/ "./src/components/ide/Simulator/simulation/schema/settings.js":
/***/ (function(module, exports) {



/***/ }),

/***/ "./src/components/ide/Simulator/simulation/schema/simulation.js":
/***/ (function(module, exports) {



/***/ }),

/***/ "./src/components/ide/Simulator/simulation/sensors.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CollisionSensor", function() { return CollisionSensor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SimpleCollisionSensor", function() { return SimpleCollisionSensor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TouchSensor", function() { return TouchSensor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LineSensor", function() { return LineSensor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DistanceSensor", function() { return DistanceSensor; });
/* harmony import */ var matter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("matter-js");
/* harmony import */ var matter_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(matter_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/components/ide/Simulator/simulation/index.js");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



/**
 * A collision sensor senses its environment by keeping track of whether it currently collides with
 * other simulation objects.
 * A sensor can restrict the class of relevant collision bodies, and handle its collision state
 * in any way, but usually by setting a sensor value on its controller instance.
 */

class CollisionSensor {
  constructor(sensorBody) {
    _defineProperty(this, "sensorBody", void 0);

    _defineProperty(this, "collisionCount", 0);

    this.sensorBody = sensorBody;
    this.sensorBody.plugin.hedgehog = {
      sensor: this
    };
  }
  /**
   * Returns whether the body this sensor is colliding with is relevant for the sensor.
   * For example, a touch sensor would not want to detect collisions with sensor bodies,
   * as they are intangible
   */
  // eslint-disable-next-line class-methods-use-this


  matches(_other) {
    return true;
  }
  /**
   * Updates the sensor state after handling a collision.
   */


  update() {}

  isColliding() {
    return this.collisionCount > 0;
  }

  handleCollision(eventName, other) {
    if (!this.matches(other)) return;

    switch (eventName) {
      case 'collisionStart':
        this.collisionCount += 1;
        break;

      case 'collisionEnd':
        this.collisionCount -= 1;
        break;

      default:
        // eslint-disable-next-line no-throw-literal
        throw 'unreachable';
    }

    this.update();
  }

}
/**
 * Simple collision sensors are associated with a single sensor port and update that sensor with
 * one of two values, depending on whether there is a collision or not.
 */

class SimpleCollisionSensor extends CollisionSensor {
  // the sensor value when the sensor body is not collided or collided, respectively
  constructor(controller, sensorBody, port, values) {
    super(sensorBody);

    _defineProperty(this, "controller", void 0);

    _defineProperty(this, "port", void 0);

    _defineProperty(this, "values", void 0);

    this.controller = controller;
    this.port = port;
    this.values = values; // TODO add noise source to sensor
    // set initial value to not collided

    this.update(false);
  }

  update(colliding) {
    if (colliding === undefined) {
      colliding = this.isColliding();
    } // update sensor body style


    this.sensorBody.render.fillStyle = colliding ? '#ffa500' : '#777777';
    const value = colliding ? this.values[1] : this.values[0];
    this.controller.setSensor(this.port, value);
  }

}
/**
 * A touch sensor detects collisions with tangible bodies of the simulation
 */

class TouchSensor extends SimpleCollisionSensor {
  constructor(controller, sensorBody, port) {
    super(controller, sensorBody, port, [4095, 0]);
  } // eslint-disable-next-line class-methods-use-this


  matches(other) {
    return !other.isSensor;
  }

}
/**
 * A line sensor detects collisions with lines in the simulation, as indicated by the plugin
 * propery `hedgehog.isLine`.
 */

class LineSensor extends SimpleCollisionSensor {
  constructor(controller, sensorBody, port) {
    super(controller, sensorBody, port, [100, 4000]);
  } // eslint-disable-next-line class-methods-use-this


  matches(other) {
    var _other$plugin$hedgeho, _other$plugin$hedgeho2;

    return (_other$plugin$hedgeho = (_other$plugin$hedgeho2 = other.plugin.hedgehog) === null || _other$plugin$hedgeho2 === void 0 ? void 0 : _other$plugin$hedgeho2.isLine) !== null && _other$plugin$hedgeho !== void 0 ? _other$plugin$hedgeho : false;
  }

}

class DistanceSensorSegment extends CollisionSensor {
  // eslint-disable-next-line no-use-before-define
  // eslint-disable-next-line no-use-before-define
  constructor(sensor, sensorBody, distance) {
    super(sensorBody);

    _defineProperty(this, "sensor", void 0);

    _defineProperty(this, "distance", void 0);

    this.sensor = sensor;
    this.distance = distance;
  } // eslint-disable-next-line class-methods-use-this


  matches(other) {
    return !other.isSensor;
  }

  update() {
    this.sensor.update();
  }

}

class DistanceSensor {
  // segments are ordered near to far, so the first colliding segment determines the distance
  constructor(controller, port, segments) {
    _defineProperty(this, "controller", void 0);

    _defineProperty(this, "port", void 0);

    _defineProperty(this, "segments", void 0);

    _defineProperty(this, "maxDistance", void 0);

    this.controller = controller;
    this.port = port;
    this.segments = segments.map(([sensorBody, distance]) => new DistanceSensorSegment(this, sensorBody, distance));
    this.maxDistance = this.segments[this.segments.length - 1].distance + 1; // TODO add noise source to sensor
    // set initial value to maximum distance

    this.update(this.maxDistance);
  }

  getDistance() {
    for (const segment of this.segments) {
      if (segment.isColliding()) return segment.distance;
    }

    return this.maxDistance;
  }

  update(distance) {
    if (distance === undefined) {
      distance = this.getDistance();
    } // update sensor segment styles


    for (const segment of this.segments) {
      if (segment.distance < distance) {
        segment.sensorBody.render.fillStyle = '#555555';
        segment.sensorBody.render.opacity = 0.4;
      } else if (segment.distance === distance) {
        segment.sensorBody.render.fillStyle = '#000000';
        segment.sensorBody.render.opacity = 0.8;
      } else {
        segment.sensorBody.render.fillStyle = '#555555';
        segment.sensorBody.render.opacity = 0.05;
      }
    } // this is modelled loosely after https://lucsmall.com/images/preview/20130507-voltage-vs-distance.png
    // under a certain distance threshold, the value grows linearly with the distance to the max value
    // over that threshold, the value falls off from the max value inversely with the distance


    const maxValue = 4000;
    const distanceThreshold = 20;
    const bias = 20;
    const value = distance < distanceThreshold ? maxValue * (distance / distanceThreshold) : maxValue * (distanceThreshold + bias) / (distance + bias);
    this.controller.setSensor(this.port, value);
  }

}

/***/ }),

/***/ "./src/components/ide/Simulator/simulation/servo.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ServoArm", function() { return ServoArm; });
/* harmony import */ var matter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("matter-js");
/* harmony import */ var matter_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(matter_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/components/ide/Simulator/simulation/index.js");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }




function poseToPoint({
  x,
  y
}) {
  return {
    x,
    y
  };
}

function transform({
  x,
  y,
  angle
}, {
  x: dx,
  y: dy,
  angle: dangle
}) {
  const cos = Math.cos(angle);
  const sin = Math.sin(angle);
  return {
    x: x + cos * dx - sin * dy,
    y: y + sin * dx + cos * dy,
    angle: angle + dangle
  };
}

class ServoArm {
  constructor(controller, port, // the body to which the servo arm is anchored
  anchor, // the pose, relative to the anchor, where the arm's pivot point is located
  pivotAnchor, // the body representing the servo arm
  arm, // the pose, relative to the arm, where the arm's pivot point is located
  pivotArm, // the distance from the pivot constraint at which the control constraint attaches to the bodies
  length) {
    _defineProperty(this, "controller", void 0);

    _defineProperty(this, "port", void 0);

    _defineProperty(this, "anchor", void 0);

    _defineProperty(this, "pivotAnchor", void 0);

    _defineProperty(this, "arm", void 0);

    _defineProperty(this, "pivotArm", void 0);

    _defineProperty(this, "length", void 0);

    _defineProperty(this, "pivotConstraint", void 0);

    _defineProperty(this, "controlConstraint", void 0);

    this.controller = controller;
    this.port = port;
    this.anchor = anchor;
    this.pivotAnchor = pivotAnchor;
    this.arm = arm;
    this.pivotArm = pivotArm;
    this.length = length;
    this.pivotConstraint = matter_js__WEBPACK_IMPORTED_MODULE_0___default.a.Constraint.create({
      bodyA: anchor,
      pointA: poseToPoint(pivotAnchor),
      bodyB: arm,
      pointB: poseToPoint(pivotArm),
      length: 0,
      render: {
        visible: false
      }
    });
    const translation = {
      x: length,
      y: 0,
      angle: 0
    };
    this.controlConstraint = matter_js__WEBPACK_IMPORTED_MODULE_0___default.a.Constraint.create({
      bodyA: anchor,
      pointA: poseToPoint(transform(pivotAnchor, translation)),
      bodyB: arm,
      pointB: poseToPoint(transform(pivotArm, translation)),
      length: 0,
      render: {
        visible: false
      }
    });
  }

  setPosition(position) {
    // position 0..=1000 should be translated into angle -90°..=90°
    // 0..=1000 -> -500..=500 -> -1/2..=1/2 -> PI/2..=PI/2
    const dAngle = (position - 500) / 1000 * Math.PI; // the anchor pivot point rotated by dAngle

    let pivotAnchor = { ...this.pivotAnchor,
      angle: this.pivotAnchor.angle + dAngle
    }; // for some reason, we have to consider the anchor's angle, but not its position
    // this transformation rotates the coordinate frame in which the pivot pose is
    // specified by the pivot's angle

    const rotation = {
      x: 0,
      y: 0,
      angle: this.anchor.angle
    };
    pivotAnchor = transform(rotation, pivotAnchor);
    const translation = {
      x: this.length,
      y: 0,
      angle: 0
    };
    const pointA = poseToPoint(transform(pivotAnchor, translation));
    this.controlConstraint.pointA = pointA;
  }

  beforeUpdate() {
    const position = this.controller.getServo(this.port);
    if (position !== null) this.setPosition(position);
  }

  reset() {
    // the default position is in the middle of the value range, i.e. 500
    this.setPosition(500);
  }

}

/***/ }),

/***/ "./src/components/ide/SimulatorEditor/SimulatorEditor.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generateConfigFromXml", function() { return generateConfigFromXml; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("react-dom/server");
/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom_server__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("isomorphic-style-loader/useStyles");
/* harmony import */ var isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("blockly/core");
/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(blockly_core__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var blockly_blocks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("blockly/blocks");
/* harmony import */ var blockly_blocks__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(blockly_blocks__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _locale__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/components/locale/index.js");
/* harmony import */ var _translations__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/translations/index.js");
/* harmony import */ var _misc_palette__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/components/misc/palette.js");
/* harmony import */ var _misc_hooks__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/components/misc/hooks/index.js");
/* harmony import */ var _Blockly__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/components/ide/Blockly/Blockly.js");
/* harmony import */ var _ToolBar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/components/ide/ToolBar/ToolBar.js");
/* harmony import */ var _ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/components/ide/ToolBar/ToolBarIconButton.js");
/* harmony import */ var _ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/components/ide/ToolBar/ToolBarItem.js");
/* harmony import */ var _SimulatorEditor_scss__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/components/ide/SimulatorEditor/SimulatorEditor.scss");
/* harmony import */ var _SimulatorEditor_scss__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_SimulatorEditor_scss__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _useFile__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/components/ide/useFile.js");
/* harmony import */ var _Simulator_simulation__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/components/ide/Simulator/simulation/index.js");
/* harmony import */ var _blocks__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./src/components/ide/SimulatorEditor/blocks/index.js");
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/SimulatorEditor/SimulatorEditor.js";



 // loading this clears any previously set blocks, so make sure this module is loaded
// before adding any custom blocks













 // TODO translate simulator editor

const LOCALES = {
  en: {
    rtl: false,
    msg: {}
  }
};
const workspaceOptions = {
  toolbox: react_dom_server__WEBPACK_IMPORTED_MODULE_1___default.a.renderToStaticMarkup( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("xml", {
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 44,
      columnNumber: 5
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("category", {
    name: "Simulation",
    colour: "120",
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 45,
      columnNumber: 7
    }
  }, _blocks__WEBPACK_IMPORTED_MODULE_16__["SIMULATOR_ROOT"].toolboxBlocks.default(), _blocks__WEBPACK_IMPORTED_MODULE_16__["SIMULATOR_RECT"].toolboxBlocks.default(), _blocks__WEBPACK_IMPORTED_MODULE_16__["SIMULATOR_CIRCLE"].toolboxBlocks.default(), _blocks__WEBPACK_IMPORTED_MODULE_16__["SIMULATOR_SVG"].toolboxBlocks.default(), _blocks__WEBPACK_IMPORTED_MODULE_16__["SIMULATOR_GROUP"].toolboxBlocks.default(), _blocks__WEBPACK_IMPORTED_MODULE_16__["SIMULATOR_GROUP"].toolboxBlocks.line()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("category", {
    name: "Settings",
    colour: "120",
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 53,
      columnNumber: 7
    }
  }, _blocks__WEBPACK_IMPORTED_MODULE_16__["SIMULATOR_SETTINGS_TRANSLATE"].toolboxBlocks.default(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
    type: "simulator_settings_translate",
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 55,
      columnNumber: 9
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
    name: "MORE",
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 56,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
    type: "simulator_settings_rotate",
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 57,
      columnNumber: 13
    }
  }))), _blocks__WEBPACK_IMPORTED_MODULE_16__["SIMULATOR_SETTINGS_COLOR"].toolboxBlocks.default(), _blocks__WEBPACK_IMPORTED_MODULE_16__["SIMULATOR_SETTINGS_VISIBILITY"].toolboxBlocks.default(), _blocks__WEBPACK_IMPORTED_MODULE_16__["SIMULATOR_SETTINGS_SPRITE"].toolboxBlocks.default(), _blocks__WEBPACK_IMPORTED_MODULE_16__["SIMULATOR_SETTINGS_SPRITE"].toolboxBlocks.external(), _blocks__WEBPACK_IMPORTED_MODULE_16__["SIMULATOR_SETTINGS_STATIC"].toolboxBlocks.default(), _blocks__WEBPACK_IMPORTED_MODULE_16__["SIMULATOR_SETTINGS_SENSOR"].toolboxBlocks.default(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
    type: "simulator_settings_sensor",
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 66,
      columnNumber: 9
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
    name: "MORE",
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 67,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
    type: "simulator_settings_line",
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 68,
      columnNumber: 13
    }
  }))), _blocks__WEBPACK_IMPORTED_MODULE_16__["SIMULATOR_SETTINGS_DENSITY"].toolboxBlocks.default(), _blocks__WEBPACK_IMPORTED_MODULE_16__["SIMULATOR_SETTINGS_FRICTION_AIR"].toolboxBlocks.default(), _blocks__WEBPACK_IMPORTED_MODULE_16__["SIMULATOR_SETTINGS_LABEL"].toolboxBlocks.default()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("category", {
    name: "Robots",
    colour: "120",
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 75,
      columnNumber: 7
    }
  }, _blocks__WEBPACK_IMPORTED_MODULE_16__["SIMULATOR_ROBOT"].toolboxBlocks.default(), _blocks__WEBPACK_IMPORTED_MODULE_16__["SIMULATOR_ROBOT_PART_LINE"].toolboxBlocks.default(), _blocks__WEBPACK_IMPORTED_MODULE_16__["SIMULATOR_ROBOT_PART_TOUCH"].toolboxBlocks.default(), _blocks__WEBPACK_IMPORTED_MODULE_16__["SIMULATOR_ROBOT_PART_DISTANCE"].toolboxBlocks.default(), _blocks__WEBPACK_IMPORTED_MODULE_16__["SIMULATOR_ROBOT_PART_SERVO_ARM"].toolboxBlocks.default()))),
  move: {
    scrollbars: true,
    drag: true,
    wheel: false
  },
  zoom: {
    controls: false,
    wheel: true,
    maxScale: 1.5,
    minScale: 0.4,
    scaleSpeed: 1.02
  },
  grid: {
    spacing: 20,
    length: 3,
    colour: '#ccc',
    snap: true
  },
  trashcan: false,
  scrollbars: true
};

function generateConfig(workspace) {
  const roots = workspace.getBlocksByType('simulator_root');
  if (roots.length !== 1) return null;
  const [simulation] = roots;
  return simulation.serialize();
}

function generateConfigFromXml(workspaceXml) {
  const workspace = new blockly_core__WEBPACK_IMPORTED_MODULE_3___default.a.Workspace();
  blockly_core__WEBPACK_IMPORTED_MODULE_3___default.a.Xml.domToWorkspace(blockly_core__WEBPACK_IMPORTED_MODULE_3___default.a.Xml.textToDom(workspaceXml), workspace);
  const result = generateConfig(workspace);
  workspace.dispose();
  return result;
}

function SimulatorEditor({
  layoutNode,
  project,
  path,
  onConfigChange,
  jsonCollapsed,
  workspaceTransform,
  onUpdate
}) {
  var _getTranslation;

  const blocklyRef = _misc_hooks__WEBPACK_IMPORTED_MODULE_8__["useElementRef"]();
  const jsonRef = _misc_hooks__WEBPACK_IMPORTED_MODULE_8__["useElementRef"]();
  const [content, setContent] = Object(_useFile__WEBPACK_IMPORTED_MODULE_14__["default"])(project, path, 'utf8'); // update workspace size when the containing tab is resized or made visible

  react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](() => {
    layoutNode.setEventListener('resize', () => {
      if (blocklyRef.current) blocklyRef.current.refreshSizeDeferred();
    });
    layoutNode.setEventListener('visibility', ({
      visible
    }) => {
      if (blocklyRef.current) blocklyRef.current.updateVisibility(visible);
    });
    return () => {
      layoutNode.setEventListener('resize', null);
      layoutNode.setEventListener('visibility', null);
    };
  }, [layoutNode, blocklyRef]); // animate workspace size when the sidebar is expanding or collapsing

  const [startAnimation, stopAnimation] = _misc_hooks__WEBPACK_IMPORTED_MODULE_8__["useAnimationFrame"](() => {
    if (blocklyRef.current) blocklyRef.current.refreshSize();
  });
  react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](() => {
    if (jsonRef.current === null) return undefined;
    const jsonElem = jsonRef.current;

    const onTransitionEnd = () => {
      stopAnimation();
      if (blocklyRef.current) blocklyRef.current.refreshSizeDeferred();
    };

    jsonElem.addEventListener('transitionend', onTransitionEnd);
    return () => {
      jsonElem.removeEventListener('transitionend', onTransitionEnd);
    };
  });

  function handleToggleJsonCollapsed() {
    onUpdate({
      jsonCollapsed: !jsonCollapsed,
      workspaceTransform
    });
    startAnimation();
  } // handle blockly changes by saving the file and regenerating code


  const [json, setJson] = react__WEBPACK_IMPORTED_MODULE_0__["useState"](null);

  function handleBlocklyChange(workspace) {
    const config = generateConfig(workspace);
    setJson(config === null ? '' : JSON.stringify(config, undefined, 2));
    onConfigChange(config);
    const workspaceXml = blockly_core__WEBPACK_IMPORTED_MODULE_3___default.a.Xml.domToText(blockly_core__WEBPACK_IMPORTED_MODULE_3___default.a.Xml.workspaceToDom(workspace));
    setContent(workspaceXml);
  }

  function handleBlocklyScroll(workspace) {
    const {
      scrollX,
      scrollY,
      scale
    } = workspace; // eslint-disable-next-line no-shadow

    const workspaceTransform = {
      scrollX,
      scrollY,
      scale
    };
    onUpdate({
      jsonCollapsed,
      workspaceTransform
    });
  }

  isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_2___default()(_SimulatorEditor_scss__WEBPACK_IMPORTED_MODULE_13___default.a);
  const {
    preferredLocales
  } = Object(_locale__WEBPACK_IMPORTED_MODULE_5__["useLocale"])();
  const locale = (_getTranslation = Object(_translations__WEBPACK_IMPORTED_MODULE_6__["getTranslation"])(preferredLocales, LOCALES)) !== null && _getTranslation !== void 0 ? _getTranslation : LOCALES.en;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: _SimulatorEditor_scss__WEBPACK_IMPORTED_MODULE_13___default.a.tabRoot,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 213,
      columnNumber: 5
    }
  }, content === null ? null : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_Blockly__WEBPACK_IMPORTED_MODULE_9__["default"], {
    forwardedRef: blocklyRef,
    initialWorkspaceXml: content,
    locale: locale,
    workspaceOptions: workspaceOptions,
    workspaceTransform: workspaceTransform,
    onChange: handleBlocklyChange,
    onScroll: handleBlocklyScroll,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 215,
      columnNumber: 9
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar__WEBPACK_IMPORTED_MODULE_10__["default"], {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 225,
      columnNumber: 7
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_12__["default"], {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 226,
      columnNumber: 9
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_11__["default"], {
    onClick: handleToggleJsonCollapsed,
    icon: jsonCollapsed ? _misc_palette__WEBPACK_IMPORTED_MODULE_7__["SlideLeftIcon"] : _misc_palette__WEBPACK_IMPORTED_MODULE_7__["SlideRightIcon"],
    disableRipple: true,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 227,
      columnNumber: 11
    }
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("pre", {
    ref: jsonRef,
    className: jsonCollapsed ? `${_SimulatorEditor_scss__WEBPACK_IMPORTED_MODULE_13___default.a.jsonContainer} ${_SimulatorEditor_scss__WEBPACK_IMPORTED_MODULE_13___default.a.collapsed}` : _SimulatorEditor_scss__WEBPACK_IMPORTED_MODULE_13___default.a.jsonContainer,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 234,
      columnNumber: 7
    }
  }, json));
}

SimulatorEditor.defaultProps = {
  // eslint-disable-next-line react/default-props-match-prop-types
  jsonCollapsed: true,
  // eslint-disable-next-line react/default-props-match-prop-types
  workspaceTransform: {
    scrollX: 0.0,
    scrollY: 0.0,
    scale: 1.0
  }
};
/* harmony default export */ __webpack_exports__["default"] = (SimulatorEditor);

/***/ }),

/***/ "./src/components/ide/SimulatorEditor/SimulatorEditor.scss":
/***/ (function(module, exports, __webpack_require__) {


    var refs = 0;
    var css = __webpack_require__("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/SimulatorEditor/SimulatorEditor.scss");
    var insertCss = __webpack_require__("./node_modules/isomorphic-style-loader/insertCss.js");
    var content = typeof css === 'string' ? [[module.i, css, '']] : css;

    exports = module.exports = css.locals || {};
    exports._getContent = function() { return content; };
    exports._getCss = function() { return '' + css; };
    exports._insertCss = function(options) { return insertCss(content, options) };

    // Hot Module Replacement
    // https://webpack.github.io/docs/hot-module-replacement
    // Only activated in browser context
    if ( true && typeof window !== 'undefined' && window.document) {
      var removeCss = function() {};
      module.hot.accept("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/SimulatorEditor/SimulatorEditor.scss", function() {
        css = __webpack_require__("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/SimulatorEditor/SimulatorEditor.scss");
        content = typeof css === 'string' ? [[module.i, css, '']] : css;
        removeCss = insertCss(content, { replace: true });
      });
      module.hot.dispose(function() { removeCss(); });
    }
  

/***/ }),

/***/ "./src/components/ide/SimulatorEditor/blocks/helpers.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "anyAncestor", function() { return anyAncestor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "forbidsAncestor", function() { return forbidsAncestor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getInputDescendants", function() { return getInputDescendants; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSettings", function() { return getSettings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "collectSettings", function() { return collectSettings; });
function anyAncestor(block, condition) {
  for (let ancestor = block.getSurroundParent(); ancestor !== null; ancestor = ancestor.getSurroundParent()) {
    if (condition(ancestor)) return true;
  }

  return false;
}
function forbidsAncestor(types, warning) {
  return function onchange() {
    // Don't change state at the start of a drag.
    if (this.workspace.isDragging()) return; // Is the block nested in a forbidden ancestor?

    const legal = !anyAncestor(this, block => types.indexOf(block.type) !== -1);

    if (legal) {
      this.setWarningText(null);
      if (!this.isInFlyout) this.setEnabled(true);
    } else {
      this.setWarningText(warning);

      if (!this.isInFlyout && !this.getInheritedDisabled()) {
        this.setEnabled(false);
      }
    }
  };
}
function getInputDescendants(input) {
  var _block$getDescendants;

  const block = this.getInputTargetBlock(input);
  return (_block$getDescendants = block === null || block === void 0 ? void 0 : block.getDescendants(true)) !== null && _block$getDescendants !== void 0 ? _block$getDescendants : [];
} // reads the SETTINGS input and recursively that block's MORE input
// to get a settings object

function getSettings() {
  let settings = {
    position: {
      x: 0,
      y: 0
    },
    angle: 0
  };

  for (let block = this.getInputTargetBlock('SETTINGS'); block !== null; block = block.getInputTargetBlock('MORE')) {
    var _settings$plugin, _moreSettings$plugin;

    const moreSettings = block.getSettings();
    settings = { // overwrite settings with later settings
      ...settings,
      ...moreSettings,
      // however merge some specific properties
      ...('render' in settings || 'render' in moreSettings ? {
        render: { ...settings.render,
          ...moreSettings.render
        }
      } : null),
      ...('plugin' in settings || 'plugin' in moreSettings ? {
        plugin: {
          hedgehog: { ...((_settings$plugin = settings.plugin) === null || _settings$plugin === void 0 ? void 0 : _settings$plugin.hedgehog),
            ...((_moreSettings$plugin = moreSettings.plugin) === null || _moreSettings$plugin === void 0 ? void 0 : _moreSettings$plugin.hedgehog)
          }
        }
      } : null)
    };
  }

  return settings;
} // collects settings from the object and all its ancestor groups and collects them into one setting object

function collectSettings(object) {
  // position and angle are treated separately to other settings
  let {
    position,
    angle,
    ...settings
  } = object.getSettings();

  for (let group = object.getSurroundParent(); group.type === 'simulator_group'; group = group.getSurroundParent()) {
    var _outerSettings$plugin, _settings$plugin2;

    const {
      position: outerPosition,
      angle: outerAngle,
      ...outerSettings
    } = group.getSettings();
    const cos = Math.cos(outerAngle);
    const sin = Math.sin(outerAngle);
    position = {
      x: outerPosition.x + cos * position.x - sin * position.y,
      y: outerPosition.y + sin * position.x + cos * position.y
    };
    angle += outerAngle;
    settings = { // we're going from most to least specific, so don't override properties already present
      ...outerSettings,
      ...settings,
      // however merge some specific properties
      ...('render' in outerSettings || 'render' in settings ? {
        render: { ...outerSettings.render,
          ...settings.render
        }
      } : null),
      ...('plugin' in outerSettings || 'plugin' in settings ? {
        plugin: {
          hedgehog: { ...((_outerSettings$plugin = outerSettings.plugin) === null || _outerSettings$plugin === void 0 ? void 0 : _outerSettings$plugin.hedgehog),
            ...((_settings$plugin2 = settings.plugin) === null || _settings$plugin2 === void 0 ? void 0 : _settings$plugin2.hedgehog)
          }
        }
      } : null)
    };
  }

  return {
    position,
    angle,
    ...settings
  };
}

/***/ }),

/***/ "./src/components/ide/SimulatorEditor/blocks/index.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("blockly/core");
/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(blockly_core__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _simulation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/components/ide/SimulatorEditor/blocks/simulation.js");
/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/components/ide/SimulatorEditor/blocks/settings.js");
/* harmony import */ var _objects__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/components/ide/SimulatorEditor/blocks/objects.js");
/* harmony import */ var _robot__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/components/ide/SimulatorEditor/blocks/robot.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_ROOT", function() { return _simulation__WEBPACK_IMPORTED_MODULE_1__["SIMULATOR_ROOT"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SETTINGS_TRANSLATE", function() { return _settings__WEBPACK_IMPORTED_MODULE_2__["SIMULATOR_SETTINGS_TRANSLATE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SETTINGS_ROTATE", function() { return _settings__WEBPACK_IMPORTED_MODULE_2__["SIMULATOR_SETTINGS_ROTATE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SETTINGS_COLOR", function() { return _settings__WEBPACK_IMPORTED_MODULE_2__["SIMULATOR_SETTINGS_COLOR"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SETTINGS_VISIBILITY", function() { return _settings__WEBPACK_IMPORTED_MODULE_2__["SIMULATOR_SETTINGS_VISIBILITY"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SETTINGS_SPRITE", function() { return _settings__WEBPACK_IMPORTED_MODULE_2__["SIMULATOR_SETTINGS_SPRITE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SETTINGS_STATIC", function() { return _settings__WEBPACK_IMPORTED_MODULE_2__["SIMULATOR_SETTINGS_STATIC"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SETTINGS_SENSOR", function() { return _settings__WEBPACK_IMPORTED_MODULE_2__["SIMULATOR_SETTINGS_SENSOR"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SETTINGS_LINE", function() { return _settings__WEBPACK_IMPORTED_MODULE_2__["SIMULATOR_SETTINGS_LINE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SETTINGS_DENSITY", function() { return _settings__WEBPACK_IMPORTED_MODULE_2__["SIMULATOR_SETTINGS_DENSITY"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SETTINGS_FRICTION_AIR", function() { return _settings__WEBPACK_IMPORTED_MODULE_2__["SIMULATOR_SETTINGS_FRICTION_AIR"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SETTINGS_LABEL", function() { return _settings__WEBPACK_IMPORTED_MODULE_2__["SIMULATOR_SETTINGS_LABEL"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_RECT", function() { return _objects__WEBPACK_IMPORTED_MODULE_3__["SIMULATOR_RECT"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_CIRCLE", function() { return _objects__WEBPACK_IMPORTED_MODULE_3__["SIMULATOR_CIRCLE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SVG", function() { return _objects__WEBPACK_IMPORTED_MODULE_3__["SIMULATOR_SVG"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_GROUP", function() { return _objects__WEBPACK_IMPORTED_MODULE_3__["SIMULATOR_GROUP"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_ROBOT", function() { return _robot__WEBPACK_IMPORTED_MODULE_4__["SIMULATOR_ROBOT"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_ROBOT_PART_LINE", function() { return _robot__WEBPACK_IMPORTED_MODULE_4__["SIMULATOR_ROBOT_PART_LINE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_ROBOT_PART_TOUCH", function() { return _robot__WEBPACK_IMPORTED_MODULE_4__["SIMULATOR_ROBOT_PART_TOUCH"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_ROBOT_PART_DISTANCE", function() { return _robot__WEBPACK_IMPORTED_MODULE_4__["SIMULATOR_ROBOT_PART_DISTANCE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_ROBOT_PART_SERVO_ARM", function() { return _robot__WEBPACK_IMPORTED_MODULE_4__["SIMULATOR_ROBOT_PART_SERVO_ARM"]; });










const blocks = [..._simulation__WEBPACK_IMPORTED_MODULE_1__["default"], ..._settings__WEBPACK_IMPORTED_MODULE_2__["default"], ..._objects__WEBPACK_IMPORTED_MODULE_3__["default"], ..._robot__WEBPACK_IMPORTED_MODULE_4__["default"]];
blocks.forEach(block => {
  const {
    type
  } = block.blockJson;
  blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Blocks[type] = {
    init() {
      this.jsonInit(block.blockJson);
    },

    ...block.blockExtras
  };
});
/* harmony default export */ __webpack_exports__["default"] = (blocks);

/***/ }),

/***/ "./src/components/ide/SimulatorEditor/blocks/objects.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_RECT", function() { return SIMULATOR_RECT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_CIRCLE", function() { return SIMULATOR_CIRCLE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SVG", function() { return SIMULATOR_SVG; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_GROUP", function() { return SIMULATOR_GROUP; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Simulator_simulation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/components/ide/Simulator/simulation/index.js");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/components/ide/SimulatorEditor/blocks/helpers.js");
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/SimulatorEditor/blocks/objects.js";



const SIMULATOR_RECT = {
  blockJson: {
    type: 'simulator_rect',
    message0: 'Rectangle with size %1 x %2 %3',
    args0: [{
      type: 'field_number',
      name: 'W',
      value: 100,
      precision: 1
    }, {
      type: 'field_number',
      name: 'H',
      value: 100,
      precision: 1
    }, {
      type: 'input_value',
      name: 'SETTINGS',
      check: 'SimulatorObjectSettings'
    }],
    previousStatement: 'SimulatorObject',
    nextStatement: 'SimulatorObject',
    colour: 240,
    tooltip: 'Rectangle defined by its width and height',
    helpUrl: 'TODO'
  },
  blockExtras: {
    getFields() {
      return {
        type: 'rectangle',
        width: this.getFieldValue('W'),
        height: this.getFieldValue('H')
      };
    },

    getSettings: _helpers__WEBPACK_IMPORTED_MODULE_2__["getSettings"],

    serialize() {
      return { ...this.getFields(),
        ...Object(_helpers__WEBPACK_IMPORTED_MODULE_2__["collectSettings"])(this)
      };
    }

  },
  toolboxBlocks: {
    default: () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_rect",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 55,
        columnNumber: 20
      }
    })
  }
};
const SIMULATOR_CIRCLE = {
  blockJson: {
    type: 'simulator_circle',
    message0: 'Circle with radius %1 %2',
    args0: [{
      type: 'field_number',
      name: 'R',
      value: 50,
      precision: 1
    }, {
      type: 'input_value',
      name: 'SETTINGS',
      check: 'SimulatorObjectSettings'
    }],
    previousStatement: 'SimulatorObject',
    nextStatement: 'SimulatorObject',
    colour: 240,
    tooltip: 'Circle defined by its radius',
    helpUrl: 'TODO'
  },
  blockExtras: {
    getFields() {
      return {
        type: 'circle',
        radius: this.getFieldValue('R')
      };
    },

    getSettings: _helpers__WEBPACK_IMPORTED_MODULE_2__["getSettings"],

    serialize() {
      return { ...this.getFields(),
        ...Object(_helpers__WEBPACK_IMPORTED_MODULE_2__["collectSettings"])(this)
      };
    }

  },
  toolboxBlocks: {
    default: () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_circle",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 98,
        columnNumber: 20
      }
    })
  }
};
const SIMULATOR_SVG = {
  blockJson: {
    type: 'simulator_svg',
    message0: 'SVG %1 @ %2%%, granularity %3 %4',
    args0: [{
      type: 'field_input',
      name: 'SRC',
      value: 'asset:foo.svg'
    }, {
      type: 'field_number',
      name: 'SCALE',
      value: 100,
      min: 1,
      precision: 1
    }, {
      type: 'field_number',
      name: 'GRANULARITY',
      value: 15,
      min: 1,
      precision: 1
    }, {
      type: 'input_value',
      name: 'SETTINGS',
      check: 'SimulatorObjectSettings'
    }],
    previousStatement: 'SimulatorObject',
    nextStatement: 'SimulatorObject',
    colour: 240,
    tooltip: 'Shape from SVG',
    helpUrl: 'TODO'
  },
  blockExtras: {
    getFields() {
      return {
        type: 'svg',
        src: this.getFieldValue('SRC'),
        scale: this.getFieldValue('SCALE') / 100,
        granularity: this.getFieldValue('GRANULARITY')
      };
    },

    getSettings: _helpers__WEBPACK_IMPORTED_MODULE_2__["getSettings"],

    serialize() {
      return { ...this.getFields(),
        ...Object(_helpers__WEBPACK_IMPORTED_MODULE_2__["collectSettings"])(this)
      };
    }

  },
  toolboxBlocks: {
    default: () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_svg",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 156,
        columnNumber: 20
      }
    })
  }
};
const SIMULATOR_GROUP = {
  blockJson: {
    type: 'simulator_group',
    message0: 'Group %1 %2',
    args0: [{
      type: 'input_value',
      name: 'SETTINGS',
      check: 'SimulatorObjectSettings'
    }, {
      type: 'input_statement',
      name: 'OBJECTS',
      check: 'SimulatorObject'
    }],
    previousStatement: 'SimulatorObject',
    nextStatement: 'SimulatorObject',
    colour: 270,
    tooltip: 'Groups multiple objects and applies the settings to all of them. ' + 'More specific settings win; moving and rotating are composed.',
    helpUrl: 'TODO'
  },
  blockExtras: {
    getSettings: _helpers__WEBPACK_IMPORTED_MODULE_2__["getSettings"]
  },
  toolboxBlocks: {
    default: () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_group",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 188,
        columnNumber: 20
      }
    }),
    line: () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_group",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 190,
        columnNumber: 7
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "SETTINGS",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 191,
        columnNumber: 9
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_color",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 192,
        columnNumber: 11
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "MORE",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 193,
        columnNumber: 13
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_static",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 194,
        columnNumber: 15
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "MORE",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 195,
        columnNumber: 17
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_sensor",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 196,
        columnNumber: 19
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "MORE",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 197,
        columnNumber: 21
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_line",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 198,
        columnNumber: 23
      }
    })))))))))
  }
};
/* harmony default export */ __webpack_exports__["default"] = ([SIMULATOR_RECT, SIMULATOR_CIRCLE, SIMULATOR_SVG, SIMULATOR_GROUP]);

/***/ }),

/***/ "./src/components/ide/SimulatorEditor/blocks/robot.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_ROBOT", function() { return SIMULATOR_ROBOT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_ROBOT_PART_LINE", function() { return SIMULATOR_ROBOT_PART_LINE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_ROBOT_PART_TOUCH", function() { return SIMULATOR_ROBOT_PART_TOUCH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_ROBOT_PART_DISTANCE", function() { return SIMULATOR_ROBOT_PART_DISTANCE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_ROBOT_PART_SERVO_ARM", function() { return SIMULATOR_ROBOT_PART_SERVO_ARM; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Simulator_simulation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/components/ide/Simulator/simulation/index.js");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/components/ide/SimulatorEditor/blocks/helpers.js");
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/SimulatorEditor/blocks/robot.js";



const SIMULATOR_ROBOT = {
  blockJson: {
    type: 'simulator_robot',
    message0: 'Robot %1, with default sensors %2, with default grabber %3 %4 %5',
    args0: [{
      type: 'field_input',
      name: 'NAME',
      text: 'hedgehog'
    }, {
      type: 'field_checkbox',
      name: 'DEFAULT_SENSORS',
      checked: true
    }, {
      type: 'field_checkbox',
      name: 'DEFAULT_GRABBER',
      checked: false
    }, {
      type: 'input_value',
      name: 'SETTINGS',
      check: 'SimulatorObjectSettings'
    }, {
      type: 'input_statement',
      name: 'PARTS',
      align: 'RIGHT',
      check: 'SimulatorRobotPart'
    }],
    previousStatement: 'SimulatorObject',
    nextStatement: 'SimulatorObject',
    colour: 90,
    tooltip: 'simulated robot',
    helpUrl: 'TODO'
  },
  blockExtras: {
    getInputDescendants: _helpers__WEBPACK_IMPORTED_MODULE_2__["getInputDescendants"],

    getFields() {
      return {
        type: 'robot',
        name: this.getFieldValue('NAME')
      };
    },

    getSettings: _helpers__WEBPACK_IMPORTED_MODULE_2__["getSettings"],

    serialize() {
      const objectTypes = ['simulator_robot_part_line', 'simulator_robot_part_touch', 'simulator_robot_part_distance', 'simulator_robot_part_servo_arm'];
      let parts = this.getInputDescendants('PARTS').filter(block => objectTypes.includes(block.type)).map(object => object.serialize());

      if (this.getField('DEFAULT_GRABBER').getValueBoolean()) {
        function servoArm(port, x, y, angle, label) {
          return {
            type: 'servo_arm',
            port,
            pivotAnchor: {
              x,
              y,
              angle
            },
            pivotArm: {
              x: -17,
              y: 0,
              angle: 0
            },
            length: 30,
            objects: [{
              type: 'rectangle',
              width: 35,
              height: 3,
              position: {
                x: 0,
                y: 0
              },
              angle: 0,
              label
            }]
          };
        }

        parts = [servoArm(0, 27, -19, 0, 'leftServoArm'), servoArm(1, 27, 19, 0, 'leftServoArm'), ...parts];
      }

      if (this.getField('DEFAULT_SENSORS').getValueBoolean()) {
        function lineSensor(port, x, y, label) {
          return {
            type: 'line',
            port,
            objects: [{
              type: 'circle',
              radius: 2,
              angle: 0,
              position: {
                x,
                y
              },
              label
            }]
          };
        }

        function distanceSensor(port, x, y, angle, label) {
          return {
            type: 'distance',
            port,
            objects: [{
              type: 'rectangle',
              width: 3,
              height: 3,
              angle,
              position: {
                x,
                y
              },
              label
            }]
          };
        }

        function touchSensor(port, object) {
          return {
            type: 'touch',
            port,
            objects: [object]
          };
        }

        const deg = Math.PI / 180;
        parts = [lineSensor(0, 22, -22, 'leftLineSensor'), lineSensor(1, 22, -8, 'centerLeftLineSensor'), lineSensor(2, 22, 8, 'centerRightLineSensor'), lineSensor(3, 22, 22, 'rightLineSensor'), distanceSensor(4, 20, -14, -60 * deg, 'leftDistanceSensor'), distanceSensor(5, 20, 0, 0 * deg, 'centerDistanceSensor'), distanceSensor(6, 20, 14, 60 * deg, 'rightDistanceSensor'), touchSensor(8, {
          type: 'rectangle',
          width: 3,
          height: 32,
          angle: 0,
          position: {
            x: 24,
            y: 0
          },
          label: 'frontTouchSensor'
        }), ...parts];
      }

      const {
        static: _static,
        sensor: _sensor,
        density: _density,
        frictionAir: _frictionAir,
        ...settings
      } = Object(_helpers__WEBPACK_IMPORTED_MODULE_2__["collectSettings"])(this);
      return { ...this.getFields(),
        ...settings,
        parts
      };
    }

  },
  toolboxBlocks: {
    default: () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_robot",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 189,
        columnNumber: 20
      }
    })
  }
};
const SIMULATOR_ROBOT_PART_LINE = {
  blockJson: {
    type: 'simulator_robot_part_line',
    message0: 'Line Sensor %1 %2 %3',
    args0: [{
      type: 'field_number',
      name: 'PORT',
      value: 0
    }, {
      type: 'input_dummy'
    }, {
      type: 'input_statement',
      name: 'OBJECTS',
      align: 'RIGHT',
      check: 'SimulatorObject'
    }],
    previousStatement: 'SimulatorRobotPart',
    nextStatement: 'SimulatorRobotPart',
    colour: 90,
    tooltip: 'simulated line (reflectance) sensor',
    helpUrl: 'TODO'
  },
  blockExtras: {
    getInputDescendants: _helpers__WEBPACK_IMPORTED_MODULE_2__["getInputDescendants"],

    getFields() {
      return {
        type: 'line',
        port: this.getFieldValue('PORT')
      };
    },

    serialize() {
      const objectTypes = ['simulator_rect', 'simulator_circle', 'simulator_svg'];
      const objects = this.getInputDescendants('OBJECTS').filter(block => objectTypes.includes(block.type)).map(object => object.serialize());
      return { ...this.getFields(),
        objects
      };
    }

  },
  toolboxBlocks: {
    default: () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_robot_part_line",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 242,
        columnNumber: 7
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "OBJECTS",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 243,
        columnNumber: 9
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_circle",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 244,
        columnNumber: 11
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "R",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 245,
        columnNumber: 13
      }
    }, "2"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "SETTINGS",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 246,
        columnNumber: 13
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_translate",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 247,
        columnNumber: 15
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "MORE",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 248,
        columnNumber: 17
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_label",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 249,
        columnNumber: 19
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "LABEL",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 250,
        columnNumber: 21
      }
    }, "lineSensor"))))))))
  }
};
const SIMULATOR_ROBOT_PART_TOUCH = {
  blockJson: {
    type: 'simulator_robot_part_touch',
    message0: 'Touch Sensor %1 %2 %3',
    args0: [{
      type: 'field_number',
      name: 'PORT',
      value: 0
    }, {
      type: 'input_dummy'
    }, {
      type: 'input_statement',
      name: 'OBJECTS',
      align: 'RIGHT',
      check: 'SimulatorObject'
    }],
    previousStatement: 'SimulatorRobotPart',
    nextStatement: 'SimulatorRobotPart',
    colour: 90,
    tooltip: 'simulated touch sensor',
    helpUrl: 'TODO'
  },
  blockExtras: {
    getInputDescendants: _helpers__WEBPACK_IMPORTED_MODULE_2__["getInputDescendants"],

    getFields() {
      return {
        type: 'touch',
        port: this.getFieldValue('PORT')
      };
    },

    serialize() {
      const objectTypes = ['simulator_rect', 'simulator_circle', 'simulator_svg'];
      const objects = this.getInputDescendants('OBJECTS').filter(block => objectTypes.includes(block.type)).map(object => object.serialize());
      return { ...this.getFields(),
        objects
      };
    }

  },
  toolboxBlocks: {
    default: () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_robot_part_touch",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 311,
        columnNumber: 7
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "OBJECTS",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 312,
        columnNumber: 9
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_rect",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 313,
        columnNumber: 11
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "W",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 314,
        columnNumber: 13
      }
    }, "3"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "H",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 315,
        columnNumber: 13
      }
    }, "32"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "SETTINGS",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 316,
        columnNumber: 13
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_translate",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 317,
        columnNumber: 15
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "MORE",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 318,
        columnNumber: 17
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_label",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 319,
        columnNumber: 19
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "LABEL",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 320,
        columnNumber: 21
      }
    }, "touchSensor"))))))))
  }
};
const SIMULATOR_ROBOT_PART_DISTANCE = {
  blockJson: {
    type: 'simulator_robot_part_distance',
    message0: 'Distance Sensor %1 %2 %3',
    args0: [{
      type: 'field_number',
      name: 'PORT',
      value: 0
    }, {
      type: 'input_dummy'
    }, {
      type: 'input_statement',
      name: 'OBJECTS',
      align: 'RIGHT',
      check: 'SimulatorObject'
    }],
    previousStatement: 'SimulatorRobotPart',
    nextStatement: 'SimulatorRobotPart',
    colour: 90,
    tooltip: 'simulated (infrared triangulation) distance sensor',
    helpUrl: 'TODO'
  },
  blockExtras: {
    getInputDescendants: _helpers__WEBPACK_IMPORTED_MODULE_2__["getInputDescendants"],

    getFields() {
      return {
        type: 'distance',
        port: this.getFieldValue('PORT')
      };
    },

    serialize() {
      const objectTypes = ['simulator_rect', 'simulator_circle', 'simulator_svg'];
      const objects = this.getInputDescendants('OBJECTS').filter(block => objectTypes.includes(block.type)).map(object => object.serialize());
      return { ...this.getFields(),
        objects
      };
    }

  },
  toolboxBlocks: {
    default: () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_robot_part_distance",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 381,
        columnNumber: 7
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "OBJECTS",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 382,
        columnNumber: 9
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_rect",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 383,
        columnNumber: 11
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "W",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 384,
        columnNumber: 13
      }
    }, "3"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "H",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 385,
        columnNumber: 13
      }
    }, "3"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "SETTINGS",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 386,
        columnNumber: 13
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_translate",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 387,
        columnNumber: 15
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "MORE",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 388,
        columnNumber: 17
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_rotate",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 389,
        columnNumber: 19
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "MORE",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 390,
        columnNumber: 21
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_label",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 391,
        columnNumber: 23
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "LABEL",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 392,
        columnNumber: 25
      }
    }, "distanceSensor"))))))))))
  }
};
const SIMULATOR_ROBOT_PART_SERVO_ARM = {
  blockJson: {
    type: 'simulator_robot_part_servo_arm',
    message0: 'Servo Arm %1 %2 Anchor pivot at (%3, %4) %5° %6 Arm pivot at (%7, %8) %9° %10 Control point distance %11 %12 %13',
    args0: [{
      type: 'field_number',
      name: 'PORT',
      value: 0
    }, {
      type: 'input_dummy'
    }, {
      type: 'field_number',
      name: 'ANCHOR_X',
      value: 0
    }, {
      type: 'field_number',
      name: 'ANCHOR_Y',
      value: 0
    }, {
      type: 'field_angle',
      name: 'ANCHOR_ANGLE',
      value: 0
    }, {
      type: 'input_dummy'
    }, {
      type: 'field_number',
      name: 'ARM_X',
      value: 0
    }, {
      type: 'field_number',
      name: 'ARM_Y',
      value: 0
    }, {
      type: 'field_angle',
      name: 'ARM_ANGLE',
      value: 0
    }, {
      type: 'input_dummy'
    }, {
      type: 'field_number',
      name: 'CONTROL_LENGTH',
      value: 30
    }, {
      type: 'input_dummy'
    }, {
      type: 'input_statement',
      name: 'OBJECTS',
      align: 'RIGHT',
      check: 'SimulatorObject'
    }],
    previousStatement: 'SimulatorRobotPart',
    nextStatement: 'SimulatorRobotPart',
    colour: 90,
    tooltip: 'simulated servo arm',
    helpUrl: 'TODO'
  },
  blockExtras: {
    getInputDescendants: _helpers__WEBPACK_IMPORTED_MODULE_2__["getInputDescendants"],

    getFields() {
      return {
        type: 'servo_arm',
        port: this.getFieldValue('PORT'),
        pivotAnchor: {
          x: this.getFieldValue('ANCHOR_X'),
          y: this.getFieldValue('ANCHOR_Y'),
          angle: -(this.getFieldValue('ANCHOR_ANGLE') / 180) * Math.PI
        },
        pivotArm: {
          x: this.getFieldValue('ARM_X'),
          y: this.getFieldValue('ARM_Y'),
          angle: -(this.getFieldValue('ARM_ANGLE') / 180) * Math.PI
        },
        length: this.getFieldValue('CONTROL_LENGTH')
      };
    },

    serialize() {
      const objectTypes = ['simulator_rect', 'simulator_circle', 'simulator_svg'];
      const objects = this.getInputDescendants('OBJECTS').filter(block => objectTypes.includes(block.type)).map(object => object.serialize());
      return { ...this.getFields(),
        objects
      };
    }

  },
  toolboxBlocks: {
    default: () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_robot_part_servo_arm",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 511,
        columnNumber: 7
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "OBJECTS",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 512,
        columnNumber: 9
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_rect",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 513,
        columnNumber: 11
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "W",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 514,
        columnNumber: 13
      }
    }, "35"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "H",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 515,
        columnNumber: 13
      }
    }, "3"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "SETTINGS",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 516,
        columnNumber: 13
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_label",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 517,
        columnNumber: 15
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "LABEL",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 518,
        columnNumber: 17
      }
    }, "servoArm"))))))
  }
};
/* harmony default export */ __webpack_exports__["default"] = ([SIMULATOR_ROBOT, SIMULATOR_ROBOT_PART_LINE, SIMULATOR_ROBOT_PART_TOUCH, SIMULATOR_ROBOT_PART_DISTANCE, SIMULATOR_ROBOT_PART_SERVO_ARM]);

/***/ }),

/***/ "./src/components/ide/SimulatorEditor/blocks/settings.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SETTINGS_TRANSLATE", function() { return SIMULATOR_SETTINGS_TRANSLATE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SETTINGS_ROTATE", function() { return SIMULATOR_SETTINGS_ROTATE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SETTINGS_COLOR", function() { return SIMULATOR_SETTINGS_COLOR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SETTINGS_VISIBILITY", function() { return SIMULATOR_SETTINGS_VISIBILITY; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SETTINGS_SPRITE", function() { return SIMULATOR_SETTINGS_SPRITE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SETTINGS_STATIC", function() { return SIMULATOR_SETTINGS_STATIC; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SETTINGS_SENSOR", function() { return SIMULATOR_SETTINGS_SENSOR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SETTINGS_LINE", function() { return SIMULATOR_SETTINGS_LINE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SETTINGS_DENSITY", function() { return SIMULATOR_SETTINGS_DENSITY; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SETTINGS_FRICTION_AIR", function() { return SIMULATOR_SETTINGS_FRICTION_AIR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_SETTINGS_LABEL", function() { return SIMULATOR_SETTINGS_LABEL; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/components/ide/SimulatorEditor/blocks/helpers.js");
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/SimulatorEditor/blocks/settings.js";


const SIMULATOR_SETTINGS_TRANSLATE = {
  blockJson: {
    type: 'simulator_settings_translate',
    message0: 'moved by (%1, %2) %3',
    args0: [{
      type: 'field_number',
      name: 'X',
      value: 0
    }, {
      type: 'field_number',
      name: 'Y',
      value: 0
    }, {
      type: 'input_value',
      name: 'MORE',
      check: 'SimulatorObjectSettings'
    }],
    inputsInline: false,
    output: 'SimulatorObjectSettings',
    colour: 180,
    tooltip: 'moves an object or group by the given x/y offset',
    helpUrl: 'TODO'
  },
  blockExtras: {
    getSettings() {
      return {
        position: {
          x: this.getFieldValue('X'),
          y: this.getFieldValue('Y')
        }
      };
    }

  },
  toolboxBlocks: {
    default: () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_translate",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 45,
        columnNumber: 20
      }
    })
  }
};
const SIMULATOR_SETTINGS_ROTATE = {
  blockJson: {
    type: 'simulator_settings_rotate',
    message0: 'rotated by %1 %2',
    args0: [{
      type: 'field_angle',
      name: 'ANGLE',
      angle: 0
    }, {
      type: 'input_value',
      name: 'MORE',
      check: 'SimulatorObjectSettings'
    }],
    inputsInline: false,
    output: 'SimulatorObjectSettings',
    colour: 180,
    tooltip: 'rotates an object or group by the given angle',
    helpUrl: 'TODO'
  },
  blockExtras: {
    getSettings() {
      return {
        angle: -(this.getFieldValue('ANGLE') / 180) * Math.PI
      };
    }

  },
  toolboxBlocks: {
    default: () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_rotate",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 79,
        columnNumber: 20
      }
    })
  }
};
const SIMULATOR_SETTINGS_COLOR = {
  blockJson: {
    type: 'simulator_settings_color',
    message0: 'color: %1 %2',
    args0: [{
      type: 'field_colour',
      name: 'COLOUR',
      colour: '#222222'
    }, {
      type: 'input_value',
      name: 'MORE',
      check: 'SimulatorObjectSettings'
    }],
    inputsInline: false,
    output: 'SimulatorObjectSettings',
    colour: 180,
    tooltip: 'sets the color of an object or group',
    helpUrl: 'TODO'
  },
  blockExtras: {
    getSettings() {
      return {
        render: {
          fillStyle: this.getFieldValue('COLOUR')
        }
      };
    }

  },
  toolboxBlocks: {
    default: () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_color",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 115,
        columnNumber: 20
      }
    })
  }
};
const SIMULATOR_SETTINGS_VISIBILITY = {
  blockJson: {
    type: 'simulator_settings_visibility',
    message0: 'visible: %1 %2%% %3',
    args0: [{
      type: 'field_checkbox',
      name: 'VISIBILITY',
      checked: true
    }, {
      type: 'field_number',
      name: 'OPACITY',
      value: 100,
      min: 0,
      max: 100,
      precision: 1
    }, {
      type: 'input_value',
      name: 'MORE',
      check: 'SimulatorObjectSettings'
    }],
    inputsInline: false,
    output: 'SimulatorObjectSettings',
    colour: 180,
    tooltip: 'sets the visibility of an object or group',
    helpUrl: 'TODO'
  },
  blockExtras: {
    getSettings() {
      return {
        render: {
          opacity: this.getFieldValue('OPACITY') / 100,
          visible: this.getField('VISIBILITY').getValueBoolean()
        }
      };
    }

  },
  toolboxBlocks: {
    default: () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_visibility",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 160,
        columnNumber: 20
      }
    })
  }
};
const SIMULATOR_SETTINGS_SPRITE = {
  blockJson: {
    type: 'simulator_settings_sprite',
    message0: 'sprite: %1 %2',
    args0: [{
      type: 'field_input',
      name: 'URL',
      value: ''
    }, {
      type: 'input_value',
      name: 'MORE',
      check: 'SimulatorObjectSettings'
    }],
    inputsInline: false,
    output: 'SimulatorObjectSettings',
    colour: 180,
    tooltip: 'sets a sprite to use to draw the object instead of a color',
    helpUrl: 'TODO'
  },
  blockExtras: {
    getSettings() {
      const url = this.getFieldValue('URL');
      return {
        render: {
          sprite: {
            texture: url
          }
        }
      };
    }

  },
  toolboxBlocks: {
    default: () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_sprite",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 198,
        columnNumber: 7
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "URL",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 199,
        columnNumber: 9
      }
    }, "asset:foo.png")),
    external: () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_sprite",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 203,
        columnNumber: 7
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "URL",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 204,
        columnNumber: 9
      }
    }, "https://example.com/foo.png"))
  }
};
const SIMULATOR_SETTINGS_STATIC = {
  blockJson: {
    type: 'simulator_settings_static',
    message0: 'fixed: %1 %2',
    args0: [{
      type: 'field_checkbox',
      name: 'STATIC',
      checked: true
    }, {
      type: 'input_value',
      name: 'MORE',
      check: 'SimulatorObjectSettings'
    }],
    inputsInline: false,
    output: 'SimulatorObjectSettings',
    colour: 180,
    tooltip: 'a fixed object can not be moved',
    helpUrl: 'TODO'
  },
  blockExtras: {
    onchange: Object(_helpers__WEBPACK_IMPORTED_MODULE_1__["forbidsAncestor"])(['simulator_robot'], 'robots can not be fixed'),

    getSettings() {
      return {
        isStatic: this.getField('STATIC').getValueBoolean()
      };
    }

  },
  toolboxBlocks: {
    default: () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_static",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 241,
        columnNumber: 20
      }
    })
  }
};
const SIMULATOR_SETTINGS_SENSOR = {
  blockJson: {
    type: 'simulator_settings_sensor',
    message0: 'passive: %1 %2',
    args0: [{
      type: 'field_checkbox',
      name: 'SENSOR',
      checked: true
    }, {
      type: 'input_value',
      name: 'MORE',
      check: 'SimulatorObjectSettings'
    }],
    inputsInline: false,
    output: 'SimulatorObjectSettings',
    colour: 180,
    tooltip: 'a passive object does not interact with other objects',
    helpUrl: 'TODO'
  },
  blockExtras: {
    onchange: Object(_helpers__WEBPACK_IMPORTED_MODULE_1__["forbidsAncestor"])(['simulator_robot'], 'robots can not be passive'),

    getSettings() {
      return {
        isSensor: this.getField('SENSOR').getValueBoolean()
      };
    }

  },
  toolboxBlocks: {
    default: () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_sensor",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 276,
        columnNumber: 20
      }
    })
  }
};
const SIMULATOR_SETTINGS_LINE = {
  blockJson: {
    type: 'simulator_settings_line',
    message0: 'line: %1 %2',
    args0: [{
      type: 'field_checkbox',
      name: 'LINE',
      checked: true
    }, {
      type: 'input_value',
      name: 'MORE',
      check: 'SimulatorObjectSettings'
    }],
    inputsInline: false,
    output: 'SimulatorObjectSettings',
    colour: 180,
    tooltip: 'a line can be detected by line sensors; lines must also be set to passive',
    helpUrl: 'TODO'
  },
  blockExtras: {
    onchange: Object(_helpers__WEBPACK_IMPORTED_MODULE_1__["forbidsAncestor"])(['simulator_robot'], 'robots can not be lines'),

    getSettings() {
      return {
        plugin: {
          hedgehog: {
            isLine: this.getField('LINE').getValueBoolean()
          }
        }
      };
    }

  },
  toolboxBlocks: {
    default: () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_line",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 315,
        columnNumber: 20
      }
    })
  }
};
const SIMULATOR_SETTINGS_DENSITY = {
  blockJson: {
    type: 'simulator_settings_density',
    message0: 'density: %1 %2',
    args0: [{
      type: 'field_number',
      name: 'DENSITY',
      value: 1
    }, {
      type: 'input_value',
      name: 'MORE',
      check: 'SimulatorObjectSettings'
    }],
    inputsInline: false,
    output: 'SimulatorObjectSettings',
    colour: 180,
    tooltip: 'density together with object size determines its weight',
    helpUrl: 'TODO'
  },
  blockExtras: {
    onchange: Object(_helpers__WEBPACK_IMPORTED_MODULE_1__["forbidsAncestor"])(['simulator_robot'], 'robots have fixed density'),

    getSettings() {
      return {
        density: this.getFieldValue('DENSITY')
      };
    }

  },
  toolboxBlocks: {
    default: () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_density",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 350,
        columnNumber: 20
      }
    })
  }
};
const SIMULATOR_SETTINGS_FRICTION_AIR = {
  blockJson: {
    type: 'simulator_settings_friction_air',
    message0: 'friction: %1 %2',
    args0: [{
      type: 'field_number',
      name: 'FRICTION_AIR',
      value: 0.4
    }, {
      type: 'input_value',
      name: 'MORE',
      check: 'SimulatorObjectSettings'
    }],
    inputsInline: false,
    output: 'SimulatorObjectSettings',
    colour: 180,
    tooltip: 'friction determines how much resistance a sliding object experiences',
    helpUrl: 'TODO'
  },
  blockExtras: {
    onchange: Object(_helpers__WEBPACK_IMPORTED_MODULE_1__["forbidsAncestor"])(['simulator_robot'], 'robots have fixed friction'),

    getSettings() {
      return {
        frictionAir: this.getFieldValue('FRICTION_AIR')
      };
    }

  },
  toolboxBlocks: {
    default: () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_friction_air",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 385,
        columnNumber: 20
      }
    })
  }
};
const SIMULATOR_SETTINGS_LABEL = {
  blockJson: {
    type: 'simulator_settings_label',
    message0: 'label: %1 %2',
    args0: [{
      type: 'field_input',
      name: 'LABEL',
      value: ''
    }, {
      type: 'input_value',
      name: 'MORE',
      check: 'SimulatorObjectSettings'
    }],
    inputsInline: false,
    output: 'SimulatorObjectSettings',
    colour: 180,
    tooltip: 'sets a label for the body which can be used to identify the body and improve handling',
    helpUrl: 'TODO'
  },
  blockExtras: {
    getSettings() {
      return {
        label: this.getFieldValue('LABEL')
      };
    }

  },
  toolboxBlocks: {
    default: () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_settings_label",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 420,
        columnNumber: 20
      }
    })
  }
};
/* harmony default export */ __webpack_exports__["default"] = ([SIMULATOR_SETTINGS_TRANSLATE, SIMULATOR_SETTINGS_ROTATE, SIMULATOR_SETTINGS_COLOR, SIMULATOR_SETTINGS_VISIBILITY, SIMULATOR_SETTINGS_SPRITE, SIMULATOR_SETTINGS_STATIC, SIMULATOR_SETTINGS_SENSOR, SIMULATOR_SETTINGS_LINE, SIMULATOR_SETTINGS_DENSITY, SIMULATOR_SETTINGS_FRICTION_AIR, SIMULATOR_SETTINGS_LABEL]);

/***/ }),

/***/ "./src/components/ide/SimulatorEditor/blocks/simulation.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SIMULATOR_ROOT", function() { return SIMULATOR_ROOT; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Simulator_simulation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/components/ide/Simulator/simulation/index.js");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/components/ide/SimulatorEditor/blocks/helpers.js");
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/SimulatorEditor/blocks/simulation.js";



const SIMULATOR_ROOT = {
  blockJson: {
    type: 'simulator_root',
    message0: 'Simulation centered at (%1, %2) sized %3 x %4, with wall:  %5 %6 %7',
    args0: [{
      type: 'field_number',
      name: 'X',
      value: 0,
      precision: 1
    }, {
      type: 'field_number',
      name: 'Y',
      value: 0,
      precision: 1
    }, {
      type: 'field_number',
      name: 'W',
      value: 600,
      precision: 1
    }, {
      type: 'field_number',
      name: 'H',
      value: 400,
      precision: 1
    }, {
      type: 'field_checkbox',
      name: 'WALLS',
      checked: true
    }, {
      type: 'input_dummy'
    }, {
      type: 'input_statement',
      name: 'OBJECTS',
      align: 'RIGHT',
      check: 'SimulatorObject'
    }],
    colour: 120,
    tooltip: 'Configuration for the whole simulation',
    helpUrl: 'TODO'
  },
  blockExtras: {
    getInputDescendants: _helpers__WEBPACK_IMPORTED_MODULE_2__["getInputDescendants"],

    onchange() {
      const roots = this.workspace.getBlocksByType('simulator_root');
      this.setWarningText(roots.length >= 2 ? 'only one configuration root allowed' : null);
    },

    serialize() {
      const objectTypes = ['simulator_robot', 'simulator_rect', 'simulator_circle', 'simulator_svg'];

      function isRobotPart(object) {
        return Object(_helpers__WEBPACK_IMPORTED_MODULE_2__["anyAncestor"])(object, ancestor => ancestor.type === 'simulator_robot');
      }

      const x = this.getFieldValue('X');
      const y = this.getFieldValue('Y');
      const width = this.getFieldValue('W');
      const height = this.getFieldValue('H');
      let objects = this.getInputDescendants('OBJECTS').filter(block => objectTypes.includes(block.type) && !isRobotPart(block)).map(object => object.serialize());

      if (this.getField('WALLS').getValueBoolean()) {
        const template = {
          type: 'rectangle',
          angle: 0,
          isStatic: true,
          render: {
            fillStyle: '#222222'
          }
        };
        objects = [{ ...template,
          width,
          height: 10,
          position: {
            x,
            y: y - (height / 2 - 5)
          }
        }, { ...template,
          width,
          height: 10,
          position: {
            x,
            y: y + (height / 2 - 5)
          }
        }, { ...template,
          width: 10,
          height,
          position: {
            x: x - (width / 2 - 5),
            y
          }
        }, { ...template,
          width: 10,
          height,
          position: {
            x: x + (width / 2 - 5),
            y
          }
        }, ...objects];
      }

      return {
        center: {
          x,
          y
        },
        width,
        height,
        objects
      };
    }

  },
  toolboxBlocks: {
    default: () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "simulator_root",
      __self: undefined,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 143,
        columnNumber: 20
      }
    })
  }
};
/* harmony default export */ __webpack_exports__["default"] = ([SIMULATOR_ROOT]);

/***/ }),

/***/ "./src/components/ide/ToolBar/ToolBar.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("isomorphic-style-loader/useStyles");
/* harmony import */ var isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ToolBar_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/components/ide/ToolBar/ToolBar.scss");
/* harmony import */ var _ToolBar_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_ToolBar_scss__WEBPACK_IMPORTED_MODULE_2__);
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/ToolBar/ToolBar.js";




/**
 * A vertical toolbar for displaying controls in IDE editors,
 * such as for running or terminating a program.
 */
function ToolBar({
  children
}) {
  isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1___default()(_ToolBar_scss__WEBPACK_IMPORTED_MODULE_2___default.a);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: _ToolBar_scss__WEBPACK_IMPORTED_MODULE_2___default.a.toolBar,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 18,
      columnNumber: 10
    }
  }, children);
}

/* harmony default export */ __webpack_exports__["default"] = (ToolBar);

/***/ }),

/***/ "./src/components/ide/ToolBar/ToolBar.scss":
/***/ (function(module, exports, __webpack_require__) {


    var refs = 0;
    var css = __webpack_require__("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/ToolBar/ToolBar.scss");
    var insertCss = __webpack_require__("./node_modules/isomorphic-style-loader/insertCss.js");
    var content = typeof css === 'string' ? [[module.i, css, '']] : css;

    exports = module.exports = css.locals || {};
    exports._getContent = function() { return content; };
    exports._getCss = function() { return '' + css; };
    exports._insertCss = function(options) { return insertCss(content, options) };

    // Hot Module Replacement
    // https://webpack.github.io/docs/hot-module-replacement
    // Only activated in browser context
    if ( true && typeof window !== 'undefined' && window.document) {
      var removeCss = function() {};
      module.hot.accept("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/ToolBar/ToolBar.scss", function() {
        css = __webpack_require__("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/ToolBar/ToolBar.scss");
        content = typeof css === 'string' ? [[module.i, css, '']] : css;
        removeCss = insertCss(content, { replace: true });
      });
      module.hot.dispose(function() { removeCss(); });
    }
  

/***/ }),

/***/ "./src/components/ide/ToolBar/ToolBarIconButton.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _material_ui_styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("@material-ui/styles");
/* harmony import */ var _material_ui_styles__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_material_ui_styles__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("@material-ui/core/IconButton");
/* harmony import */ var _material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_2__);
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/ToolBar/ToolBarIconButton.js";

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }




const StyledIconButton = Object(_material_ui_styles__WEBPACK_IMPORTED_MODULE_1__["styled"])(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_2___default.a)({
  padding: '4px'
});

/**
 * An icon button for the vertical toolbar.
 * This component handles color for disabled buttons correctly.
 */
function ToolBarIconButton({
  icon: Icon,
  color,
  ...props
}, ref) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](StyledIconButton, _extends({
    ref: ref
  }, props, {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 24,
      columnNumber: 5
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](Icon, {
    style: { ...(!props.disabled && color ? {
        color
      } : {})
    },
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 25,
      columnNumber: 7
    }
  }));
}

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0__["forwardRef"](ToolBarIconButton));

/***/ }),

/***/ "./src/components/ide/ToolBar/ToolBarItem.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("isomorphic-style-loader/useStyles");
/* harmony import */ var isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ToolBarItem_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/components/ide/ToolBar/ToolBarItem.scss");
/* harmony import */ var _ToolBarItem_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_ToolBarItem_scss__WEBPACK_IMPORTED_MODULE_2__);
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/ToolBar/ToolBarItem.js";




/**
 * An item for the vertical toolbar.
 * This component adjusts the margins for the vertical layout.
 */
function ToolBarItem({
  children
}) {
  isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_1___default()(_ToolBarItem_scss__WEBPACK_IMPORTED_MODULE_2___default.a);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: _ToolBarItem_scss__WEBPACK_IMPORTED_MODULE_2___default.a.toolBarItem,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 18,
      columnNumber: 10
    }
  }, children);
}

/* harmony default export */ __webpack_exports__["default"] = (ToolBarItem);

/***/ }),

/***/ "./src/components/ide/ToolBar/ToolBarItem.scss":
/***/ (function(module, exports, __webpack_require__) {


    var refs = 0;
    var css = __webpack_require__("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/ToolBar/ToolBarItem.scss");
    var insertCss = __webpack_require__("./node_modules/isomorphic-style-loader/insertCss.js");
    var content = typeof css === 'string' ? [[module.i, css, '']] : css;

    exports = module.exports = css.locals || {};
    exports._getContent = function() { return content; };
    exports._getCss = function() { return '' + css; };
    exports._insertCss = function(options) { return insertCss(content, options) };

    // Hot Module Replacement
    // https://webpack.github.io/docs/hot-module-replacement
    // Only activated in browser context
    if ( true && typeof window !== 'undefined' && window.document) {
      var removeCss = function() {};
      module.hot.accept("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/ToolBar/ToolBarItem.scss", function() {
        css = __webpack_require__("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/ToolBar/ToolBarItem.scss");
        content = typeof css === 'string' ? [[module.i, css, '']] : css;
        removeCss = insertCss(content, { replace: true });
      });
      module.hot.dispose(function() { removeCss(); });
    }
  

/***/ }),

/***/ "./src/components/ide/VisualEditor/VisualEditor.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("react-dom/server");
/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom_server__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("isomorphic-style-loader/useStyles");
/* harmony import */ var isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _locale__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/components/locale/index.js");
/* harmony import */ var _translations__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/translations/index.js");
/* harmony import */ var _misc_palette__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/components/misc/palette.js");
/* harmony import */ var _misc_hooks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/components/misc/hooks/index.js");
/* harmony import */ var _Blockly__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/components/ide/Blockly/Blockly.js");
/* harmony import */ var _ToolBar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/components/ide/ToolBar/ToolBar.js");
/* harmony import */ var _ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/components/ide/ToolBar/ToolBarIconButton.js");
/* harmony import */ var _ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/components/ide/ToolBar/ToolBarItem.js");
/* harmony import */ var _VisualEditor_scss__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/components/ide/VisualEditor/VisualEditor.scss");
/* harmony import */ var _VisualEditor_scss__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_VisualEditor_scss__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _useFile__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/components/ide/useFile.js");
/* harmony import */ var _blockly_config__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/components/ide/VisualEditor/blockly_config.js");
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/ide/VisualEditor/VisualEditor.js";















/**
 * The Visual editor allows creation of programs using a Blockly-based visual language.
 * Visual programs are translated into JavaScript code for execution,
 * and that code can also be viewed (read-only) side-by-side with the visual code.
 *
 * Besides the editor surface, the toolbar allows running and terminating programs, and resetting the simulation.
 */
function VisualEditor({
  layoutNode,
  project,
  path,
  codeCollapsed,
  codeLanguage,
  workspaceTransform,
  onUpdate,
  onExecutionAction,
  running
}) {
  var _getTranslation;

  const blocklyRef = _misc_hooks__WEBPACK_IMPORTED_MODULE_6__["useElementRef"]();
  const codeRef = _misc_hooks__WEBPACK_IMPORTED_MODULE_6__["useElementRef"]();
  const [content, setContent] = Object(_useFile__WEBPACK_IMPORTED_MODULE_12__["default"])(project, path, 'utf8'); // TODO this has a timing issue, as it depends on `VisualEditor.dynamicBlockLoaders`
  // being fully initialized before the VisualEditor component is created

  const workspaceOptions = react__WEBPACK_IMPORTED_MODULE_0__["useMemo"](() => {
    const dynamicBlocks = VisualEditor.dynamicBlockLoaders.length ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("category", {
      name: "%{BKY_CAT_CUSTOM}",
      colour: "120",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 77,
        columnNumber: 7
      }
    }, VisualEditor.dynamicBlockLoaders.map(loader => loader().map(block => block.toolboxBlocks.default()))) : null;
    const toolbox = react_dom_server__WEBPACK_IMPORTED_MODULE_1___default.a.renderToStaticMarkup( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("xml", {
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 84,
        columnNumber: 7
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("category", {
      name: "%{BKY_HEDGEHOG_CAT_DRIVE}",
      colour: "120",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 87,
        columnNumber: 9
      }
    }, _blockly_config__WEBPACK_IMPORTED_MODULE_13__["miscBlocks"].CRCL_MOVE_VECTOR_ROTATION.toolboxBlocks.default(), _blockly_config__WEBPACK_IMPORTED_MODULE_13__["miscBlocks"].CRCL_MOVE_DIRECTION.toolboxBlocks.default(), _blockly_config__WEBPACK_IMPORTED_MODULE_13__["miscBlocks"].CRCL_ROTATE_Z.toolboxBlocks.default(), _blockly_config__WEBPACK_IMPORTED_MODULE_13__["miscBlocks"].VECTOR_XYZ.toolboxBlocks.default(), _blockly_config__WEBPACK_IMPORTED_MODULE_13__["miscBlocks"].ROTATION_ABC.toolboxBlocks.default(), _blockly_config__WEBPACK_IMPORTED_MODULE_13__["hedgehogBlocks"].HEDGEHOG_MOVE2_UNLIMITED.toolboxBlocks.default(), _blockly_config__WEBPACK_IMPORTED_MODULE_13__["hedgehogBlocks"].HEDGEHOG_MOVE2.toolboxBlocks.default(), _blockly_config__WEBPACK_IMPORTED_MODULE_13__["hedgehogBlocks"].HEDGEHOG_MOTOR_OFF2.toolboxBlocks.default(), _blockly_config__WEBPACK_IMPORTED_MODULE_13__["hedgehogBlocks"].HEDGEHOG_BRAKE2.toolboxBlocks.default(), _blockly_config__WEBPACK_IMPORTED_MODULE_13__["hedgehogBlocks"].HEDGEHOG_SLEEP.toolboxBlocks.default()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("category", {
      name: "Tooling",
      colour: "120",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 101,
        columnNumber: 9
      }
    }, _blockly_config__WEBPACK_IMPORTED_MODULE_13__["miscBlocks"].CRCL_VELOCITY.toolboxBlocks.default(), _blockly_config__WEBPACK_IMPORTED_MODULE_13__["miscBlocks"].CRCL_ACCELERATION.toolboxBlocks.default(), _blockly_config__WEBPACK_IMPORTED_MODULE_13__["miscBlocks"].CRCL_TOOL_ON_OFF.toolboxBlocks.default(), _blockly_config__WEBPACK_IMPORTED_MODULE_13__["miscBlocks"].CRCL_SWITCH_TOOL.toolboxBlocks.default(), _blockly_config__WEBPACK_IMPORTED_MODULE_13__["miscBlocks"].CRCL_SET_TOOL_VALUE.toolboxBlocks.default()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("category", {
      name: "%{BKY_HEDGEHOG_CAT_MOTORS}",
      colour: "120",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 108,
        columnNumber: 9
      }
    }, _blockly_config__WEBPACK_IMPORTED_MODULE_13__["hedgehogBlocks"].HEDGEHOG_MOVE_UNLIMITED.toolboxBlocks.default(), _blockly_config__WEBPACK_IMPORTED_MODULE_13__["hedgehogBlocks"].HEDGEHOG_MOVE.toolboxBlocks.default(), _blockly_config__WEBPACK_IMPORTED_MODULE_13__["hedgehogBlocks"].HEDGEHOG_MOTOR_OFF.toolboxBlocks.default(), _blockly_config__WEBPACK_IMPORTED_MODULE_13__["hedgehogBlocks"].HEDGEHOG_BRAKE.toolboxBlocks.default(), _blockly_config__WEBPACK_IMPORTED_MODULE_13__["hedgehogBlocks"].HEDGEHOG_SLEEP.toolboxBlocks.default()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("category", {
      name: "%{BKY_HEDGEHOG_CAT_SERVOS}",
      colour: "120",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 115,
        columnNumber: 9
      }
    }, _blockly_config__WEBPACK_IMPORTED_MODULE_13__["hedgehogBlocks"].HEDGEHOG_SERVO.toolboxBlocks.default(), _blockly_config__WEBPACK_IMPORTED_MODULE_13__["hedgehogBlocks"].HEDGEHOG_SERVO_OFF.toolboxBlocks.default()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("category", {
      name: "%{BKY_HEDGEHOG_CAT_SENSORS}",
      colour: "120",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 119,
        columnNumber: 9
      }
    }, _blockly_config__WEBPACK_IMPORTED_MODULE_13__["hedgehogBlocks"].HEDGEHOG_READ_DIGITAL.toolboxBlocks.default(), _blockly_config__WEBPACK_IMPORTED_MODULE_13__["hedgehogBlocks"].HEDGEHOG_READ_ANALOG.toolboxBlocks.default(), _blockly_config__WEBPACK_IMPORTED_MODULE_13__["hedgehogBlocks"].HEDGEHOG_READ_ANALOG.toolboxBlocks.comparison()), dynamicBlocks, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("sep", {
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 125,
        columnNumber: 9
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("category", {
      name: "%{BKY_CAT_LOGIC}",
      colour: "%{BKY_LOGIC_HUE}",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 126,
        columnNumber: 9
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "controls_if",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 127,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "controls_if",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 128,
        columnNumber: 11
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("mutation", {
      else: "1",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 129,
        columnNumber: 13
      }
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "controls_if",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 131,
        columnNumber: 11
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("mutation", {
      elseif: "1",
      else: "1",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 132,
        columnNumber: 13
      }
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "logic_compare",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 134,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "logic_operation",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 135,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "logic_negate",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 136,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "logic_boolean",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 137,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "logic_null",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 138,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "logic_ternary",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 139,
        columnNumber: 11
      }
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("category", {
      name: "%{BKY_CAT_LOOPS}",
      colour: "%{BKY_LOOPS_HUE}",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 141,
        columnNumber: 9
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "controls_repeat_ext",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 142,
        columnNumber: 11
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "TIMES",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 143,
        columnNumber: 13
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "math_number",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 144,
        columnNumber: 15
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "NUM",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 145,
        columnNumber: 17
      }
    }, "10")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "controls_whileUntil",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 149,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "controls_for",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 150,
        columnNumber: 11
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "VAR",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 151,
        columnNumber: 13
      }
    }, "i"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "FROM",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 152,
        columnNumber: 13
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "math_number",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 153,
        columnNumber: 15
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "NUM",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 154,
        columnNumber: 17
      }
    }, "1"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "TO",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 157,
        columnNumber: 13
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "math_number",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 158,
        columnNumber: 15
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "NUM",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 159,
        columnNumber: 17
      }
    }, "10"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "BY",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 162,
        columnNumber: 13
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "math_number",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 163,
        columnNumber: 15
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "NUM",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 164,
        columnNumber: 17
      }
    }, "1")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "controls_forEach",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 168,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "controls_flow_statements",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 169,
        columnNumber: 11
      }
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("category", {
      name: "%{BKY_CAT_MATH}",
      colour: "%{BKY_MATH_HUE}",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 171,
        columnNumber: 9
      }
    }, _blockly_config__WEBPACK_IMPORTED_MODULE_13__["miscBlocks"].VECTOR_SKALAR.toolboxBlocks.default(), _blockly_config__WEBPACK_IMPORTED_MODULE_13__["miscBlocks"].VECTOR_OPERATION.toolboxBlocks.default(), _blockly_config__WEBPACK_IMPORTED_MODULE_13__["miscBlocks"].CRCL_WAIT.toolboxBlocks.default(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "math_number",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 182,
        columnNumber: 11
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "NUM",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 183,
        columnNumber: 13
      }
    }, "0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "math_arithmetic",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 185,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "math_single",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 186,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "math_trig",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 187,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "math_constant",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 188,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "math_number_property",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 189,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "math_round",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 190,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "math_on_list",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 191,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "math_modulo",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 192,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "math_constrain",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 193,
        columnNumber: 11
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "LOW",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 194,
        columnNumber: 13
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "math_number",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 195,
        columnNumber: 15
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "NUM",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 196,
        columnNumber: 17
      }
    }, "1"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "HIGH",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 199,
        columnNumber: 13
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "math_number",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 200,
        columnNumber: 15
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "NUM",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 201,
        columnNumber: 17
      }
    }, "10")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "math_random_int",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 205,
        columnNumber: 11
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "FROM",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 206,
        columnNumber: 13
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "math_number",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 207,
        columnNumber: 15
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "NUM",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 208,
        columnNumber: 17
      }
    }, "1"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "TO",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 211,
        columnNumber: 13
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "math_number",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 212,
        columnNumber: 15
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "NUM",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 213,
        columnNumber: 17
      }
    }, "10")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "math_random_float",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 217,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "math_atan2",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 218,
        columnNumber: 11
      }
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("category", {
      name: "%{BKY_CAT_LISTS}",
      colour: "%{BKY_LISTS_HUE}",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 220,
        columnNumber: 9
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "lists_create_empty",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 221,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "lists_create_with",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 222,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "lists_repeat",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 223,
        columnNumber: 11
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("value", {
      name: "NUM",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 224,
        columnNumber: 13
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "math_number",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 225,
        columnNumber: 15
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("field", {
      name: "NUM",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 226,
        columnNumber: 17
      }
    }, "5")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "lists_length",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 230,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "lists_isEmpty",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 231,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "lists_indexOf",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 232,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "lists_getIndex",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 233,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "lists_setIndex",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 234,
        columnNumber: 11
      }
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("sep", {
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 236,
        columnNumber: 9
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("category", {
      name: "%{BKY_CAT_VARIABLES}",
      custom: "VARIABLE",
      colour: "%{BKY_VARIABLES_HUE}",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 237,
        columnNumber: 9
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("category", {
      name: "%{BKY_CAT_FUNCTIONS}",
      custom: "PROCEDURE",
      colour: "%{BKY_PROCEDURES_HUE}",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 238,
        columnNumber: 9
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("category", {
      name: "%{BKY_CAT_TEXT}",
      colour: "70",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 239,
        columnNumber: 9
      }
    }, _blockly_config__WEBPACK_IMPORTED_MODULE_13__["miscBlocks"].PRINT_BLOCK.toolboxBlocks.default(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "text",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 241,
        columnNumber: 11
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("block", {
      type: "text_join",
      inline: "true",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 242,
        columnNumber: 11
      }
    }), _blockly_config__WEBPACK_IMPORTED_MODULE_13__["miscBlocks"].GET_INPUT_BLOCK.toolboxBlocks.default())));
    return {
      toolbox,
      move: {
        scrollbars: true,
        drag: true,
        wheel: false
      },
      zoom: {
        controls: false,
        wheel: true,
        maxScale: 1.5,
        minScale: 0.4,
        scaleSpeed: 1.02
      },
      grid: {
        spacing: 20,
        length: 3,
        colour: '#ccc',
        snap: true
      },
      trashcan: false,
      scrollbars: true
    };
  }, []); // update workspace size when the containing tab is resized or made visible

  react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](() => {
    layoutNode.setEventListener('resize', () => {
      if (blocklyRef.current) blocklyRef.current.refreshSizeDeferred();
    });
    layoutNode.setEventListener('visibility', ({
      visible
    }) => {
      if (blocklyRef.current) blocklyRef.current.updateVisibility(visible);
    });
    return () => {
      layoutNode.setEventListener('resize', null);
      layoutNode.setEventListener('visibility', null);
    };
  }, [layoutNode, blocklyRef]); // animate workspace size when the sidebar is expanding or collapsing

  const [startAnimation, stopAnimation] = _misc_hooks__WEBPACK_IMPORTED_MODULE_6__["useAnimationFrame"](() => {
    if (blocklyRef.current) blocklyRef.current.refreshSize();
  });
  react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](() => {
    if (codeRef.current === null) return undefined;
    const codeElem = codeRef.current;

    const onTransitionEnd = () => {
      stopAnimation();
      if (blocklyRef.current) blocklyRef.current.refreshSizeDeferred();
    };

    codeElem.addEventListener('transitionend', onTransitionEnd);
    return () => {
      codeElem.removeEventListener('transitionend', onTransitionEnd);
    };
  });

  function handleToggleCodeCollapsed() {
    onUpdate({
      codeLanguage,
      codeCollapsed: !codeCollapsed,
      workspaceTransform
    });
    startAnimation();
  } // handle blockly changes by saving the file and regenerating code


  const [code, setCode] = react__WEBPACK_IMPORTED_MODULE_0__["useState"](null); // eslint-disable-next-line no-shadow

  function generateCode(codeLanguage) {
    // eslint-disable-next-line no-throw-literal
    if (blocklyRef.current === null) throw 'ref is null'; // eslint-disable-next-line no-throw-literal

    if (blocklyRef.current.workspace === null) throw 'workspace is null';
    const language = _blockly_config__WEBPACK_IMPORTED_MODULE_13__["default"][codeLanguage];

    try {
      return language.workspaceToCode(blocklyRef.current.workspace);
    } catch (_err) {
      // Happens e.g. when deleting a function that is used somewhere.
      // Blockly will quickly recover from this, so it's not a big deal.
      // Just make sure the IDE doesn't crash until then.
      return null;
    }
  }

  function refreshCode() {
    if (blocklyRef.current === null || blocklyRef.current.workspace === null) return;
    setCode(generateCode(codeLanguage));
  }

  function handleBlocklyChange(workspace) {
    const workspaceXml = _blockly_config__WEBPACK_IMPORTED_MODULE_13__["default"].Xml.domToText(_blockly_config__WEBPACK_IMPORTED_MODULE_13__["default"].Xml.workspaceToDom(workspace));
    setContent(workspaceXml);
    refreshCode();
  }

  function handleBlocklyScroll(workspace) {
    const {
      scrollX,
      scrollY,
      scale
    } = workspace; // eslint-disable-next-line no-shadow

    const workspaceTransform = {
      scrollX,
      scrollY,
      scale
    };
    onUpdate({
      codeLanguage,
      codeCollapsed,
      workspaceTransform
    });
  } // handle language changes by regenerating code


  react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](() => {
    refreshCode();
  }); // eslint-disable-next-line no-shadow

  function setCodeLanguage(codeLanguage) {
    onUpdate({
      codeLanguage,
      codeCollapsed,
      workspaceTransform
    });
  }

  isomorphic_style_loader_useStyles__WEBPACK_IMPORTED_MODULE_2___default()(_VisualEditor_scss__WEBPACK_IMPORTED_MODULE_11___default.a);
  const {
    preferredLocales
  } = Object(_locale__WEBPACK_IMPORTED_MODULE_3__["useLocale"])();
  const locale = (_getTranslation = Object(_translations__WEBPACK_IMPORTED_MODULE_4__["getTranslation"])(preferredLocales, _blockly_config__WEBPACK_IMPORTED_MODULE_13__["LOCALES"])) !== null && _getTranslation !== void 0 ? _getTranslation : _blockly_config__WEBPACK_IMPORTED_MODULE_13__["LOCALES"].en;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: _VisualEditor_scss__WEBPACK_IMPORTED_MODULE_11___default.a.tabRoot,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 368,
      columnNumber: 5
    }
  }, content === null ? null : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_Blockly__WEBPACK_IMPORTED_MODULE_7__["default"], {
    forwardedRef: blocklyRef,
    initialWorkspaceXml: content,
    locale: locale,
    workspaceOptions: workspaceOptions,
    workspaceTransform: workspaceTransform,
    onChange: handleBlocklyChange,
    onScroll: handleBlocklyScroll,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 370,
      columnNumber: 9
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar__WEBPACK_IMPORTED_MODULE_8__["default"], {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 380,
      columnNumber: 7
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_10__["default"], {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 381,
      columnNumber: 9
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    onClick: () => {
      // eslint-disable-next-line no-shadow
      const code = generateCode('JavaScript');

      if (code !== null) {
        onExecutionAction({
          action: 'EXECUTE',
          code
        });
      }
    },
    icon: _misc_palette__WEBPACK_IMPORTED_MODULE_5__["ExecuteIcon"],
    color: "limegreen",
    disableRipple: true,
    disabled: running || blocklyRef.current === null || blocklyRef.current.workspace === null,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 382,
      columnNumber: 11
    }
  })), running ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_10__["default"], {
    key: "terminate-and-reset",
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 402,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    onClick: () => {
      onExecutionAction({
        action: 'TERMINATE',
        reset: true
      });
    },
    icon: _misc_palette__WEBPACK_IMPORTED_MODULE_5__["TerminateAndResetIcon"],
    color: "red",
    disableRipple: true,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 403,
      columnNumber: 13
    }
  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_10__["default"], {
    key: "reset",
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 416,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    onClick: () => {
      onExecutionAction({
        action: 'RESET'
      });
    },
    icon: _misc_palette__WEBPACK_IMPORTED_MODULE_5__["ResetIcon"],
    disableRipple: true,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 417,
      columnNumber: 13
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_10__["default"], {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 428,
      columnNumber: 9
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    onClick: () => {
      onExecutionAction({
        action: 'TERMINATE',
        reset: false
      });
    },
    icon: _misc_palette__WEBPACK_IMPORTED_MODULE_5__["TerminateIcon"],
    color: "red",
    disableRipple: true,
    disabled: !running,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 429,
      columnNumber: 11
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    style: {
      flex: '1 0 auto'
    },
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 443,
      columnNumber: 9
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_10__["default"], {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 444,
      columnNumber: 9
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    onClick: handleToggleCodeCollapsed,
    icon: codeCollapsed ? _misc_palette__WEBPACK_IMPORTED_MODULE_5__["SlideLeftIcon"] : _misc_palette__WEBPACK_IMPORTED_MODULE_5__["SlideRightIcon"],
    disableRipple: true,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 445,
      columnNumber: 11
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_10__["default"], {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 451,
      columnNumber: 9
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    onClick: () => setCodeLanguage('JavaScript'),
    icon: _misc_palette__WEBPACK_IMPORTED_MODULE_5__["LanguageJavascriptIcon"],
    color: codeLanguage === 'JavaScript' ? 'black' : 'gray',
    disableRipple: true,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 452,
      columnNumber: 11
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarItem__WEBPACK_IMPORTED_MODULE_10__["default"], {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 459,
      columnNumber: 9
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ToolBar_ToolBarIconButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    onClick: () => setCodeLanguage('Python'),
    icon: _misc_palette__WEBPACK_IMPORTED_MODULE_5__["LanguagePythonIcon"],
    color: codeLanguage === 'Python' ? 'black' : 'gray',
    disableRipple: true,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 460,
      columnNumber: 11
    }
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("pre", {
    ref: codeRef,
    className: codeCollapsed ? `${_VisualEditor_scss__WEBPACK_IMPORTED_MODULE_11___default.a.codeContainer} ${_VisualEditor_scss__WEBPACK_IMPORTED_MODULE_11___default.a.collapsed}` : _VisualEditor_scss__WEBPACK_IMPORTED_MODULE_11___default.a.codeContainer,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 468,
      columnNumber: 7
    }
  }, code));
}

VisualEditor.defaultProps = {
  // eslint-disable-next-line react/default-props-match-prop-types
  codeCollapsed: true,
  // eslint-disable-next-line react/default-props-match-prop-types
  codeLanguage: 'JavaScript',
  // eslint-disable-next-line react/default-props-match-prop-types
  workspaceTransform: {
    scrollX: 0.0,
    scrollY: 0.0,
    scale: 1.0
  }
}; // type: [() => Block[]]

VisualEditor.dynamicBlockLoaders = [];
/* harmony default export */ __webpack_exports__["default"] = (VisualEditor);

/***/ }),

/***/ "./src/components/ide/VisualEditor/VisualEditor.scss":
/***/ (function(module, exports, __webpack_require__) {


    var refs = 0;
    var css = __webpack_require__("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/VisualEditor/VisualEditor.scss");
    var insertCss = __webpack_require__("./node_modules/isomorphic-style-loader/insertCss.js");
    var content = typeof css === 'string' ? [[module.i, css, '']] : css;

    exports = module.exports = css.locals || {};
    exports._getContent = function() { return content; };
    exports._getCss = function() { return '' + css; };
    exports._insertCss = function(options) { return insertCss(content, options) };

    // Hot Module Replacement
    // https://webpack.github.io/docs/hot-module-replacement
    // Only activated in browser context
    if ( true && typeof window !== 'undefined' && window.document) {
      var removeCss = function() {};
      module.hot.accept("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/VisualEditor/VisualEditor.scss", function() {
        css = __webpack_require__("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/components/ide/VisualEditor/VisualEditor.scss");
        content = typeof css === 'string' ? [[module.i, css, '']] : css;
        removeCss = insertCss(content, { replace: true });
      });
      module.hot.dispose(function() { removeCss(); });
    }
  

/***/ }),

/***/ "./src/components/ide/useFile.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return useFile; });
/* harmony import */ var filer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("filer");
/* harmony import */ var filer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(filer__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _core_store_projects__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/store/projects.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Project", function() { return _core_store_projects__WEBPACK_IMPORTED_MODULE_1__["Project"]; });

/* harmony import */ var _misc_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/components/misc/hooks/index.js");





/**
 * Provides access to a file in a local project.
 * The file's content are loaded once, and saved on any modification.
 *
 * This function optionally accepts an encoding of `utf8`, in which case the file will be read and
 * written as utf8 text instead of binary.
 */
function useFile(project, path, encoding) {
  async function load() {
    const absolutePath = project.resolve(path);
    return (
      /* await */
      filer__WEBPACK_IMPORTED_MODULE_0__["fs"].promises.readFile(absolutePath, encoding)
    );
  }

  async function store(content) {
    const absolutePath = project.resolve(path);
    await filer__WEBPACK_IMPORTED_MODULE_0__["fs"].promises.writeFile(absolutePath, content, encoding);
  }

  return Object(_misc_hooks__WEBPACK_IMPORTED_MODULE_2__["useStore"])(load, store, [project, path]);
}

/***/ }),

/***/ "./src/components/ide/useFileObjectURL.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return useFileObjectURL; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _useFile__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/components/ide/useFile.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Project", function() { return _useFile__WEBPACK_IMPORTED_MODULE_1__["Project"]; });





/**
 * Provides access to a file in a local project.
 * The file's content are loaded once, and saved on any modification.
 *
 * This function optionally accepts an encoding of `utf8`, in which case the file will be read and
 * written as utf8 text instead of binary.
 */
function useFileObjectURL(project, path, encoding) {
  const [content, _setContent] = Object(_useFile__WEBPACK_IMPORTED_MODULE_1__["default"])(project, path, encoding);
  const [url, setUrl] = react__WEBPACK_IMPORTED_MODULE_0__["useState"](null);
  react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](() => {
    if (content === null) return undefined;
    const blob = new Blob([content]);
    const objectUrl = URL.createObjectURL(blob);
    setUrl(objectUrl);
    return () => {
      setUrl(null);
      URL.revokeObjectURL(objectUrl);
    };
  }, [content]);
  return url;
}

/***/ }),

/***/ "./src/components/misc/SimpleDialog.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("react-intl");
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_intl__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_core_Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("@material-ui/core/Button");
/* harmony import */ var _material_ui_core_Button__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _material_ui_core_Dialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("@material-ui/core/Dialog");
/* harmony import */ var _material_ui_core_Dialog__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_Dialog__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _material_ui_core_DialogActions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("@material-ui/core/DialogActions");
/* harmony import */ var _material_ui_core_DialogActions__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_DialogActions__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("@material-ui/core/DialogContent");
/* harmony import */ var _material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _material_ui_core_DialogContentText__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("@material-ui/core/DialogContentText");
/* harmony import */ var _material_ui_core_DialogContentText__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_DialogContentText__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("@material-ui/core/DialogTitle");
/* harmony import */ var _material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _commonMessages__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/components/misc/commonMessages.js");
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/components/misc/SimpleDialog.js";

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }











/**
 * A wrapper for the material-ui `Dialog` component for easy display of dialogs
 * with title, main content, and actions.
 * The component takes care of basic ARIA attributes for title and description,
 * and dispatches close and submit events to the calling code.
 *
 * One of the `ActionConstant`s can be used to display OK/Cancel buttons,
 * or a custom list/fragment of buttons can be passed.
 */
function SimpleDialog({
  id,
  open,
  valid,
  title,
  description,
  actions,
  onCancel,
  onConfirm,
  children
}) {
  const conditionalProps = {};
  if (title !== undefined) conditionalProps['aria-labelledby'] = `${id}-title`;
  if (description !== undefined) conditionalProps['aria-describedby'] = `${id}-description`;
  let actionsNode;

  switch (actions) {
    case 'OK_CANCEL':
    case 'OK_autofocus_CANCEL':
    case 'OK_CANCEL_autofocus':
      actionsNode = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react__WEBPACK_IMPORTED_MODULE_0__["Fragment"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_2___default.a, {
        onClick: onCancel,
        color: "secondary",
        autoFocus: actions === 'OK_CANCEL_autofocus',
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 59,
          columnNumber: 11
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_intl__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"], _extends({}, _commonMessages__WEBPACK_IMPORTED_MODULE_8__["default"].cancel, {
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 64,
          columnNumber: 13
        }
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_2___default.a, {
        type: "submit",
        color: "primary",
        disabled: !valid,
        autoFocus: actions === 'OK_autofocus_CANCEL',
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 66,
          columnNumber: 11
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_intl__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"], _extends({}, _commonMessages__WEBPACK_IMPORTED_MODULE_8__["default"].ok, {
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 72,
          columnNumber: 13
        }
      }))));
      break;

    default:
      actionsNode = actions;
  }

  const handleSubmit = event => {
    if (onConfirm !== undefined) onConfirm();
    event.preventDefault();
  };

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_Dialog__WEBPACK_IMPORTED_MODULE_3___default.a, _extends({
    open: open,
    onClose: onCancel
  }, conditionalProps, {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 87,
      columnNumber: 5
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("form", {
    onSubmit: handleSubmit,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 88,
      columnNumber: 7
    }
  }, title !== undefined ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_7___default.a, {
    id: `${id}-title`,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 89,
      columnNumber: 32
    }
  }, title) : null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_5___default.a, {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 90,
      columnNumber: 9
    }
  }, description !== undefined ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_DialogContentText__WEBPACK_IMPORTED_MODULE_6___default.a, {
    id: `${id}-description`,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 92,
      columnNumber: 13
    }
  }, description) : null, children), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_material_ui_core_DialogActions__WEBPACK_IMPORTED_MODULE_4___default.a, {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 96,
      columnNumber: 9
    }
  }, actionsNode)));
}

/* harmony default export */ __webpack_exports__["default"] = (SimpleDialog);

/***/ }),

/***/ "./src/core/store/projects.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getChild", function() { return getChild; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDescendant", function() { return getDescendant; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectError", function() { return ProjectError; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Project", function() { return Project; });
/* harmony import */ var filer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("filer");
/* harmony import */ var filer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(filer__WEBPACK_IMPORTED_MODULE_0__);
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }


const sh = new filer__WEBPACK_IMPORTED_MODULE_0__["fs"].Shell(); // for the IDE relevant fields of fs.stat() results

/**
 * Given a file, returns the named child file.
 * The operation fails if the given file is not a directory,
 * or if the named child does not exist.
 */
function getChild(file, name) {
  if (!file.isDirectory()) throw new Error(`'${file.name}' is not a directory`); // $FlowExpectError

  const directory = file; // Find the child and make sure it exists

  const child = directory.contents.find(f => f.name === name);
  if (child === undefined) throw new Error(`'${name}' does not exist`);
  return child;
}
/**
 * Given a file, returns one of its descendant files.
 * The first fragment must be the name of a child of the given file,
 * The second the name of one of that file's children and so on.
 * The operation fails if an intermediate file file is not a directory,
 * or if a named descendant does not exist.
 */

function getDescendant(file, ...fragments) {
  return fragments.reduce(getChild, file);
}
class ProjectError extends Error {
  constructor(...args) {
    super(...args);

    _defineProperty(this, "name", 'ProjectError');
  }

}

const cmpFile = (a, b) => {
  let result; // sort directories before files (& symlinks)

  const typeVal = f => f.isDirectory() ? 0 : 1;

  result = typeVal(a) - typeVal(b);
  if (result !== 0) return result; // sort alphabetically

  result = a.name.localeCompare(b.name);
  if (result !== 0) return result;
  return 0;
};

class Project {
  constructor(name, uid) {
    _defineProperty(this, "name", void 0);

    _defineProperty(this, "uid", void 0);

    this.name = name;
    this.uid = uid;
  }

  static async getProjects() {
    const projects = await sh.promises.ls('/');
    projects.sort((a, b) => a.name.localeCompare(b.name));
    return projects.map(({
      name,
      node: uid
    }) => new Project(name, uid));
  }

  static async getProject(name) {
    try {
      const path = filer__WEBPACK_IMPORTED_MODULE_0___default.a.path.resolve('/', name);
      const {
        node: uid
      } = await filer__WEBPACK_IMPORTED_MODULE_0__["fs"].promises.stat(path);
      return new Project(name, uid);
    } catch (ex) {
      if (ex instanceof filer__WEBPACK_IMPORTED_MODULE_0___default.a.Errors.ENOENT) throw new ProjectError(`Project "${name}" does not exist`);
      console.error(ex);
      throw ex;
    }
  }

  static async createProject(name) {
    try {
      const path = filer__WEBPACK_IMPORTED_MODULE_0___default.a.path.resolve('/', name);
      await filer__WEBPACK_IMPORTED_MODULE_0__["fs"].promises.mkdir(path);
      const {
        node: uid
      } = await filer__WEBPACK_IMPORTED_MODULE_0__["fs"].promises.stat(path);
      return new Project(name, uid);
    } catch (ex) {
      if (ex instanceof filer__WEBPACK_IMPORTED_MODULE_0___default.a.Errors.EEXIST) throw new ProjectError(`Project "${name}" does already exist`);
      console.error(ex);
      throw ex;
    }
  }

  resolve(...fragments) {
    return filer__WEBPACK_IMPORTED_MODULE_0___default.a.path.resolve('/', this.name, ...fragments);
  }

  get path() {
    return this.resolve();
  }

  async getFiles() {
    function sortRecursively(file) {
      if (!file.isDirectory()) return; // $FlowExpectError

      const dir = file;
      dir.contents.sort(cmpFile);
      dir.contents.forEach(f => sortRecursively(f));
    }

    const [root, contents] = await Promise.all([filer__WEBPACK_IMPORTED_MODULE_0__["fs"].promises.stat(this.path), sh.promises.ls(this.path, {
      recursive: true
    })]);
    root.contents = contents;
    sortRecursively(root);
    return root;
  }

  async rename(newName) {
    try {
      const newPath = filer__WEBPACK_IMPORTED_MODULE_0___default.a.path.resolve('/', newName);
      await filer__WEBPACK_IMPORTED_MODULE_0__["fs"].promises.rename(this.path, newPath);
      this.name = newName;
    } catch (ex) {
      if (ex instanceof filer__WEBPACK_IMPORTED_MODULE_0___default.a.Errors.ENOENT) throw new ProjectError(`Project "${this.name}" does no longer exist`);
      if (ex instanceof filer__WEBPACK_IMPORTED_MODULE_0___default.a.Errors.EEXIST) throw new ProjectError(`Project "${newName}" does already exist`);
      console.error(ex);
      throw ex;
    }
  }

  async delete() {
    try {
      // use Shell.rm as it supports recursive removal
      await sh.promises.rm(this.path, {
        recursive: true
      });
    } catch (ex) {
      if (ex instanceof filer__WEBPACK_IMPORTED_MODULE_0___default.a.Errors.ENOENT) throw new ProjectError(`Project "${this.name}" does no longer exist`);
      console.error(ex);
      throw ex;
    }
  }

}

/***/ }),

/***/ "./src/sdk/PluginManager.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var filer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("filer");
/* harmony import */ var filer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(filer__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_ide_Executor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/components/ide/Executor/Executor.js");
/* harmony import */ var _core_store_projects__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/store/projects.js");
/* harmony import */ var _components_ide_Simulator_simulation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/components/ide/Simulator/simulation/index.js");
/* harmony import */ var _misc__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/sdk/misc.js");
/* harmony import */ var _hedgehog__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/sdk/hedgehog.js");
/* harmony import */ var _blockly__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/sdk/blockly.js");
/* harmony import */ var _simulation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/sdk/simulation.js");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }










class PluginManager {
  constructor(executor, print, getInput, getSimulation) {
    _defineProperty(this, "executor", void 0);

    _defineProperty(this, "plugins", []);

    _defineProperty(this, "pluginReadyResolvers", []);

    _defineProperty(this, "print", void 0);

    _defineProperty(this, "getInput", void 0);

    _defineProperty(this, "getSimulation", void 0);

    _defineProperty(this, "sdk", void 0);

    _defineProperty(this, "onPluginReady", () => this.pluginReadyResolvers.shift()());

    this.executor = executor;
    this.print = print;
    this.getInput = getInput;
    this.getSimulation = getSimulation;
  }

  async initSdk() {
    const {
      executor,
      print,
      getInput,
      getSimulation
    } = this; // TODO: add on exit handler

    this.sdk = {
      misc: await Object(_misc__WEBPACK_IMPORTED_MODULE_4__["default"])({
        print,
        getInput,
        onExit: () => {},
        pluginManager: this,
        executor
      }),
      hedgehog: await Object(_hedgehog__WEBPACK_IMPORTED_MODULE_5__["default"])({
        getSimulation
      }),
      blockly: await Object(_blockly__WEBPACK_IMPORTED_MODULE_6__["default"])(),
      simulation: await Object(_simulation__WEBPACK_IMPORTED_MODULE_7__["default"])({
        executor,
        getSimulation
      })
    };
  }

  async loadFromProjectMetadata(project) {
    const pluginFolderPath = project.resolve('.metadata', 'plugins');

    try {
      const stat = await filer__WEBPACK_IMPORTED_MODULE_0__["fs"].promises.stat(pluginFolderPath);

      if (!stat.isDirectory()) {
        return;
      }
    } catch (e) {
      if ((e === null || e === void 0 ? void 0 : e.code) === 'ENOENT') {
        return;
      } else {
        throw e;
      }
    }

    const sh = new filer__WEBPACK_IMPORTED_MODULE_0__["fs"].Shell();
    const pluginFiles = await sh.promises.ls(pluginFolderPath);
    this.plugins.push(...(await Promise.all(pluginFiles.filter(pluginFile => pluginFile.name.endsWith('.js')).map(async pluginFile => {
      const code = await filer__WEBPACK_IMPORTED_MODULE_0__["fs"].promises.readFile(project.resolve('.metadata', 'plugins', pluginFile.name), 'utf8');
      return this.addPlugin(pluginFile.name, code);
    }))));
  }

  async addPlugin(name, code) {
    const readyPromise = new Promise(resolve => {
      this.pluginReadyResolvers.push(resolve);
    });
    const task = this.executor.addTask({
      name,
      code,
      api: { ...this.sdk.misc.handlers,
        ...this.sdk.hedgehog.handlers,
        ...this.sdk.blockly.handlers,
        ...this.sdk.simulation.handlers
      }
    });
    await readyPromise;
    return task;
  }

  simulationAdded(simulation) {
    this.sdk.simulation.simulationAdded(simulation);
  } // TODO this simply resolves one loading plugin, not the correct one


  getSdk() {
    return this.sdk;
  }

}

/* harmony default export */ __webpack_exports__["default"] = (PluginManager);

/***/ }),

/***/ "./src/sdk/base.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return emit; });
/* harmony import */ var _components_ide_Executor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/ide/Executor/Executor.js");

function emit(prefix, executor, event, payload) {
  executor.sendEvent(null, `${prefix}_${event}`, payload);
}

/***/ }),

/***/ "./src/sdk/blockly.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return init; });
/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/sdk/base.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("blockly");
/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(blockly__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _components_ide_VisualEditor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/components/ide/VisualEditor/VisualEditor.js");
/* harmony import */ var _components_ide_VisualEditor_blocks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/components/ide/VisualEditor/blocks/index.js");
var _jsxFileName = "/home/sarah/Documents/Arbeit/github/netRob/Netrob/src/sdk/blockly.js";

/* eslint-disable */
// DO NOT DELETE GSL TAGS
 // <GSL customizable: blockly-imports>






function buildToolboxBlock(block) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__["createElement"]("block", {
    type: block.blockJson.type,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 30,
      columnNumber: 5
    }
  }, Object.entries(block.toolboxBlocksData).map(([name, input0]) => {
    // $FlowExpectError
    const input = input0;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__["createElement"]("value", {
      name: name,
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 36,
        columnNumber: 11
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__["createElement"]("shadow", {
      type: input.valueType,
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 37,
        columnNumber: 13
      }
    }, input.fields.map(field => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__["createElement"]("field", {
      name: field.name,
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 39,
        columnNumber: 17
      }
    }, field.value))));
  }));
} // </GSL customizable: blockly-imports>


async function init() {
  // <GSL customizable: blockly-init>
  // Your module initialization code
  const dynamicBlocks = [];
  _components_ide_VisualEditor__WEBPACK_IMPORTED_MODULE_3__["default"].dynamicBlockLoaders.push(() => {
    return dynamicBlocks;
  }); // </GSL customizable: blockly-init>

  const emit = _base__WEBPACK_IMPORTED_MODULE_0__["default"].bind(null, 'blockly');

  async function addBlock(taskHandle, dynamicBlock) {
    // <GSL customizable: blockly-body-addBlock>
    // Your function code goes here
    try {
      const {
        type
      } = dynamicBlock.blockJson;

      if (type in blockly__WEBPACK_IMPORTED_MODULE_2___default.a.Blocks) {
        throw new Error(`block with type '${type}' already exists`);
      }

      const toolboxBlock = buildToolboxBlock(dynamicBlock);
      const block = {
        blockJson: dynamicBlock.blockJson,
        generators: {
          JavaScript: block => {
            const hasOutput = ('output' in dynamicBlock.blockJson);
            const callFunction = hasOutput ? 'callWithReply' : 'call';
            let code = '';
            code += `await sdk.misc.${callFunction}('${taskHandle.task.name}', 'blk_${type}', {\n`;

            for (const {
              name,
              type
            } of dynamicBlock.blockJson.args0) {
              let res;

              if (type === 'input_value') {
                res = blockly__WEBPACK_IMPORTED_MODULE_2___default.a.JavaScript.valueToCode(block, name, blockly__WEBPACK_IMPORTED_MODULE_2___default.a.JavaScript.ORDER_NONE);
              } else if (type === 'input_statement') {
                // TODO input_statement unsupported for now
                res = undefined;
              } else if (type === 'input_dummy') {
                // nothing to do
                res = undefined;
              } else if (type.startsWith('field_')) {
                res = block.getFieldValue(name);
              } else {
                // hopefully unreachable
                res = undefined;
              }

              if (res !== undefined) code += `  ${name}: ${res},\n`;
            }

            code += `})`;

            if (hasOutput) {
              return [code, blockly__WEBPACK_IMPORTED_MODULE_2___default.a.JavaScript.ORDER_AWAIT];
            } else {
              return `${code};\n`;
            }
          },
          Python: block => {
            return '';
          }
        },
        toolboxBlocks: {
          default: () => toolboxBlock
        }
      };
      dynamicBlocks.push(block);
      Object(_components_ide_VisualEditor_blocks__WEBPACK_IMPORTED_MODULE_4__["registerBlocklyBlock"])(block);
    } catch (err) {
      console.log(err);
    } // </GSL customizable: blockly-body-addBlock>

  }

  return {
    // <default GSL customizable: blockly-extra-return>
    // Space for extra exports
    // </GSL customizable: blockly-extra-return>
    emit,
    handlers: {
      'blockly_addBlock': async ({
        dynamicBlock
      }, taskHandle) => {
        return taskHandle.withReply(null, addBlock.bind(null, taskHandle, dynamicBlock));
      }
    }
  };
}

/***/ }),

/***/ "./src/sdk/hedgehog.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return init; });
/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/sdk/base.js");
/* harmony import */ var _components_ide_Simulator_simulation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/components/ide/Simulator/simulation/index.js");
/* eslint-disable */
// DO NOT DELETE GSL TAGS
 // <GSL customizable: hedgehog-imports>


async function init({
  getSimulation
}) {
  // <GSL customizable: hedgehog-init>
  async function getRobot(name) {
    const robot = (await getSimulation()).robots.get(name);
    if (robot === undefined) throw new Error(`no robot named "${name}"`);
    return robot;
  } // </GSL customizable: hedgehog-init>


  const emit = _base__WEBPACK_IMPORTED_MODULE_0__["default"].bind(null, 'hedgehog');
  const moduleFunctions = {
    'commands': ({
      robot,
      cmds
    }) => commands(robot, cmds),
    'moveMotor': ({
      robot,
      port,
      power
    }) => moveMotor(robot, port, power),
    'setServo': ({
      robot,
      port,
      position
    }) => setServo(robot, port, position),
    'getAnalog': ({
      robot,
      port
    }) => getAnalog(robot, port),
    'getDigital': ({
      robot,
      port
    }) => getDigital(robot, port),
    'sleep': ({
      millis
    }) => sleep(millis)
  };

  async function commands(robot, cmds) {
    // <GSL customizable: hedgehog-body-commands>
    return (
      /* await */
      Promise.all(cmds.map(([command, payload]) => {
        if (Object.prototype.hasOwnProperty.call(moduleFunctions, command)) {
          // $FlowExpectError
          return moduleFunctions[command]({
            robot,
            ...payload
          });
        } else {
          return undefined;
        }
      }))
    ); // </GSL customizable: hedgehog-body-commands>
  }

  async function moveMotor(robot, port, power) {
    // <GSL customizable: hedgehog-body-moveMotor>
    (await getRobot(robot)).controller.moveMotor(port, power); // </GSL customizable: hedgehog-body-moveMotor>
  }

  async function setServo(robot, port, position) {
    // <GSL customizable: hedgehog-body-setServo>
    // Your function code goes here
    (await getRobot(robot)).controller.setServo(port, position); // </GSL customizable: hedgehog-body-setServo>
  }

  async function getAnalog(robot, port) {
    // <GSL customizable: hedgehog-body-getAnalog>
    return (await getRobot(robot)).controller.getAnalog(port); // </GSL customizable: hedgehog-body-getAnalog>
  }

  async function getDigital(robot, port) {
    // <GSL customizable: hedgehog-body-getDigital>
    return (await getRobot(robot)).controller.getDigital(port); // </GSL customizable: hedgehog-body-getDigital>
  }

  async function sleep(millis) {
    // <GSL customizable: hedgehog-body-sleep>
    const simulation = await getSimulation();
    await simulation.sleep(millis); // </GSL customizable: hedgehog-body-sleep>
  }

  return {
    // <default GSL customizable: hedgehog-extra-return>
    // Space for extra exports
    // </GSL customizable: hedgehog-extra-return>
    emit,
    handlers: {
      'hedgehog_commands': async ({
        robot,
        cmds
      }, taskHandle) => {
        return taskHandle.withReply(null, commands.bind(null, robot, cmds));
      },
      'hedgehog_moveMotor': async ({
        robot,
        port,
        power
      }, taskHandle) => {
        return taskHandle.withReply(null, moveMotor.bind(null, robot, port, power));
      },
      'hedgehog_setServo': async ({
        robot,
        port,
        position
      }, taskHandle) => {
        return taskHandle.withReply(null, setServo.bind(null, robot, port, position));
      },
      'hedgehog_getAnalog': async ({
        robot,
        port
      }, taskHandle) => {
        return taskHandle.withReply(null, getAnalog.bind(null, robot, port));
      },
      'hedgehog_getDigital': async ({
        robot,
        port
      }, taskHandle) => {
        return taskHandle.withReply(null, getDigital.bind(null, robot, port));
      },
      'hedgehog_sleep': async ({
        millis
      }, taskHandle) => {
        return taskHandle.withReply(null, sleep.bind(null, millis));
      }
    }
  };
}

/***/ }),

/***/ "./src/sdk/misc.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return init; });
/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/sdk/base.js");
/* harmony import */ var _PluginManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/sdk/PluginManager.js");
/* harmony import */ var _components_ide_Executor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/components/ide/Executor/Executor.js");
/* eslint-disable */
// DO NOT DELETE GSL TAGS
 // <GSL customizable: misc-imports>



async function init({
  print,
  getInput,
  onExit,
  pluginManager,
  executor
}) {
  // <default GSL customizable: misc-init>
  // Your module initialization code
  // </GSL customizable: misc-init>
  const emit = _base__WEBPACK_IMPORTED_MODULE_0__["default"].bind(null, 'misc');

  async function handlePrint(text) {
    // <GSL customizable: misc-body-print>
    return (
      /* await */
      print(text.toString(), 'stdout')
    ); // </GSL customizable: misc-body-print>
  }

  async function handleGetInput() {
    // <GSL customizable: misc-body-getInput>
    return (
      /* await */
      getInput()
    ); // </GSL customizable: misc-body-getInput>
  }

  async function exit(error) {
    // <GSL customizable: misc-body-exit>
    // Your function code goes here
    if (error) {
      await print(error, 'stderr');
    }

    await onExit(error); // </GSL customizable: misc-body-exit>
  }

  async function pluginReady() {
    // <GSL customizable: misc-body-pluginReady>
    // Your function code goes here
    pluginManager.onPluginReady(); // </GSL customizable: misc-body-pluginReady>
  }

  return {
    // <default GSL customizable: misc-extra-return>
    // Space for extra exports
    // </GSL customizable: misc-extra-return>
    emit,
    handlers: {
      'misc_print': ({
        text
      }) => handlePrint(text),
      'misc_getInput': async ({}, taskHandle) => {
        return taskHandle.withReply(null, handleGetInput.bind(null));
      },
      'misc_exit': ({
        error
      }) => exit(error),
      'misc_pluginReady': ({}) => pluginReady()
    }
  };
}

/***/ }),

/***/ "./src/sdk/simulation.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return init; });
/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/sdk/base.js");
/* harmony import */ var _components_ide_Simulator_simulation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/components/ide/Simulator/simulation/index.js");
/* harmony import */ var _components_ide_Executor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/components/ide/Executor/Executor.js");
/* eslint-disable */
// DO NOT DELETE GSL TAGS
 // <GSL customizable: simulation-imports>


 // </GSL customizable: simulation-imports>

async function init({
  executor,
  getSimulation
}) {
  // <GSL customizable: simulation-init>
  // Your module initialization code
  function handleCollision(eventName, bodyA, bodyB) {
    emit(executor, 'collision', {
      eventName,
      bodyA,
      bodyB
    });
    emit(executor, `collision_${bodyA.label}`, {
      eventName,
      bodyA,
      bodyB
    });
    emit(executor, `collision_${bodyB.label}`, {
      eventName,
      bodyA: bodyB,
      bodyB: bodyA
    });

    if (eventName === 'collisionStart') {
      emit(executor, 'collision_start', {
        eventName,
        bodyA,
        bodyB
      });
      emit(executor, `collision_start_${bodyA.label}`, {
        eventName,
        bodyA,
        bodyB
      });
      emit(executor, `collision_start_${bodyB.label}`, {
        eventName,
        bodyA: bodyB,
        bodyB: bodyA
      });
    } else if (eventName === 'collisionEnd') {
      emit(executor, 'collision_end', {
        eventName,
        bodyA,
        bodyB
      });
      emit(executor, `collision_end_${bodyA.label}`, {
        eventName,
        bodyA,
        bodyB
      });
      emit(executor, `collision_end_${bodyB.label}`, {
        eventName,
        bodyA: bodyB,
        bodyB: bodyA
      });
    } else {
      // eslint-disable-next-line no-throw-literal
      throw 'unreachable';
    }
  }

  function simulationAdded(simulation) {
    simulation.addSensorHandler(handleCollision);
  } // </GSL customizable: simulation-init>


  const emit = _base__WEBPACK_IMPORTED_MODULE_0__["default"].bind(null, 'simulation');

  async function add(objects) {
    // <GSL customizable: simulation-body-add>
    const simulation = await getSimulation();
    simulation.jsonAdd(objects, true); // </GSL customizable: simulation-body-add>
  }

  async function update(objects) {
    // <GSL customizable: simulation-body-update>
    const simulation = await getSimulation();
    simulation.updateBodies(objects); // </GSL customizable: simulation-body-update>
  }

  async function remove(labels) {
    // <GSL customizable: simulation-body-remove>
    const simulation = await getSimulation();
    simulation.removeBodies(labels); // </GSL customizable: simulation-body-remove>
  }

  return {
    // <GSL customizable: simulation-extra-return>
    // Space for extra exports
    simulationAdded,
    // </GSL customizable: simulation-extra-return>
    emit,
    handlers: {
      'simulation_add': ({
        objects
      }) => add(objects),
      'simulation_update': ({
        objects
      }) => update(objects),
      'simulation_remove': ({
        labels
      }) => remove(labels)
    }
  };
}

/***/ }),

/***/ "./src/util.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "promisify", function() { return promisify; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapObject", function() { return mapObject; });
/* eslint-disable import/prefer-default-export */
// takes a function that takes a callback `(err, result) => ...`
// as its last parameter and makes it into a function that returns a promise instead
// Flow doesn't manage to capture the type of `(...args, cb) => void` unfortunately,
// so the actual type of the promise can not be inferred, and argument types are not checked.
function promisify(fn) {
  return (...args) => new Promise((resolve, reject) => {
    fn(...args, (err, result) => {
      if (err) reject(err);else resolve(result);
    });
  });
}
function mapObject(obj, fn) {
  const entries = Object.entries(obj);
  const newEntries = entries.map(([key, value0]) => {
    // $FlowExpectError
    const value = value0;
    return [key, fn(value, key)];
  });
  return Object.fromEntries(newEntries);
}

/***/ })

};;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzLzEuanMiLCJzb3VyY2VzIjpbIi9ob21lL3NhcmFoL0RvY3VtZW50cy90bXAvd2ViUm9iL3NyYy90ZXN0L2RhdGEuanMiLCIvaG9tZS9zYXJhaC9Eb2N1bWVudHMvQXJiZWl0L2dpdGh1Yi9uZXRSb2IvTmV0cm9iL3NyYy9jb21wb25lbnRzL2lkZS9CbG9ja2x5L0Jsb2NrbHkuc2NzcyIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL0NvbnNvbGUvQ29uc29sZS5zY3NzIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvRWRpdG9yL0VkaXRvci5zY3NzIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvRmlsZVRyZWUvRmlsZVRyZWUuc2NzcyIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL0lkZS9mbGV4X2xheW91dF9pZGUuY3NzIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvTWFya2Rvd24vTWFya2Rvd24uc2NzcyIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL1NpbXVsYXRvci9TaW11bGF0b3Iuc2NzcyIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL1NpbXVsYXRvckVkaXRvci9TaW11bGF0b3JFZGl0b3Iuc2NzcyIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL1Rvb2xCYXIvVG9vbEJhci5zY3NzIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvVG9vbEJhci9Ub29sQmFySXRlbS5zY3NzIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvVmlzdWFsRWRpdG9yL1Zpc3VhbEVkaXRvci5zY3NzIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY2xpZW50L3BvbHktZGVjb21wLXBvbHlmaWxsLmpzIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvQmxvY2tseS9CbG9ja2x5LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2lkZS9CbG9ja2x5L0Jsb2NrbHkuc2Nzcz84ODVjIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvQ29uc29sZS9Db25zb2xlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2lkZS9Db25zb2xlL0NvbnNvbGUuc2Nzcz85OWExIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvRWRpdG9yL0VkaXRvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9pZGUvRWRpdG9yL0VkaXRvci5zY3NzP2IyOTAiLCIvaG9tZS9zYXJhaC9Eb2N1bWVudHMvQXJiZWl0L2dpdGh1Yi9uZXRSb2IvTmV0cm9iL3NyYy9jb21wb25lbnRzL2lkZS9FeGVjdXRvci9FeGVjdXRvci5qcyIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL0V4ZWN1dG9yL1Rhc2tFeGVjdXRvci5qcyIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL0ZpbGVUcmVlL0ZpbGVNZW51LmpzIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvRmlsZVRyZWUvRmlsZVRyZWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvaWRlL0ZpbGVUcmVlL0ZpbGVUcmVlLnNjc3M/ZmE3ZCIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL0ZpbGVUcmVlL0ZpbGVVcGxvYWQuanMiLCIvaG9tZS9zYXJhaC9Eb2N1bWVudHMvQXJiZWl0L2dpdGh1Yi9uZXRSb2IvTmV0cm9iL3NyYy9jb21wb25lbnRzL2lkZS9GaWxlVHJlZS91c2VDcmVhdGVGaWxlRGlhbG9nLmpzIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvRmlsZVRyZWUvdXNlRGVsZXRlRmlsZURpYWxvZy5qcyIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL0ZpbGVUcmVlL3VzZUZpbGVEb3dubG9hZC5qcyIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL0ZpbGVUcmVlL3VzZVJlbmFtZUZpbGVEaWFsb2cuanMiLCIvaG9tZS9zYXJhaC9Eb2N1bWVudHMvQXJiZWl0L2dpdGh1Yi9uZXRSb2IvTmV0cm9iL3NyYy9jb21wb25lbnRzL2lkZS9JZGUvSWRlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2lkZS9JZGUvZmxleF9sYXlvdXRfaWRlLmNzcz9lODJiIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvSWRlL3VzZUxheW91dE1vZGVsLmpzIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvSWRlL3VzZVBlcnNpc3RlbnRTdGF0ZS5qcyIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL0lkZS91c2VQcm9qZWN0Q2FjaGUuanMiLCIvaG9tZS9zYXJhaC9Eb2N1bWVudHMvQXJiZWl0L2dpdGh1Yi9uZXRSb2IvTmV0cm9iL3NyYy9jb21wb25lbnRzL2lkZS9JZGUvdXNlUHJvamVjdEluZm8uanMiLCIvaG9tZS9zYXJhaC9Eb2N1bWVudHMvQXJiZWl0L2dpdGh1Yi9uZXRSb2IvTmV0cm9iL3NyYy9jb21wb25lbnRzL2lkZS9JZnJhbWVWaWV3ZXIvSWZyYW1lVmlld2VyLmpzIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvTWFya2Rvd24vTWFya2Rvd24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvaWRlL01hcmtkb3duL01hcmtkb3duLnNjc3M/OTExYyIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL1NpbXVsYXRvci9EZWZhdWx0UGxheWdyb3VuZC5qcyIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL1NpbXVsYXRvci9TaW11bGF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvaWRlL1NpbXVsYXRvci9TaW11bGF0b3Iuc2Nzcz9lNGU4IiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvU2ltdWxhdG9yL1VSREZKU09OTG9hZGVyLmpzIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvU2ltdWxhdG9yL2RlZmF1bHRfc2ltdWxhdGlvbi54bWwiLCIvaG9tZS9zYXJhaC9Eb2N1bWVudHMvQXJiZWl0L2dpdGh1Yi9uZXRSb2IvTmV0cm9iL3NyYy9jb21wb25lbnRzL2lkZS9TaW11bGF0b3Ivc2ltdWxhdGlvbi9IZWRnZWhvZy5qcyIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL1NpbXVsYXRvci9zaW11bGF0aW9uL1JvYm90LmpzIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvU2ltdWxhdG9yL3NpbXVsYXRpb24vU2ltdWxhdGlvbi5qcyIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL1NpbXVsYXRvci9zaW11bGF0aW9uL2RyaXZlcy5qcyIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL1NpbXVsYXRvci9zaW11bGF0aW9uL2luZGV4LmpzIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvU2ltdWxhdG9yL3NpbXVsYXRpb24vc2NoZW1hL2hlbHBlcnMuanMiLCIvaG9tZS9zYXJhaC9Eb2N1bWVudHMvQXJiZWl0L2dpdGh1Yi9uZXRSb2IvTmV0cm9iL3NyYy9jb21wb25lbnRzL2lkZS9TaW11bGF0b3Ivc2ltdWxhdGlvbi9zY2hlbWEvaW5kZXguanMiLCIvaG9tZS9zYXJhaC9Eb2N1bWVudHMvQXJiZWl0L2dpdGh1Yi9uZXRSb2IvTmV0cm9iL3NyYy9jb21wb25lbnRzL2lkZS9TaW11bGF0b3Ivc2ltdWxhdGlvbi9zY2hlbWEvb2JqZWN0cy5qcyIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL1NpbXVsYXRvci9zaW11bGF0aW9uL3NlbnNvcnMuanMiLCIvaG9tZS9zYXJhaC9Eb2N1bWVudHMvQXJiZWl0L2dpdGh1Yi9uZXRSb2IvTmV0cm9iL3NyYy9jb21wb25lbnRzL2lkZS9TaW11bGF0b3Ivc2ltdWxhdGlvbi9zZXJ2by5qcyIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL1NpbXVsYXRvckVkaXRvci9TaW11bGF0b3JFZGl0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvaWRlL1NpbXVsYXRvckVkaXRvci9TaW11bGF0b3JFZGl0b3Iuc2Nzcz84MGQ0IiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvU2ltdWxhdG9yRWRpdG9yL2Jsb2Nrcy9oZWxwZXJzLmpzIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvU2ltdWxhdG9yRWRpdG9yL2Jsb2Nrcy9pbmRleC5qcyIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL1NpbXVsYXRvckVkaXRvci9ibG9ja3Mvb2JqZWN0cy5qcyIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL1NpbXVsYXRvckVkaXRvci9ibG9ja3Mvcm9ib3QuanMiLCIvaG9tZS9zYXJhaC9Eb2N1bWVudHMvQXJiZWl0L2dpdGh1Yi9uZXRSb2IvTmV0cm9iL3NyYy9jb21wb25lbnRzL2lkZS9TaW11bGF0b3JFZGl0b3IvYmxvY2tzL3NldHRpbmdzLmpzIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvU2ltdWxhdG9yRWRpdG9yL2Jsb2Nrcy9zaW11bGF0aW9uLmpzIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvVG9vbEJhci9Ub29sQmFyLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2lkZS9Ub29sQmFyL1Rvb2xCYXIuc2Nzcz9hMmI1IiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvVG9vbEJhci9Ub29sQmFySWNvbkJ1dHRvbi5qcyIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL1Rvb2xCYXIvVG9vbEJhckl0ZW0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvaWRlL1Rvb2xCYXIvVG9vbEJhckl0ZW0uc2Nzcz8wNWU4IiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvVmlzdWFsRWRpdG9yL1Zpc3VhbEVkaXRvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9pZGUvVmlzdWFsRWRpdG9yL1Zpc3VhbEVkaXRvci5zY3NzPzhjMmMiLCIvaG9tZS9zYXJhaC9Eb2N1bWVudHMvQXJiZWl0L2dpdGh1Yi9uZXRSb2IvTmV0cm9iL3NyYy9jb21wb25lbnRzL2lkZS91c2VGaWxlLmpzIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvdXNlRmlsZU9iamVjdFVSTC5qcyIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvbWlzYy9TaW1wbGVEaWFsb2cuanMiLCIvaG9tZS9zYXJhaC9Eb2N1bWVudHMvQXJiZWl0L2dpdGh1Yi9uZXRSb2IvTmV0cm9iL3NyYy9jb3JlL3N0b3JlL3Byb2plY3RzLmpzIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvc2RrL1BsdWdpbk1hbmFnZXIuanMiLCIvaG9tZS9zYXJhaC9Eb2N1bWVudHMvQXJiZWl0L2dpdGh1Yi9uZXRSb2IvTmV0cm9iL3NyYy9zZGsvYmFzZS5qcyIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL3Nkay9ibG9ja2x5LmpzIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvc2RrL2hlZGdlaG9nLmpzIiwiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvc2RrL21pc2MuanMiLCIvaG9tZS9zYXJhaC9Eb2N1bWVudHMvQXJiZWl0L2dpdGh1Yi9uZXRSb2IvTmV0cm9iL3NyYy9zZGsvc2ltdWxhdGlvbi5qcyIsIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL3V0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFRFU1RfQ01EUyA9IFtcbiAgICB7XG4gICAgICAgIFwicm9ib3RcIjogXCJ1cjVcIixcbiAgICAgICAgXCJjbWRzXCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcIkNvbW1hbmRJRFwiOiAwLFxuICAgICAgICAgICAgICAgIFwiTmFtZVwiOiBcIlVzaW5nIEdyaXBwZXIgMFwiLFxuICAgICAgICAgICAgICAgIFwiQ1JDTENvbW1hbmRcIjogXCJTZXRFbmRFZmZlY3RvclBhcmFtZXRlcnNcIixcbiAgICAgICAgICAgICAgICBcIkNSQ0xQYXJhbVwiOiB7XCJUb29sSURcIjogMH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XCJDb21tYW5kSURcIjogMSwgXCJOYW1lXCI6IFwiU2V0IGZhc3Qgc3BlZWRcIiwgXCJDUkNMQ29tbWFuZFwiOiBcIlNldFRyYW5zU3BlZWRcIiwgXCJDUkNMUGFyYW1cIjoge1wiUmVsYXRpdmVcIjogMC41fX1cbiAgICAgICAgXVxuICAgIH0sXG4gICAge1xuICAgICAgICBcInJvYm90XCI6IFwia3VrYV9rcjZyNzAwc2l4eFwiLFxuICAgICAgICBcImNtZHNcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiQ29tbWFuZElEXCI6IDIsXG4gICAgICAgICAgICAgICAgXCJOYW1lXCI6IFwiVXNpbmcgR3JpcHBlciAwXCIsXG4gICAgICAgICAgICAgICAgXCJDUkNMQ29tbWFuZFwiOiBcIlNldEVuZEVmZmVjdG9yUGFyYW1ldGVyc1wiLFxuICAgICAgICAgICAgICAgIFwiQ1JDTFBhcmFtXCI6IHtcIlRvb2xJRFwiOiAwfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcIkNvbW1hbmRJRFwiOiAzLCBcIk5hbWVcIjogXCJTZXQgZmFzdCBzcGVlZFwiLCBcIkNSQ0xDb21tYW5kXCI6IFwiU2V0VHJhbnNTcGVlZFwiLCBcIkNSQ0xQYXJhbVwiOiB7XCJSZWxhdGl2ZVwiOiAwLjV9fVxuICAgICAgICBdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIFwicm9ib3RcIjogXCJ1cjVcIixcbiAgICAgICAgXCJjbWRzXCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcIkNvbW1hbmRJRFwiOiA0LFxuICAgICAgICAgICAgICAgIFwiTmFtZVwiOiBcIk1vdmUgVG9cIixcbiAgICAgICAgICAgICAgICBcIkNSQ0xDb21tYW5kXCI6IFwiTW92ZVRvXCIsXG4gICAgICAgICAgICAgICAgXCJDUkNMUGFyYW1cIjoge1xuICAgICAgICAgICAgICAgICAgICBcIlN0cmFpZ2h0XCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIlBvc2VcIjoge1wiWFwiOiAzMDAsIFwiWVwiOiA0MDAsIFwiWlwiOiAzMDAsIFwiQVwiOiAwLCBcIkJcIjogTWF0aC5QSSAvIDIsIFwiQ1wiOiAtTWF0aC5QSSArIDAuMX1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiQ29tbWFuZElEXCI6IDUsXG4gICAgICAgICAgICAgICAgXCJOYW1lXCI6IFwiTW92ZSBUb1wiLFxuICAgICAgICAgICAgICAgIFwiQ1JDTENvbW1hbmRcIjogXCJNb3ZlVG9cIixcbiAgICAgICAgICAgICAgICBcIkNSQ0xQYXJhbVwiOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiU3RyYWlnaHRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJQb3NlXCI6IHtcIlhcIjogMzAwLCBcIllcIjogNTAwLCBcIlpcIjogMzAwLCBcIkFcIjogMCwgXCJCXCI6IE1hdGguUEkgLyAyLCBcIkNcIjogLU1hdGguUEkgKyAwLjF9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcIkNvbW1hbmRJRFwiOiA2LCBcIk5hbWVcIjogXCJQaWNraW5nIFBhcnRcIiwgXCJDUkNMQ29tbWFuZFwiOiBcIlNldEVuZEVmZmVjdG9yUGFyYW1ldGVyc1wiLCBcIkNSQ0xQYXJhbVwiOiB7XCJTZXR0aW5nXCI6IDF9fSxcbiAgICAgICAgICAgIHtcIkNvbW1hbmRJRFwiOiA3LCBcIk5hbWVcIjogXCJXYWl0IDAuNXMzXCIsIFwiQ1JDTENvbW1hbmRcIjogXCJXYWl0XCIsIFwiQ1JDTFBhcmFtXCI6IHtcIlRpbWVcIjogMC41fX0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJDb21tYW5kSURcIjogOCxcbiAgICAgICAgICAgICAgICBcIk5hbWVcIjogXCJNb3ZlIFRvXCIsXG4gICAgICAgICAgICAgICAgXCJDUkNMQ29tbWFuZFwiOiBcIk1vdmVUb1wiLFxuICAgICAgICAgICAgICAgIFwiQ1JDTFBhcmFtXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJTdHJhaWdodFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgXCJQb3NlXCI6IHtcIlhcIjogMzAwLCBcIllcIjogMzAwLCBcIlpcIjogMzAwLCBcIkFcIjogMCwgXCJCXCI6IE1hdGguUEkgLyAyLCBcIkNcIjogLU1hdGguUEkgKyAwLjF9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcIkNvbW1hbmRJRFwiOiA5LCBcIk5hbWVcIjogXCJSZWxlYXNpbmcgUGFydFwiLCBcIkNSQ0xDb21tYW5kXCI6IFwiU2V0RW5kRWZmZWN0b3JQYXJhbWV0ZXJzXCIsIFwiQ1JDTFBhcmFtXCI6IHtcIlNldHRpbmdcIjogMH19LFxuXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJDb21tYW5kSURcIjogMTAsXG4gICAgICAgICAgICAgICAgXCJOYW1lXCI6IFwiTW92ZSBUb1wiLFxuICAgICAgICAgICAgICAgIFwiQ1JDTENvbW1hbmRcIjogXCJNb3ZlVG9cIixcbiAgICAgICAgICAgICAgICBcIkNSQ0xQYXJhbVwiOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiU3RyYWlnaHRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwiUG9zZVwiOiB7XCJYXCI6IDMwMCwgXCJZXCI6IDQwMCwgXCJaXCI6IDMwMCwgXCJBXCI6IDAsIFwiQlwiOiBNYXRoLlBJIC8gMiwgXCJDXCI6IC1NYXRoLlBJICsgMC4xfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIF1cbiAgICB9LFxuXVxuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSh0cnVlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qKlxcbiAqIFJlYWN0IFN0YXJ0ZXIgS2l0IChodHRwczovL3d3dy5yZWFjdHN0YXJ0ZXJraXQuY29tLylcXG4gKlxcbiAqIENvcHlyaWdodCDCqSAyMDE0LXByZXNlbnQgS3JpYXNvZnQsIExMQy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cXG4gKlxcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxcbiAqIExJQ0VOU0UudHh0IGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXFxuICovXFxuXFxuOnJvb3Qge1xcbiAgLypcXG4gICAqIFR5cG9ncmFwaHlcXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcblxcbiAgLS1mb250LWZhbWlseS1iYXNlOiAnU2Vnb2UgVUknLCAnSGVsdmV0aWNhTmV1ZS1MaWdodCcsIHNhbnMtc2VyaWY7XFxuXFxuICAvKlxcbiAgICogTGF5b3V0XFxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG5cXG4gIC0tbWF4LWNvbnRlbnQtd2lkdGg6IDEwMDBweDtcXG5cXG4gIC8qXFxuICAgKiBBcHBsaWNhdGlvbiBzcGVjaWZpY1xcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuXFxuICAtLWhlZGdlaG9nLWdyZWVuLWxpZ2h0OiAjMzhiNDQ5O1xcbiAgLS1oZWRnZWhvZy1ncmVlbi1kYXJrOiAjMDA3YzNjO1xcblxcbiAgLypcXG4gICAqIE1lZGlhIHF1ZXJpZXMgYnJlYWtwb2ludHNcXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcblxcbiAgLS1zY3JlZW4teHMtbWluOiA0ODBweDsgIC8qIEV4dHJhIHNtYWxsIHNjcmVlbiAvIHBob25lICovXFxuICAtLXNjcmVlbi1zbS1taW46IDc2OHB4OyAgLyogU21hbGwgc2NyZWVuIC8gdGFibGV0ICovXFxuICAtLXNjcmVlbi1tZC1taW46IDk5MnB4OyAgLyogTWVkaXVtIHNjcmVlbiAvIGRlc2t0b3AgKi9cXG4gIC0tc2NyZWVuLWxnLW1pbjogMTIwMHB4OyAvKiBMYXJnZSBzY3JlZW4gLyB3aWRlIGRlc2t0b3AgKi9cXG59XFxuXFxuLkJsb2NrbHktYmxvY2tseUNvbnRhaW5lci0xWDA0TyB7XFxuICAtbXMtZmxleDogMSAwIGF1dG87XFxuICAgICAgZmxleDogMSAwIGF1dG87XFxuICBwb3NpdGlvbjogcmVsYXRpdmVcXG59XFxuXFxuLkJsb2NrbHktYmxvY2tseUNvbnRhaW5lci0xWDA0TyAuQmxvY2tseS1ibG9ja2x5LWNjcHRoIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgfVxcblwiLCBcIlwiLCB7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCIvaG9tZS9zYXJhaC9Eb2N1bWVudHMvQXJiZWl0L2dpdGh1Yi9uZXRSb2IvTmV0cm9iL3NyYy9jb21wb25lbnRzL2lkZS9CbG9ja2x5L0Jsb2NrbHkuc2Nzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTs7Ozs7OztHQU9HOztBQUVIO0VBQ0U7O2dGQUU4RTs7RUFFOUUsa0VBQWtFOztFQUVsRTs7Z0ZBRThFOztFQUU5RSw0QkFBNEI7O0VBRTVCOztnRkFFOEU7O0VBRTlFLGdDQUFnQztFQUNoQywrQkFBK0I7O0VBRS9COztnRkFFOEU7O0VBRTlFLHVCQUF1QixFQUFFLGdDQUFnQztFQUN6RCx1QkFBdUIsRUFBRSwyQkFBMkI7RUFDcEQsdUJBQXVCLEVBQUUsNkJBQTZCO0VBQ3RELHdCQUF3QixDQUFDLGlDQUFpQztDQUMzRDs7QUFFRDtFQUNFLG1CQUFtQjtNQUNmLGVBQWU7RUFDbkIsa0JBQWtCO0NBQ25COztBQUVEO0lBQ0ksbUJBQW1CO0dBQ3BCXCIsXCJmaWxlXCI6XCJCbG9ja2x5LnNjc3NcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLyoqXFxuICogUmVhY3QgU3RhcnRlciBLaXQgKGh0dHBzOi8vd3d3LnJlYWN0c3RhcnRlcmtpdC5jb20vKVxcbiAqXFxuICogQ29weXJpZ2h0IMKpIDIwMTQtcHJlc2VudCBLcmlhc29mdCwgTExDLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxcbiAqXFxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXFxuICogTElDRU5TRS50eHQgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cXG4gKi9cXG5cXG46cm9vdCB7XFxuICAvKlxcbiAgICogVHlwb2dyYXBoeVxcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuXFxuICAtLWZvbnQtZmFtaWx5LWJhc2U6ICdTZWdvZSBVSScsICdIZWx2ZXRpY2FOZXVlLUxpZ2h0Jywgc2Fucy1zZXJpZjtcXG5cXG4gIC8qXFxuICAgKiBMYXlvdXRcXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcblxcbiAgLS1tYXgtY29udGVudC13aWR0aDogMTAwMHB4O1xcblxcbiAgLypcXG4gICAqIEFwcGxpY2F0aW9uIHNwZWNpZmljXFxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG5cXG4gIC0taGVkZ2Vob2ctZ3JlZW4tbGlnaHQ6ICMzOGI0NDk7XFxuICAtLWhlZGdlaG9nLWdyZWVuLWRhcms6ICMwMDdjM2M7XFxuXFxuICAvKlxcbiAgICogTWVkaWEgcXVlcmllcyBicmVha3BvaW50c1xcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuXFxuICAtLXNjcmVlbi14cy1taW46IDQ4MHB4OyAgLyogRXh0cmEgc21hbGwgc2NyZWVuIC8gcGhvbmUgKi9cXG4gIC0tc2NyZWVuLXNtLW1pbjogNzY4cHg7ICAvKiBTbWFsbCBzY3JlZW4gLyB0YWJsZXQgKi9cXG4gIC0tc2NyZWVuLW1kLW1pbjogOTkycHg7ICAvKiBNZWRpdW0gc2NyZWVuIC8gZGVza3RvcCAqL1xcbiAgLS1zY3JlZW4tbGctbWluOiAxMjAwcHg7IC8qIExhcmdlIHNjcmVlbiAvIHdpZGUgZGVza3RvcCAqL1xcbn1cXG5cXG4uYmxvY2tseUNvbnRhaW5lciB7XFxuICAtbXMtZmxleDogMSAwIGF1dG87XFxuICAgICAgZmxleDogMSAwIGF1dG87XFxuICBwb3NpdGlvbjogcmVsYXRpdmVcXG59XFxuXFxuLmJsb2NrbHlDb250YWluZXIgLmJsb2NrbHkge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB9XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG5cbi8vIGV4cG9ydHNcbmV4cG9ydHMubG9jYWxzID0ge1xuXHRcImJsb2NrbHlDb250YWluZXJcIjogXCJCbG9ja2x5LWJsb2NrbHlDb250YWluZXItMVgwNE9cIixcblx0XCJibG9ja2x5XCI6IFwiQmxvY2tseS1ibG9ja2x5LWNjcHRoXCJcbn07IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSh0cnVlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5Db25zb2xlLXJvb3QtMUQwQ3gge1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcXG4gIGZvbnQtc2l6ZTogMTlweDtcXG4gIG1pbi13aWR0aDogMzAwcHg7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtbXMtZmxleC1mbG93OiBjb2x1bW4gbm93cmFwO1xcbiAgICAgIGZsZXgtZmxvdzogY29sdW1uIG5vd3JhcDtcXG59XFxuXFxuLkNvbnNvbGUtb3V0cHV0UGFuZS0zNE0wdCB7XFxuICAtbXMtZmxleDogMSAxIGF1dG87XFxuICAgICAgZmxleDogMSAxIGF1dG87XFxuICBvdmVyZmxvdy15OiBzY3JvbGw7XFxufVxcblxcbi5Db25zb2xlLW91dHB1dC0xOWhZbSB7XFxuICBtYXJnaW46IDA7XFxuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XFxuICB3b3JkLXdyYXA6IGJyZWFrLXdvcmRcXG59XFxuXFxuLkNvbnNvbGUtb3V0cHV0LTE5aFltLkNvbnNvbGUtc3RkaW4tUDBWOGoge1xcbiAgICBjb2xvcjogZ3JlZW47XFxuICB9XFxuXFxuLkNvbnNvbGUtb3V0cHV0LTE5aFltLkNvbnNvbGUtc3Rkb3V0LUxMVHZXIHtcXG4gICAgY29sb3I6IGJsYWNrO1xcbiAgfVxcblxcbi5Db25zb2xlLW91dHB1dC0xOWhZbS5Db25zb2xlLXN0ZGVyci0yM21icSB7XFxuICAgIGNvbG9yOiByZWQ7XFxuICB9XFxuXFxuLkNvbnNvbGUtaW5wdXRGb3JtLTJaQ3QwIHtcXG4gIC1tcy1mbGV4OiAwIDAgYXV0bztcXG4gICAgICBmbGV4OiAwIDAgYXV0bztcXG4gIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIC1tcy1mbGV4LWZsb3c6IHJvdyBub3dyYXA7XFxuICAgICAgZmxleC1mbG93OiByb3cgbm93cmFwXFxufVxcblxcbi5Db25zb2xlLWlucHV0Rm9ybS0yWkN0MCBpbnB1dCB7XFxuICAgIC1tcy1mbGV4OiAxIDAgYXV0bztcXG4gICAgICAgIGZsZXg6IDEgMCBhdXRvO1xcbiAgICBmb250LWZhbWlseTogaW5oZXJpdDtcXG4gICAgZm9udC1zaXplOiBpbmhlcml0O1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICB9XFxuXCIsIFwiXCIsIHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL0NvbnNvbGUvQ29uc29sZS5zY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0UsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixnQkFBZ0I7RUFDaEIsaUJBQWlCO0VBQ2pCLHFCQUFxQjtFQUNyQixjQUFjO0VBQ2QsNkJBQTZCO01BQ3pCLHlCQUF5QjtDQUM5Qjs7QUFFRDtFQUNFLG1CQUFtQjtNQUNmLGVBQWU7RUFDbkIsbUJBQW1CO0NBQ3BCOztBQUVEO0VBQ0UsVUFBVTtFQUNWLHNCQUFzQjtFQUN0QixxQkFBcUI7Q0FDdEI7O0FBRUQ7SUFDSSxhQUFhO0dBQ2Q7O0FBRUg7SUFDSSxhQUFhO0dBQ2Q7O0FBRUg7SUFDSSxXQUFXO0dBQ1o7O0FBRUg7RUFDRSxtQkFBbUI7TUFDZixlQUFlO0VBQ25CLHFCQUFxQjtFQUNyQixjQUFjO0VBQ2QsMEJBQTBCO01BQ3RCLHFCQUFxQjtDQUMxQjs7QUFFRDtJQUNJLG1CQUFtQjtRQUNmLGVBQWU7SUFDbkIscUJBQXFCO0lBQ3JCLG1CQUFtQjtJQUNuQixhQUFhO0dBQ2RcIixcImZpbGVcIjpcIkNvbnNvbGUuc2Nzc1wiLFwic291cmNlc0NvbnRlbnRcIjpbXCIucm9vdCB7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBmb250LWZhbWlseTogbW9ub3NwYWNlO1xcbiAgZm9udC1zaXplOiAxOXB4O1xcbiAgbWluLXdpZHRoOiAzMDBweDtcXG4gIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIC1tcy1mbGV4LWZsb3c6IGNvbHVtbiBub3dyYXA7XFxuICAgICAgZmxleC1mbG93OiBjb2x1bW4gbm93cmFwO1xcbn1cXG5cXG4ub3V0cHV0UGFuZSB7XFxuICAtbXMtZmxleDogMSAxIGF1dG87XFxuICAgICAgZmxleDogMSAxIGF1dG87XFxuICBvdmVyZmxvdy15OiBzY3JvbGw7XFxufVxcblxcbi5vdXRwdXQge1xcbiAgbWFyZ2luOiAwO1xcbiAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xcbiAgd29yZC13cmFwOiBicmVhay13b3JkXFxufVxcblxcbi5vdXRwdXQuc3RkaW4ge1xcbiAgICBjb2xvcjogZ3JlZW47XFxuICB9XFxuXFxuLm91dHB1dC5zdGRvdXQge1xcbiAgICBjb2xvcjogYmxhY2s7XFxuICB9XFxuXFxuLm91dHB1dC5zdGRlcnIge1xcbiAgICBjb2xvcjogcmVkO1xcbiAgfVxcblxcbi5pbnB1dEZvcm0ge1xcbiAgLW1zLWZsZXg6IDAgMCBhdXRvO1xcbiAgICAgIGZsZXg6IDAgMCBhdXRvO1xcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgLW1zLWZsZXgtZmxvdzogcm93IG5vd3JhcDtcXG4gICAgICBmbGV4LWZsb3c6IHJvdyBub3dyYXBcXG59XFxuXFxuLmlucHV0Rm9ybSBpbnB1dCB7XFxuICAgIC1tcy1mbGV4OiAxIDAgYXV0bztcXG4gICAgICAgIGZsZXg6IDEgMCBhdXRvO1xcbiAgICBmb250LWZhbWlseTogaW5oZXJpdDtcXG4gICAgZm9udC1zaXplOiBpbmhlcml0O1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICB9XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG5cbi8vIGV4cG9ydHNcbmV4cG9ydHMubG9jYWxzID0ge1xuXHRcInJvb3RcIjogXCJDb25zb2xlLXJvb3QtMUQwQ3hcIixcblx0XCJvdXRwdXRQYW5lXCI6IFwiQ29uc29sZS1vdXRwdXRQYW5lLTM0TTB0XCIsXG5cdFwib3V0cHV0XCI6IFwiQ29uc29sZS1vdXRwdXQtMTloWW1cIixcblx0XCJzdGRpblwiOiBcIkNvbnNvbGUtc3RkaW4tUDBWOGpcIixcblx0XCJzdGRvdXRcIjogXCJDb25zb2xlLXN0ZG91dC1MTFR2V1wiLFxuXHRcInN0ZGVyclwiOiBcIkNvbnNvbGUtc3RkZXJyLTIzbWJxXCIsXG5cdFwiaW5wdXRGb3JtXCI6IFwiQ29uc29sZS1pbnB1dEZvcm0tMlpDdDBcIlxufTsiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKHRydWUpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLyoqXFxuICogUmVhY3QgU3RhcnRlciBLaXQgKGh0dHBzOi8vd3d3LnJlYWN0c3RhcnRlcmtpdC5jb20vKVxcbiAqXFxuICogQ29weXJpZ2h0IMKpIDIwMTQtcHJlc2VudCBLcmlhc29mdCwgTExDLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxcbiAqXFxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXFxuICogTElDRU5TRS50eHQgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cXG4gKi9cXG5cXG46cm9vdCB7XFxuICAvKlxcbiAgICogVHlwb2dyYXBoeVxcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuXFxuICAtLWZvbnQtZmFtaWx5LWJhc2U6ICdTZWdvZSBVSScsICdIZWx2ZXRpY2FOZXVlLUxpZ2h0Jywgc2Fucy1zZXJpZjtcXG5cXG4gIC8qXFxuICAgKiBMYXlvdXRcXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcblxcbiAgLS1tYXgtY29udGVudC13aWR0aDogMTAwMHB4O1xcblxcbiAgLypcXG4gICAqIEFwcGxpY2F0aW9uIHNwZWNpZmljXFxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG5cXG4gIC0taGVkZ2Vob2ctZ3JlZW4tbGlnaHQ6ICMzOGI0NDk7XFxuICAtLWhlZGdlaG9nLWdyZWVuLWRhcms6ICMwMDdjM2M7XFxuXFxuICAvKlxcbiAgICogTWVkaWEgcXVlcmllcyBicmVha3BvaW50c1xcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuXFxuICAtLXNjcmVlbi14cy1taW46IDQ4MHB4OyAgLyogRXh0cmEgc21hbGwgc2NyZWVuIC8gcGhvbmUgKi9cXG4gIC0tc2NyZWVuLXNtLW1pbjogNzY4cHg7ICAvKiBTbWFsbCBzY3JlZW4gLyB0YWJsZXQgKi9cXG4gIC0tc2NyZWVuLW1kLW1pbjogOTkycHg7ICAvKiBNZWRpdW0gc2NyZWVuIC8gZGVza3RvcCAqL1xcbiAgLS1zY3JlZW4tbGctbWluOiAxMjAwcHg7IC8qIExhcmdlIHNjcmVlbiAvIHdpZGUgZGVza3RvcCAqL1xcbn1cXG5cXG4uRWRpdG9yLWNvbnRhaW5lci0zWUNxbiB7XFxuICAtbXMtZmxleDogMSAwIGF1dG87XFxuICAgICAgZmxleDogMSAwIGF1dG87XFxufVxcblxcbi5FZGl0b3Itcm9vdC1fODdDcCB7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtbXMtZmxleC1mbG93OiByb3cgbm93cmFwO1xcbiAgICAgIGZsZXgtZmxvdzogcm93IG5vd3JhcDtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuXCIsIFwiXCIsIHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL0VkaXRvci9FZGl0b3Iuc2Nzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTs7Ozs7OztHQU9HOztBQUVIO0VBQ0U7O2dGQUU4RTs7RUFFOUUsa0VBQWtFOztFQUVsRTs7Z0ZBRThFOztFQUU5RSw0QkFBNEI7O0VBRTVCOztnRkFFOEU7O0VBRTlFLGdDQUFnQztFQUNoQywrQkFBK0I7O0VBRS9COztnRkFFOEU7O0VBRTlFLHVCQUF1QixFQUFFLGdDQUFnQztFQUN6RCx1QkFBdUIsRUFBRSwyQkFBMkI7RUFDcEQsdUJBQXVCLEVBQUUsNkJBQTZCO0VBQ3RELHdCQUF3QixDQUFDLGlDQUFpQztDQUMzRDs7QUFFRDtFQUNFLG1CQUFtQjtNQUNmLGVBQWU7Q0FDcEI7O0FBRUQ7RUFDRSxxQkFBcUI7RUFDckIsY0FBYztFQUNkLDBCQUEwQjtNQUN0QixzQkFBc0I7RUFDMUIsYUFBYTtDQUNkXCIsXCJmaWxlXCI6XCJFZGl0b3Iuc2Nzc1wiLFwic291cmNlc0NvbnRlbnRcIjpbXCIvKipcXG4gKiBSZWFjdCBTdGFydGVyIEtpdCAoaHR0cHM6Ly93d3cucmVhY3RzdGFydGVya2l0LmNvbS8pXFxuICpcXG4gKiBDb3B5cmlnaHQgwqkgMjAxNC1wcmVzZW50IEtyaWFzb2Z0LCBMTEMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXFxuICpcXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcXG4gKiBMSUNFTlNFLnR4dCBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxcbiAqL1xcblxcbjpyb290IHtcXG4gIC8qXFxuICAgKiBUeXBvZ3JhcGh5XFxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG5cXG4gIC0tZm9udC1mYW1pbHktYmFzZTogJ1NlZ29lIFVJJywgJ0hlbHZldGljYU5ldWUtTGlnaHQnLCBzYW5zLXNlcmlmO1xcblxcbiAgLypcXG4gICAqIExheW91dFxcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuXFxuICAtLW1heC1jb250ZW50LXdpZHRoOiAxMDAwcHg7XFxuXFxuICAvKlxcbiAgICogQXBwbGljYXRpb24gc3BlY2lmaWNcXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcblxcbiAgLS1oZWRnZWhvZy1ncmVlbi1saWdodDogIzM4YjQ0OTtcXG4gIC0taGVkZ2Vob2ctZ3JlZW4tZGFyazogIzAwN2MzYztcXG5cXG4gIC8qXFxuICAgKiBNZWRpYSBxdWVyaWVzIGJyZWFrcG9pbnRzXFxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG5cXG4gIC0tc2NyZWVuLXhzLW1pbjogNDgwcHg7ICAvKiBFeHRyYSBzbWFsbCBzY3JlZW4gLyBwaG9uZSAqL1xcbiAgLS1zY3JlZW4tc20tbWluOiA3NjhweDsgIC8qIFNtYWxsIHNjcmVlbiAvIHRhYmxldCAqL1xcbiAgLS1zY3JlZW4tbWQtbWluOiA5OTJweDsgIC8qIE1lZGl1bSBzY3JlZW4gLyBkZXNrdG9wICovXFxuICAtLXNjcmVlbi1sZy1taW46IDEyMDBweDsgLyogTGFyZ2Ugc2NyZWVuIC8gd2lkZSBkZXNrdG9wICovXFxufVxcblxcbi5jb250YWluZXIge1xcbiAgLW1zLWZsZXg6IDEgMCBhdXRvO1xcbiAgICAgIGZsZXg6IDEgMCBhdXRvO1xcbn1cXG5cXG4ucm9vdCB7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtbXMtZmxleC1mbG93OiByb3cgbm93cmFwO1xcbiAgICAgIGZsZXgtZmxvdzogcm93IG5vd3JhcDtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG5cbi8vIGV4cG9ydHNcbmV4cG9ydHMubG9jYWxzID0ge1xuXHRcImNvbnRhaW5lclwiOiBcIkVkaXRvci1jb250YWluZXItM1lDcW5cIixcblx0XCJyb290XCI6IFwiRWRpdG9yLXJvb3QtXzg3Q3BcIlxufTsiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKHRydWUpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLyoqXFxuICogUmVhY3QgU3RhcnRlciBLaXQgKGh0dHBzOi8vd3d3LnJlYWN0c3RhcnRlcmtpdC5jb20vKVxcbiAqXFxuICogQ29weXJpZ2h0IMKpIDIwMTQtcHJlc2VudCBLcmlhc29mdCwgTExDLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxcbiAqXFxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXFxuICogTElDRU5TRS50eHQgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cXG4gKi9cXG5cXG46cm9vdCB7XFxuICAvKlxcbiAgICogVHlwb2dyYXBoeVxcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuXFxuICAtLWZvbnQtZmFtaWx5LWJhc2U6ICdTZWdvZSBVSScsICdIZWx2ZXRpY2FOZXVlLUxpZ2h0Jywgc2Fucy1zZXJpZjtcXG5cXG4gIC8qXFxuICAgKiBMYXlvdXRcXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcblxcbiAgLS1tYXgtY29udGVudC13aWR0aDogMTAwMHB4O1xcblxcbiAgLypcXG4gICAqIEFwcGxpY2F0aW9uIHNwZWNpZmljXFxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG5cXG4gIC0taGVkZ2Vob2ctZ3JlZW4tbGlnaHQ6ICMzOGI0NDk7XFxuICAtLWhlZGdlaG9nLWdyZWVuLWRhcms6ICMwMDdjM2M7XFxuXFxuICAvKlxcbiAgICogTWVkaWEgcXVlcmllcyBicmVha3BvaW50c1xcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuXFxuICAtLXNjcmVlbi14cy1taW46IDQ4MHB4OyAgLyogRXh0cmEgc21hbGwgc2NyZWVuIC8gcGhvbmUgKi9cXG4gIC0tc2NyZWVuLXNtLW1pbjogNzY4cHg7ICAvKiBTbWFsbCBzY3JlZW4gLyB0YWJsZXQgKi9cXG4gIC0tc2NyZWVuLW1kLW1pbjogOTkycHg7ICAvKiBNZWRpdW0gc2NyZWVuIC8gZGVza3RvcCAqL1xcbiAgLS1zY3JlZW4tbGctbWluOiAxMjAwcHg7IC8qIExhcmdlIHNjcmVlbiAvIHdpZGUgZGVza3RvcCAqL1xcbn1cXG5cXG4uRmlsZVRyZWUtZmlsZUljb24tMWktclEge1xcbiAgZm9udC1zaXplOiAxOS4ycHg7XFxuICBmb250LXNpemU6IDEuMnJlbTtcXG4gIG1hcmdpbjogMCAxLjZweCAtNHB4IDA7XFxuICBtYXJnaW46IDAgMC4xcmVtIC0wLjI1cmVtIDA7XFxufVxcblwiLCBcIlwiLCB7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCIvaG9tZS9zYXJhaC9Eb2N1bWVudHMvQXJiZWl0L2dpdGh1Yi9uZXRSb2IvTmV0cm9iL3NyYy9jb21wb25lbnRzL2lkZS9GaWxlVHJlZS9GaWxlVHJlZS5zY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBOzs7Ozs7O0dBT0c7O0FBRUg7RUFDRTs7Z0ZBRThFOztFQUU5RSxrRUFBa0U7O0VBRWxFOztnRkFFOEU7O0VBRTlFLDRCQUE0Qjs7RUFFNUI7O2dGQUU4RTs7RUFFOUUsZ0NBQWdDO0VBQ2hDLCtCQUErQjs7RUFFL0I7O2dGQUU4RTs7RUFFOUUsdUJBQXVCLEVBQUUsZ0NBQWdDO0VBQ3pELHVCQUF1QixFQUFFLDJCQUEyQjtFQUNwRCx1QkFBdUIsRUFBRSw2QkFBNkI7RUFDdEQsd0JBQXdCLENBQUMsaUNBQWlDO0NBQzNEOztBQUVEO0VBQ0Usa0JBQWtCO0VBQ2xCLGtCQUFrQjtFQUNsQix1QkFBdUI7RUFDdkIsNEJBQTRCO0NBQzdCXCIsXCJmaWxlXCI6XCJGaWxlVHJlZS5zY3NzXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi8qKlxcbiAqIFJlYWN0IFN0YXJ0ZXIgS2l0IChodHRwczovL3d3dy5yZWFjdHN0YXJ0ZXJraXQuY29tLylcXG4gKlxcbiAqIENvcHlyaWdodCDCqSAyMDE0LXByZXNlbnQgS3JpYXNvZnQsIExMQy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cXG4gKlxcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxcbiAqIExJQ0VOU0UudHh0IGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXFxuICovXFxuXFxuOnJvb3Qge1xcbiAgLypcXG4gICAqIFR5cG9ncmFwaHlcXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcblxcbiAgLS1mb250LWZhbWlseS1iYXNlOiAnU2Vnb2UgVUknLCAnSGVsdmV0aWNhTmV1ZS1MaWdodCcsIHNhbnMtc2VyaWY7XFxuXFxuICAvKlxcbiAgICogTGF5b3V0XFxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG5cXG4gIC0tbWF4LWNvbnRlbnQtd2lkdGg6IDEwMDBweDtcXG5cXG4gIC8qXFxuICAgKiBBcHBsaWNhdGlvbiBzcGVjaWZpY1xcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuXFxuICAtLWhlZGdlaG9nLWdyZWVuLWxpZ2h0OiAjMzhiNDQ5O1xcbiAgLS1oZWRnZWhvZy1ncmVlbi1kYXJrOiAjMDA3YzNjO1xcblxcbiAgLypcXG4gICAqIE1lZGlhIHF1ZXJpZXMgYnJlYWtwb2ludHNcXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcblxcbiAgLS1zY3JlZW4teHMtbWluOiA0ODBweDsgIC8qIEV4dHJhIHNtYWxsIHNjcmVlbiAvIHBob25lICovXFxuICAtLXNjcmVlbi1zbS1taW46IDc2OHB4OyAgLyogU21hbGwgc2NyZWVuIC8gdGFibGV0ICovXFxuICAtLXNjcmVlbi1tZC1taW46IDk5MnB4OyAgLyogTWVkaXVtIHNjcmVlbiAvIGRlc2t0b3AgKi9cXG4gIC0tc2NyZWVuLWxnLW1pbjogMTIwMHB4OyAvKiBMYXJnZSBzY3JlZW4gLyB3aWRlIGRlc2t0b3AgKi9cXG59XFxuXFxuLmZpbGVJY29uIHtcXG4gIGZvbnQtc2l6ZTogMTkuMnB4O1xcbiAgZm9udC1zaXplOiAxLjJyZW07XFxuICBtYXJnaW46IDAgMS42cHggLTRweCAwO1xcbiAgbWFyZ2luOiAwIDAuMXJlbSAtMC4yNXJlbSAwO1xcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcblxuLy8gZXhwb3J0c1xuZXhwb3J0cy5sb2NhbHMgPSB7XG5cdFwiZmlsZUljb25cIjogXCJGaWxlVHJlZS1maWxlSWNvbi0xaS1yUVwiXG59OyIsInZhciBlc2NhcGUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL3VybC9lc2NhcGUuanNcIik7XG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKHRydWUpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X19sYXlvdXQtR1V1MnIge1xcbiAgbGVmdDogMDtcXG4gIHRvcDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgYm90dG9tOiAwO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG5cXG4gIC8qIC0tZmxleGxheW91dF90ZXN0OiB7dG9wOjEyfTsgKi9cXG59XFxuXFxuLmZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X19zcGxpdHRlci0zUWtBVCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkO1xcbn1cXG5cXG4uZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3NwbGl0dGVyLTNRa0FUOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNjY2M7XFxufVxcblxcbi5mbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fc3BsaXR0ZXJfZHJhZy0ySE12WiB7XFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYmJiO1xcbiAgei1pbmRleDogMTAwMDtcXG59XFxuXFxuLmZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X19vdXRsaW5lX3JlY3QtMnIwRDAge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgY3Vyc29yOiBtb3ZlO1xcbiAgYm9yZGVyOiAycHggc29saWQgcmVkO1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDAgNjBweCByZ2JhKDAsIDAsIDAsIDAuMik7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCA2MHB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcXG4gIHotaW5kZXg6IDEwMDA7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcblxcbi5mbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fb3V0bGluZV9yZWN0X2VkZ2UtM3dmVkQge1xcbiAgY3Vyc29yOiBtb3ZlO1xcbiAgYm9yZGVyOiAycHggc29saWQgZ3JlZW47XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDAgMCA2MHB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcXG4gICAgICAgICAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDYwcHggcmdiYSgwLCAwLCAwLCAwLjIpO1xcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xcbiAgei1pbmRleDogMTAwMDtcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuXFxuLmZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X19lZGdlX3JlY3QtMk1HSFAge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogMTAwMDtcXG5cXG4gIC8qIGJvcmRlcjogMnB4IHNvbGlkIGdyYXk7ICovXFxuICAtd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDAgMCA1cHggcmdiYSgwLCAwLCAwLCAwLjIpO1xcbiAgICAgICAgICBib3gtc2hhZG93OiBpbnNldCAwIDAgNXB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcXG4gIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JheTtcXG5cXG4gIC8qIGJveC1zaXppbmc6Ym9yZGVyLWJveDsgKi9cXG59XFxuXFxuLmZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X19kcmFnX3JlY3QtMnpMWkYge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgY3Vyc29yOiBtb3ZlO1xcbiAgYm9yZGVyOiAycHggc29saWQgI2FhYTtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAwIDYwcHggcmdiYSgwLCAwLCAwLCAwLjMpO1xcbiAgICAgICAgICBib3gtc2hhZG93OiBpbnNldCAwIDAgNjBweCByZ2JhKDAsIDAsIDAsIDAuMyk7XFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxuICB6LWluZGV4OiAxMDAwO1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcXG4gIG9wYWNpdHk6IDAuOTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIC1tcy1mbGV4LXBhY2s6IGNlbnRlcjtcXG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIC1tcy1mbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgcGFkZGluZzogMTBweDtcXG4gIHdvcmQtd3JhcDogYnJlYWstd29yZDtcXG59XFxuXFxuLmZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X190YWJzZXQtMy1faXMge1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcblxcbiAgLyogYm9yZGVyLXJhZGl1czogNXB4OyAqL1xcblxcbiAgLyogYm94LXNoYWRvdzogMnB4IDJweCA0cHggI2FhYTsgKi9cXG59XFxuXFxuLmZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X190YWItZ1hOcVQge1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbn1cXG5cXG4uZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3RhYl9idXR0b24tb1IyZkwge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgcGFkZGluZzogMnB4IDhweCAzcHggOHB4O1xcbiAgbWFyZ2luOiAycHg7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDAgMCA1cHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcXG4gICAgICAgICAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDVweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xcbiAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogM3B4O1xcbiAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDNweDtcXG4gIGZsb2F0OiBsZWZ0O1xcbiAgdmVydGljYWwtYWxpZ246IHRvcDtcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuXFxuLmZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X190YWJfYnV0dG9uLS1zZWxlY3RlZC0zbDBIbCB7XFxuICBjb2xvcjogYmxhY2s7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkO1xcbn1cXG5cXG4uZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3RhYl9idXR0b24tLXVuc2VsZWN0ZWQtaVdNd1kge1xcbiAgY29sb3I6IGdyYXk7XFxufVxcblxcbi5mbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fdGFiX2J1dHRvbl9sZWFkaW5nLTJaLWI4IHtcXG4gIGZsb2F0OiBsZWZ0O1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbn1cXG5cXG4uZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3RhYl9idXR0b25fY29udGVudC0zVkhvRyB7XFxuICBmbG9hdDogbGVmdDtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG59XFxuXFxuLmZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X190YWJfYnV0dG9uX3RleHRib3gteDZWNEoge1xcbiAgZmxvYXQ6IGxlZnQ7XFxuICBib3JkZXI6IG5vbmU7XFxuICBjb2xvcjogZ3JlZW47XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkO1xcbn1cXG5cXG4uZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3RhYl9idXR0b25fdGV4dGJveC14NlY0Sjpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG5cXG4uZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3RhYl9idXR0b25fdHJhaWxpbmctM0UzN3Yge1xcbiAgZmxvYXQ6IGxlZnQ7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBtYXJnaW4tbGVmdDogNXB4O1xcbiAgbWFyZ2luLXRvcDogM3B4O1xcbiAgd2lkdGg6IDhweDtcXG4gIGhlaWdodDogOHB4O1xcbn1cXG5cXG4uZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3RhYl9idXR0b24tLXNlbGVjdGVkLTNsMEhsIC5mbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fdGFiX2J1dHRvbl90cmFpbGluZy0zRTM3dixcXG4uZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3RhYl9idXR0b24tb1IyZkw6aG92ZXIgLmZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X190YWJfYnV0dG9uX3RyYWlsaW5nLTNFMzd2IHtcXG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50IHVybChcIiArIGVzY2FwZShyZXF1aXJlKFwiZmxleGxheW91dC1yZWFjdC9pbWFnZXMvY2xvc2UucG5nXCIpKSArIFwiKSBuby1yZXBlYXQgY2VudGVyO1xcbn1cXG5cXG4uZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3RhYl9idXR0b25fb3ZlcmZsb3ctMjIwcEYge1xcbiAgZmxvYXQ6IGxlZnQ7XFxuICB3aWR0aDogMjBweDtcXG4gIGhlaWdodDogMTVweDtcXG4gIG1hcmdpbi10b3A6IDJweDtcXG4gIHBhZGRpbmctbGVmdDogMTJweDtcXG4gIGJvcmRlcjogbm9uZTtcXG4gIGZvbnQtc2l6ZTogMTBweDtcXG4gIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcXG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50IHVybChcIiArIGVzY2FwZShyZXF1aXJlKFwiZmxleGxheW91dC1yZWFjdC9pbWFnZXMvbW9yZS5wbmdcIikpICsgXCIpIG5vLXJlcGVhdCBsZWZ0O1xcbn1cXG5cXG4uZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3RhYnNldF9oZWFkZXItMlRmYnMge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U4ZThlODtcXG4gIHBhZGRpbmc6IDNweCAzcHggM3B4IDVweDtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAwIDNweCAwIHJnYmEoMTM2LCAxMzYsIDEzNiwgMC41NCk7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCAzcHggMCByZ2JhKDEzNiwgMTM2LCAxMzYsIDAuNTQpO1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG5cXG4uZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3RhYl9oZWFkZXJfb3V0ZXItM0syQTIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBsZWZ0OiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjZmZmKSwgdG8oI2VlZSkpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KCNmZmYsICNlZWUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KCNmZmYsICNlZWUpO1xcbn1cXG5cXG4uZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3RhYl9oZWFkZXJfaW5uZXItM0ZwQW0ge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMDtcXG4gIHRvcDogMDtcXG4gIGJvdHRvbTogMDtcXG4gIHdpZHRoOiAxMDAwMHB4O1xcbn1cXG5cXG4uZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3RhYnNldC1zZWxlY3RlZC1SNk9pNCB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCNmZmYpLCB0bygjY2NjKSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQoI2ZmZiwgI2NjYyk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoI2ZmZiwgI2NjYyk7XFxufVxcblxcbi5mbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fdGFic2V0LW1heGltaXplZC0xT3FZXyB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCNhYWEpLCB0bygjZWVlKSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQoI2FhYSwgI2VlZSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoI2FhYSwgI2VlZSk7XFxufVxcblxcbi5mbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fdGFiX3Rvb2xiYXItMjJzLUYge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgLW1zLWZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTtcXG4gICAgICBmbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7XFxuICAtbXMtZmxleC1hbGlnbjogY2VudGVyO1xcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICB0b3A6IDA7XFxuICBib3R0b206IDA7XFxuICByaWdodDogMDtcXG59XFxuXFxuLmZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X190YWJfdG9vbGJhcl9idXR0b24tbWluLTFUa1FBIHtcXG4gIHdpZHRoOiAyMHB4O1xcbiAgaGVpZ2h0OiAyMHB4O1xcbiAgYm9yZGVyOiBub25lO1xcbiAgb3V0bGluZS13aWR0aDogMDtcXG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50IHVybChcIiArIGVzY2FwZShyZXF1aXJlKFwiZmxleGxheW91dC1yZWFjdC9pbWFnZXMvbWF4aW1pemUucG5nXCIpKSArIFwiKSBuby1yZXBlYXQgY2VudGVyO1xcbn1cXG5cXG4uZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3RhYl90b29sYmFyX2J1dHRvbi1tYXgtM0lQSU8ge1xcbiAgd2lkdGg6IDIwcHg7XFxuICBoZWlnaHQ6IDIwcHg7XFxuICBib3JkZXI6IG5vbmU7XFxuICBvdXRsaW5lLXdpZHRoOiAwO1xcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgdXJsKFwiICsgZXNjYXBlKHJlcXVpcmUoXCJmbGV4bGF5b3V0LXJlYWN0L2ltYWdlcy9yZXN0b3JlLnBuZ1wiKSkgKyBcIikgbm8tcmVwZWF0IGNlbnRlcjtcXG59XFxuXFxuLyogc3R5bGVsaW50LWRpc2FibGUgYmxvY2stbm8tZW1wdHkgKi9cXG5cXG4uZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3BvcHVwX21lbnUtMm1TMVoge1xcbn1cXG5cXG4uZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3BvcHVwX21lbnVfaXRlbS0xYlg2YSB7XFxuICBwYWRkaW5nOiAycHggMTBweCAycHggMTBweDtcXG59XFxuXFxuLmZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X19wb3B1cF9tZW51X2l0ZW0tMWJYNmE6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmF5O1xcbn1cXG5cXG4uZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3BvcHVwX21lbnVfY29udGFpbmVyLWJZN1ZyIHtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAwIDVweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xcbiAgICAgICAgICBib3gtc2hhZG93OiBpbnNldCAwIDAgNXB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7XFxuICBib3JkZXI6IDFweCBzb2xpZCBsaWdodGdyZXk7XFxuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcXG4gIGJvcmRlci1yYWRpdXM6IDNweDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDEwMDA7XFxufVxcblxcbi5mbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fYm9yZGVyX3RvcC0zdllUcyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZGQ7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbn1cXG5cXG4uZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX2JvcmRlcl9ib3R0b20tM09aT3gge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZGRkO1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuXFxuLmZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X19ib3JkZXJfbGVmdC1RdVNzZiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xcbiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2RkZDtcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxufVxcblxcbi5mbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fYm9yZGVyX3JpZ2h0LTFzRloxIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZWU7XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNkZGQ7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbn1cXG5cXG4uZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX2JvcmRlcl9pbm5lcl9ib3R0b20tMlRCa08ge1xcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICBkaXNwbGF5OiBmbGV4O1xcbn1cXG5cXG4uZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX2JvcmRlcl9pbm5lcl9sZWZ0LXh3MktqIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICByaWdodDogMjNweDtcXG4gIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogdG9wIHJpZ2h0O1xcbiAgICAgIC1tcy10cmFuc2Zvcm0tb3JpZ2luOiB0b3AgcmlnaHQ7XFxuICAgICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IHRvcCByaWdodDtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoLTkwZGVnKTtcXG4gICAgICAtbXMtdHJhbnNmb3JtOiByb3RhdGUoLTkwZGVnKTtcXG4gICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoLTkwZGVnKTtcXG59XFxuXFxuLmZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X19ib3JkZXJfaW5uZXJfcmlnaHQteFF3ZzYge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gIGxlZnQ6IDIzcHg7XFxuICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IHRvcCBsZWZ0O1xcbiAgICAgIC1tcy10cmFuc2Zvcm0tb3JpZ2luOiB0b3AgbGVmdDtcXG4gICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogdG9wIGxlZnQ7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDkwZGVnKTtcXG4gICAgICAtbXMtdHJhbnNmb3JtOiByb3RhdGUoOTBkZWcpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZyk7XFxufVxcblxcbi5mbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fYm9yZGVyX2J1dHRvbi1KM1k2biB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBwYWRkaW5nOiAycHggOHB4IDNweCA4cHg7XFxuICBtYXJnaW46IDJweDtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAwIDVweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xcbiAgICAgICAgICBib3gtc2hhZG93OiBpbnNldCAwIDAgNXB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxuICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG59XFxuXFxuLmZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X19ib3JkZXJfYnV0dG9uLS1zZWxlY3RlZC0ybi1aciB7XFxuICBjb2xvcjogYmxhY2s7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkO1xcbn1cXG5cXG4uZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX2JvcmRlcl9idXR0b24tLXVuc2VsZWN0ZWQtMnlMUVUge1xcbiAgY29sb3I6IGdyYXk7XFxufVxcblxcbi5mbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fYm9yZGVyX2J1dHRvbl9sZWFkaW5nLTJNUTNjIHtcXG4gIGZsb2F0OiBsZWZ0O1xcbiAgZGlzcGxheTogaW5saW5lO1xcbn1cXG5cXG4uZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX2JvcmRlcl9idXR0b25fY29udGVudC0xTEtMbCB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxufVxcblxcbi5mbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fYm9yZGVyX2J1dHRvbl90ZXh0Ym94LTF4Q1BqIHtcXG4gIGZsb2F0OiBsZWZ0O1xcbiAgYm9yZGVyOiBub25lO1xcbiAgY29sb3I6IGdyZWVuO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2RkZDtcXG59XFxuXFxuLmZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X19ib3JkZXJfYnV0dG9uX3RleHRib3gtMXhDUGo6Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuXFxuLmZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X19ib3JkZXJfYnV0dG9uX3RyYWlsaW5nLUJqRW9GIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIG1hcmdpbi1sZWZ0OiA1cHg7XFxuICBtYXJnaW4tdG9wOiAzcHg7XFxuICB3aWR0aDogOHB4O1xcbiAgaGVpZ2h0OiA4cHg7XFxufVxcblxcbi5mbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fYm9yZGVyX2J1dHRvbi0tc2VsZWN0ZWQtMm4tWnIgLmZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X19ib3JkZXJfYnV0dG9uX3RyYWlsaW5nLUJqRW9GLFxcbi5mbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fYm9yZGVyX2J1dHRvbi1KM1k2bjpob3ZlciAuZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX2JvcmRlcl9idXR0b25fdHJhaWxpbmctQmpFb0Yge1xcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgdXJsKFwiICsgZXNjYXBlKHJlcXVpcmUoXCJmbGV4bGF5b3V0LXJlYWN0L2ltYWdlcy9jbG9zZS5wbmdcIikpICsgXCIpIG5vLXJlcGVhdCBjZW50ZXI7XFxufVxcblxcbi5mbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fYm9yZGVyX3Rvb2xiYXJfbGVmdC0zRnl1cCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtbXMtZmxleC1kaXJlY3Rpb246IGNvbHVtbi1yZXZlcnNlO1xcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW4tcmV2ZXJzZTtcXG4gIC1tcy1mbGV4LWFsaWduOiBjZW50ZXI7XFxuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGJvdHRvbTogMDtcXG4gIGxlZnQ6IDA7XFxuICByaWdodDogMDtcXG59XFxuXFxuLmZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X19ib3JkZXJfdG9vbGJhcl9yaWdodC0yY1h1OSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtbXMtZmxleC1kaXJlY3Rpb246IGNvbHVtbi1yZXZlcnNlO1xcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW4tcmV2ZXJzZTtcXG4gIC1tcy1mbGV4LWFsaWduOiBjZW50ZXI7XFxuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGJvdHRvbTogMDtcXG4gIGxlZnQ6IDA7XFxuICByaWdodDogMDtcXG59XFxuXFxuLmZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X19ib3JkZXJfdG9vbGJhcl90b3AtTWZ0Rmwge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgLW1zLWZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTtcXG4gICAgICBmbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7XFxuICAtbXMtZmxleC1hbGlnbjogY2VudGVyO1xcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICB0b3A6IDA7XFxuICBib3R0b206IDA7XFxuICByaWdodDogMDtcXG59XFxuXFxuLmZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X19ib3JkZXJfdG9vbGJhcl9ib3R0b20tMlJaYmIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgLW1zLWZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTtcXG4gICAgICBmbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7XFxuICAtbXMtZmxleC1hbGlnbjogY2VudGVyO1xcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICB0b3A6IDA7XFxuICBib3R0b206IDA7XFxuICByaWdodDogMDtcXG59XFxuXCIsIFwiXCIsIHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL0lkZS9mbGV4X2xheW91dF9pZGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0UsUUFBUTtFQUNSLE9BQU87RUFDUCxTQUFTO0VBQ1QsVUFBVTtFQUNWLG1CQUFtQjtFQUNuQixpQkFBaUI7O0VBRWpCLGtDQUFrQztDQUNuQzs7QUFFRDtFQUNFLHVCQUF1QjtDQUN4Qjs7QUFFRDtFQUNFLHVCQUF1QjtDQUN4Qjs7QUFFRDtFQUNFLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsY0FBYztDQUNmOztBQUVEO0VBQ0UsbUJBQW1CO0VBQ25CLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsc0RBQXNEO1VBQzlDLDhDQUE4QztFQUN0RCxtQkFBbUI7RUFDbkIsY0FBYztFQUNkLCtCQUErQjtVQUN2Qix1QkFBdUI7Q0FDaEM7O0FBRUQ7RUFDRSxhQUFhO0VBQ2Isd0JBQXdCO0VBQ3hCLHNEQUFzRDtVQUM5Qyw4Q0FBOEM7RUFDdEQsbUJBQW1CO0VBQ25CLGNBQWM7RUFDZCwrQkFBK0I7VUFDdkIsdUJBQXVCO0NBQ2hDOztBQUVEO0VBQ0UsbUJBQW1CO0VBQ25CLGNBQWM7O0VBRWQsNkJBQTZCO0VBQzdCLHFEQUFxRDtVQUM3Qyw2Q0FBNkM7RUFDckQsNEJBQTRCOztFQUU1Qiw0QkFBNEI7Q0FDN0I7O0FBRUQ7RUFDRSxtQkFBbUI7RUFDbkIsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixzREFBc0Q7VUFDOUMsOENBQThDO0VBQ3RELG1CQUFtQjtFQUNuQixjQUFjO0VBQ2QsK0JBQStCO1VBQ3ZCLHVCQUF1QjtFQUMvQix1QkFBdUI7RUFDdkIsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixxQkFBcUI7RUFDckIsY0FBYztFQUNkLHNCQUFzQjtNQUNsQix3QkFBd0I7RUFDNUIsMkJBQTJCO01BQ3ZCLHVCQUF1QjtFQUMzQixpQkFBaUI7RUFDakIsY0FBYztFQUNkLHNCQUFzQjtDQUN2Qjs7QUFFRDtFQUNFLGlCQUFpQjtFQUNqQix3QkFBd0I7RUFDeEIsK0JBQStCO1VBQ3ZCLHVCQUF1Qjs7RUFFL0IseUJBQXlCOztFQUV6QixtQ0FBbUM7Q0FDcEM7O0FBRUQ7RUFDRSxpQkFBaUI7RUFDakIsbUJBQW1CO0VBQ25CLCtCQUErQjtVQUN2Qix1QkFBdUI7RUFDL0Isd0JBQXdCO0NBQ3pCOztBQUVEO0VBQ0UsZ0JBQWdCO0VBQ2hCLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osc0RBQXNEO1VBQzlDLDhDQUE4QztFQUN0RCw0QkFBNEI7RUFDNUIsNkJBQTZCO0VBQzdCLFlBQVk7RUFDWixvQkFBb0I7RUFDcEIsK0JBQStCO1VBQ3ZCLHVCQUF1QjtDQUNoQzs7QUFFRDtFQUNFLGFBQWE7RUFDYix1QkFBdUI7Q0FDeEI7O0FBRUQ7RUFDRSxZQUFZO0NBQ2I7O0FBRUQ7RUFDRSxZQUFZO0VBQ1osc0JBQXNCO0NBQ3ZCOztBQUVEO0VBQ0UsWUFBWTtFQUNaLHNCQUFzQjtDQUN2Qjs7QUFFRDtFQUNFLFlBQVk7RUFDWixhQUFhO0VBQ2IsYUFBYTtFQUNiLHVCQUF1QjtDQUN4Qjs7QUFFRDtFQUNFLGNBQWM7Q0FDZjs7QUFFRDtFQUNFLFlBQVk7RUFDWixzQkFBc0I7RUFDdEIsaUJBQWlCO0VBQ2pCLGdCQUFnQjtFQUNoQixXQUFXO0VBQ1gsWUFBWTtDQUNiOztBQUVEOztFQUVFLHVFQUFrRjtDQUNuRjs7QUFFRDtFQUNFLFlBQVk7RUFDWixZQUFZO0VBQ1osYUFBYTtFQUNiLGdCQUFnQjtFQUNoQixtQkFBbUI7RUFDbkIsYUFBYTtFQUNiLGdCQUFnQjtFQUNoQiwrQkFBK0I7RUFDL0IscUVBQStFO0NBQ2hGOztBQUVEO0VBQ0UsbUJBQW1CO0VBQ25CLFFBQVE7RUFDUixTQUFTO0VBQ1QsMEJBQTBCO0VBQzFCLHlCQUF5QjtFQUN6Qiw4REFBOEQ7VUFDdEQsc0RBQXNEO0VBQzlELCtCQUErQjtVQUN2Qix1QkFBdUI7Q0FDaEM7O0FBRUQ7RUFDRSx3QkFBd0I7RUFDeEIsbUJBQW1CO0VBQ25CLFFBQVE7RUFDUixTQUFTO0VBQ1QsaUJBQWlCO0VBQ2pCLHdGQUF3RjtFQUN4RixpREFBaUQ7RUFDakQsOENBQThDO0NBQy9DOztBQUVEO0VBQ0UsbUJBQW1CO0VBQ25CLFFBQVE7RUFDUixPQUFPO0VBQ1AsVUFBVTtFQUNWLGVBQWU7Q0FDaEI7O0FBRUQ7RUFDRSx3RkFBd0Y7RUFDeEYsaURBQWlEO0VBQ2pELDhDQUE4QztDQUMvQzs7QUFFRDtFQUNFLHdGQUF3RjtFQUN4RixpREFBaUQ7RUFDakQsOENBQThDO0NBQy9DOztBQUVEO0VBQ0UsbUJBQW1CO0VBQ25CLHFCQUFxQjtFQUNyQixjQUFjO0VBQ2QsZ0NBQWdDO01BQzVCLDRCQUE0QjtFQUNoQyx1QkFBdUI7TUFDbkIsb0JBQW9CO0VBQ3hCLE9BQU87RUFDUCxVQUFVO0VBQ1YsU0FBUztDQUNWOztBQUVEO0VBQ0UsWUFBWTtFQUNaLGFBQWE7RUFDYixhQUFhO0VBQ2IsaUJBQWlCO0VBQ2pCLHVFQUFxRjtDQUN0Rjs7QUFFRDtFQUNFLFlBQVk7RUFDWixhQUFhO0VBQ2IsYUFBYTtFQUNiLGlCQUFpQjtFQUNqQix1RUFBb0Y7Q0FDckY7O0FBRUQsc0NBQXNDOztBQUV0QztDQUNDOztBQUVEO0VBQ0UsMkJBQTJCO0NBQzVCOztBQUVEO0VBQ0UsNEJBQTRCO0NBQzdCOztBQUVEO0VBQ0Usc0RBQXNEO1VBQzlDLDhDQUE4QztFQUN0RCw0QkFBNEI7RUFDNUIsa0JBQWtCO0VBQ2xCLG1CQUFtQjtFQUNuQixtQkFBbUI7RUFDbkIsY0FBYztDQUNmOztBQUVEO0VBQ0UsdUJBQXVCO0VBQ3ZCLDhCQUE4QjtFQUM5QiwrQkFBK0I7VUFDdkIsdUJBQXVCO0VBQy9CLGlCQUFpQjtDQUNsQjs7QUFFRDtFQUNFLHVCQUF1QjtFQUN2QiwyQkFBMkI7RUFDM0IsK0JBQStCO1VBQ3ZCLHVCQUF1QjtFQUMvQixpQkFBaUI7Q0FDbEI7O0FBRUQ7RUFDRSx1QkFBdUI7RUFDdkIsNkJBQTZCO0VBQzdCLCtCQUErQjtVQUN2Qix1QkFBdUI7RUFDL0IsaUJBQWlCO0NBQ2xCOztBQUVEO0VBQ0UsdUJBQXVCO0VBQ3ZCLDRCQUE0QjtFQUM1QiwrQkFBK0I7VUFDdkIsdUJBQXVCO0VBQy9CLGlCQUFpQjtDQUNsQjs7QUFFRDtFQUNFLHFCQUFxQjtFQUNyQixjQUFjO0NBQ2Y7O0FBRUQ7RUFDRSxtQkFBbUI7RUFDbkIsb0JBQW9CO0VBQ3BCLFlBQVk7RUFDWixvQ0FBb0M7TUFDaEMsZ0NBQWdDO1VBQzVCLDRCQUE0QjtFQUNwQyxrQ0FBa0M7TUFDOUIsOEJBQThCO1VBQzFCLDBCQUEwQjtDQUNuQzs7QUFFRDtFQUNFLG1CQUFtQjtFQUNuQixvQkFBb0I7RUFDcEIsV0FBVztFQUNYLG1DQUFtQztNQUMvQiwrQkFBK0I7VUFDM0IsMkJBQTJCO0VBQ25DLGlDQUFpQztNQUM3Qiw2QkFBNkI7VUFDekIseUJBQXlCO0NBQ2xDOztBQUVEO0VBQ0Usc0JBQXNCO0VBQ3RCLGdCQUFnQjtFQUNoQix5QkFBeUI7RUFDekIsWUFBWTtFQUNaLHNEQUFzRDtVQUM5Qyw4Q0FBOEM7RUFDdEQsbUJBQW1CO0VBQ25CLG9CQUFvQjtFQUNwQiwrQkFBK0I7VUFDdkIsdUJBQXVCO0VBQy9CLG9CQUFvQjtDQUNyQjs7QUFFRDtFQUNFLGFBQWE7RUFDYix1QkFBdUI7Q0FDeEI7O0FBRUQ7RUFDRSxZQUFZO0NBQ2I7O0FBRUQ7RUFDRSxZQUFZO0VBQ1osZ0JBQWdCO0NBQ2pCOztBQUVEO0VBQ0Usc0JBQXNCO0NBQ3ZCOztBQUVEO0VBQ0UsWUFBWTtFQUNaLGFBQWE7RUFDYixhQUFhO0VBQ2IsdUJBQXVCO0NBQ3hCOztBQUVEO0VBQ0UsY0FBYztDQUNmOztBQUVEO0VBQ0Usc0JBQXNCO0VBQ3RCLGlCQUFpQjtFQUNqQixnQkFBZ0I7RUFDaEIsV0FBVztFQUNYLFlBQVk7Q0FDYjs7QUFFRDs7RUFFRSx1RUFBa0Y7Q0FDbkY7O0FBRUQ7RUFDRSxtQkFBbUI7RUFDbkIscUJBQXFCO0VBQ3JCLGNBQWM7RUFDZCxtQ0FBbUM7TUFDL0IsK0JBQStCO0VBQ25DLHVCQUF1QjtNQUNuQixvQkFBb0I7RUFDeEIsVUFBVTtFQUNWLFFBQVE7RUFDUixTQUFTO0NBQ1Y7O0FBRUQ7RUFDRSxtQkFBbUI7RUFDbkIscUJBQXFCO0VBQ3JCLGNBQWM7RUFDZCxtQ0FBbUM7TUFDL0IsK0JBQStCO0VBQ25DLHVCQUF1QjtNQUNuQixvQkFBb0I7RUFDeEIsVUFBVTtFQUNWLFFBQVE7RUFDUixTQUFTO0NBQ1Y7O0FBRUQ7RUFDRSxtQkFBbUI7RUFDbkIscUJBQXFCO0VBQ3JCLGNBQWM7RUFDZCxnQ0FBZ0M7TUFDNUIsNEJBQTRCO0VBQ2hDLHVCQUF1QjtNQUNuQixvQkFBb0I7RUFDeEIsT0FBTztFQUNQLFVBQVU7RUFDVixTQUFTO0NBQ1Y7O0FBRUQ7RUFDRSxtQkFBbUI7RUFDbkIscUJBQXFCO0VBQ3JCLGNBQWM7RUFDZCxnQ0FBZ0M7TUFDNUIsNEJBQTRCO0VBQ2hDLHVCQUF1QjtNQUNuQixvQkFBb0I7RUFDeEIsT0FBTztFQUNQLFVBQVU7RUFDVixTQUFTO0NBQ1ZcIixcImZpbGVcIjpcImZsZXhfbGF5b3V0X2lkZS5jc3NcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLmZsZXhsYXlvdXRfX2xheW91dCB7XFxuICBsZWZ0OiAwO1xcbiAgdG9wOiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBib3R0b206IDA7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcblxcbiAgLyogLS1mbGV4bGF5b3V0X3Rlc3Q6IHt0b3A6MTJ9OyAqL1xcbn1cXG5cXG4uZmxleGxheW91dF9fc3BsaXR0ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2RkZDtcXG59XFxuXFxuLmZsZXhsYXlvdXRfX3NwbGl0dGVyOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNjY2M7XFxufVxcblxcbi5mbGV4bGF5b3V0X19zcGxpdHRlcl9kcmFnIHtcXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNiYmI7XFxuICB6LWluZGV4OiAxMDAwO1xcbn1cXG5cXG4uZmxleGxheW91dF9fb3V0bGluZV9yZWN0IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGN1cnNvcjogbW92ZTtcXG4gIGJvcmRlcjogMnB4IHNvbGlkIHJlZDtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAwIDYwcHggcmdiYSgwLCAwLCAwLCAwLjIpO1xcbiAgICAgICAgICBib3gtc2hhZG93OiBpbnNldCAwIDAgNjBweCByZ2JhKDAsIDAsIDAsIDAuMik7XFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxuICB6LWluZGV4OiAxMDAwO1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG5cXG4uZmxleGxheW91dF9fb3V0bGluZV9yZWN0X2VkZ2Uge1xcbiAgY3Vyc29yOiBtb3ZlO1xcbiAgYm9yZGVyOiAycHggc29saWQgZ3JlZW47XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDAgMCA2MHB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcXG4gICAgICAgICAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDYwcHggcmdiYSgwLCAwLCAwLCAwLjIpO1xcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xcbiAgei1pbmRleDogMTAwMDtcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuXFxuLmZsZXhsYXlvdXRfX2VkZ2VfcmVjdCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB6LWluZGV4OiAxMDAwO1xcblxcbiAgLyogYm9yZGVyOiAycHggc29saWQgZ3JheTsgKi9cXG4gIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAwIDVweCByZ2JhKDAsIDAsIDAsIDAuMik7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCA1cHggcmdiYSgwLCAwLCAwLCAwLjIpO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmF5O1xcblxcbiAgLyogYm94LXNpemluZzpib3JkZXItYm94OyAqL1xcbn1cXG5cXG4uZmxleGxheW91dF9fZHJhZ19yZWN0IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGN1cnNvcjogbW92ZTtcXG4gIGJvcmRlcjogMnB4IHNvbGlkICNhYWE7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDAgMCA2MHB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcXG4gICAgICAgICAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDYwcHggcmdiYSgwLCAwLCAwLCAwLjMpO1xcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xcbiAgei1pbmRleDogMTAwMDtcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZWU7XFxuICBvcGFjaXR5OiAwLjk7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtbXMtZmxleC1wYWNrOiBjZW50ZXI7XFxuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAtbXMtZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHBhZGRpbmc6IDEwcHg7XFxuICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XFxufVxcblxcbi5mbGV4bGF5b3V0X190YWJzZXQge1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcblxcbiAgLyogYm9yZGVyLXJhZGl1czogNXB4OyAqL1xcblxcbiAgLyogYm94LXNoYWRvdzogMnB4IDJweCA0cHggI2FhYTsgKi9cXG59XFxuXFxuLmZsZXhsYXlvdXRfX3RhYiB7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxufVxcblxcbi5mbGV4bGF5b3V0X190YWJfYnV0dG9uIHtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIHBhZGRpbmc6IDJweCA4cHggM3B4IDhweDtcXG4gIG1hcmdpbjogMnB4O1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDAgNXB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCA1cHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcXG4gIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDNweDtcXG4gIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAzcHg7XFxuICBmbG9hdDogbGVmdDtcXG4gIHZlcnRpY2FsLWFsaWduOiB0b3A7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcblxcbi5mbGV4bGF5b3V0X190YWJfYnV0dG9uLS1zZWxlY3RlZCB7XFxuICBjb2xvcjogYmxhY2s7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkO1xcbn1cXG5cXG4uZmxleGxheW91dF9fdGFiX2J1dHRvbi0tdW5zZWxlY3RlZCB7XFxuICBjb2xvcjogZ3JheTtcXG59XFxuXFxuLmZsZXhsYXlvdXRfX3RhYl9idXR0b25fbGVhZGluZyB7XFxuICBmbG9hdDogbGVmdDtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG59XFxuXFxuLmZsZXhsYXlvdXRfX3RhYl9idXR0b25fY29udGVudCB7XFxuICBmbG9hdDogbGVmdDtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG59XFxuXFxuLmZsZXhsYXlvdXRfX3RhYl9idXR0b25fdGV4dGJveCB7XFxuICBmbG9hdDogbGVmdDtcXG4gIGJvcmRlcjogbm9uZTtcXG4gIGNvbG9yOiBncmVlbjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNkZGQ7XFxufVxcblxcbi5mbGV4bGF5b3V0X190YWJfYnV0dG9uX3RleHRib3g6Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuXFxuLmZsZXhsYXlvdXRfX3RhYl9idXR0b25fdHJhaWxpbmcge1xcbiAgZmxvYXQ6IGxlZnQ7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBtYXJnaW4tbGVmdDogNXB4O1xcbiAgbWFyZ2luLXRvcDogM3B4O1xcbiAgd2lkdGg6IDhweDtcXG4gIGhlaWdodDogOHB4O1xcbn1cXG5cXG4uZmxleGxheW91dF9fdGFiX2J1dHRvbi0tc2VsZWN0ZWQgLmZsZXhsYXlvdXRfX3RhYl9idXR0b25fdHJhaWxpbmcsXFxuLmZsZXhsYXlvdXRfX3RhYl9idXR0b246aG92ZXIgLmZsZXhsYXlvdXRfX3RhYl9idXR0b25fdHJhaWxpbmcge1xcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgdXJsKCdmbGV4bGF5b3V0LXJlYWN0L2ltYWdlcy9jbG9zZS5wbmcnKSBuby1yZXBlYXQgY2VudGVyO1xcbn1cXG5cXG4uZmxleGxheW91dF9fdGFiX2J1dHRvbl9vdmVyZmxvdyB7XFxuICBmbG9hdDogbGVmdDtcXG4gIHdpZHRoOiAyMHB4O1xcbiAgaGVpZ2h0OiAxNXB4O1xcbiAgbWFyZ2luLXRvcDogMnB4O1xcbiAgcGFkZGluZy1sZWZ0OiAxMnB4O1xcbiAgYm9yZGVyOiBub25lO1xcbiAgZm9udC1zaXplOiAxMHB4O1xcbiAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgdXJsKCdmbGV4bGF5b3V0LXJlYWN0L2ltYWdlcy9tb3JlLnBuZycpIG5vLXJlcGVhdCBsZWZ0O1xcbn1cXG5cXG4uZmxleGxheW91dF9fdGFic2V0X2hlYWRlciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBsZWZ0OiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZThlOGU4O1xcbiAgcGFkZGluZzogM3B4IDNweCAzcHggNXB4O1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDAgM3B4IDAgcmdiYSgxMzYsIDEzNiwgMTM2LCAwLjU0KTtcXG4gICAgICAgICAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDNweCAwIHJnYmEoMTM2LCAxMzYsIDEzNiwgMC41NCk7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcblxcbi5mbGV4bGF5b3V0X190YWJfaGVhZGVyX291dGVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2ZmZiksIHRvKCNlZWUpKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1vLWxpbmVhci1ncmFkaWVudCgjZmZmLCAjZWVlKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgjZmZmLCAjZWVlKTtcXG59XFxuXFxuLmZsZXhsYXlvdXRfX3RhYl9oZWFkZXJfaW5uZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMDtcXG4gIHRvcDogMDtcXG4gIGJvdHRvbTogMDtcXG4gIHdpZHRoOiAxMDAwMHB4O1xcbn1cXG5cXG4uZmxleGxheW91dF9fdGFic2V0LXNlbGVjdGVkIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2ZmZiksIHRvKCNjY2MpKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1vLWxpbmVhci1ncmFkaWVudCgjZmZmLCAjY2NjKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgjZmZmLCAjY2NjKTtcXG59XFxuXFxuLmZsZXhsYXlvdXRfX3RhYnNldC1tYXhpbWl6ZWQge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjYWFhKSwgdG8oI2VlZSkpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KCNhYWEsICNlZWUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KCNhYWEsICNlZWUpO1xcbn1cXG5cXG4uZmxleGxheW91dF9fdGFiX3Rvb2xiYXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgLW1zLWZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTtcXG4gICAgICBmbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7XFxuICAtbXMtZmxleC1hbGlnbjogY2VudGVyO1xcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICB0b3A6IDA7XFxuICBib3R0b206IDA7XFxuICByaWdodDogMDtcXG59XFxuXFxuLmZsZXhsYXlvdXRfX3RhYl90b29sYmFyX2J1dHRvbi1taW4ge1xcbiAgd2lkdGg6IDIwcHg7XFxuICBoZWlnaHQ6IDIwcHg7XFxuICBib3JkZXI6IG5vbmU7XFxuICBvdXRsaW5lLXdpZHRoOiAwO1xcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgdXJsKCdmbGV4bGF5b3V0LXJlYWN0L2ltYWdlcy9tYXhpbWl6ZS5wbmcnKSBuby1yZXBlYXQgY2VudGVyO1xcbn1cXG5cXG4uZmxleGxheW91dF9fdGFiX3Rvb2xiYXJfYnV0dG9uLW1heCB7XFxuICB3aWR0aDogMjBweDtcXG4gIGhlaWdodDogMjBweDtcXG4gIGJvcmRlcjogbm9uZTtcXG4gIG91dGxpbmUtd2lkdGg6IDA7XFxuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCB1cmwoJ2ZsZXhsYXlvdXQtcmVhY3QvaW1hZ2VzL3Jlc3RvcmUucG5nJykgbm8tcmVwZWF0IGNlbnRlcjtcXG59XFxuXFxuLyogc3R5bGVsaW50LWRpc2FibGUgYmxvY2stbm8tZW1wdHkgKi9cXG5cXG4uZmxleGxheW91dF9fcG9wdXBfbWVudSB7XFxufVxcblxcbi5mbGV4bGF5b3V0X19wb3B1cF9tZW51X2l0ZW0ge1xcbiAgcGFkZGluZzogMnB4IDEwcHggMnB4IDEwcHg7XFxufVxcblxcbi5mbGV4bGF5b3V0X19wb3B1cF9tZW51X2l0ZW06aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmF5O1xcbn1cXG5cXG4uZmxleGxheW91dF9fcG9wdXBfbWVudV9jb250YWluZXIge1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDAgNXB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCA1cHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcXG4gIGJvcmRlcjogMXB4IHNvbGlkIGxpZ2h0Z3JleTtcXG4gIGJhY2tncm91bmQ6IHdoaXRlO1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogMTAwMDtcXG59XFxuXFxuLmZsZXhsYXlvdXRfX2JvcmRlcl90b3Age1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkO1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuXFxuLmZsZXhsYXlvdXRfX2JvcmRlcl9ib3R0b20ge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZGRkO1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuXFxuLmZsZXhsYXlvdXRfX2JvcmRlcl9sZWZ0IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZWU7XFxuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZGRkO1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuXFxuLmZsZXhsYXlvdXRfX2JvcmRlcl9yaWdodCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjZGRkO1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuXFxuLmZsZXhsYXlvdXRfX2JvcmRlcl9pbm5lcl9ib3R0b20ge1xcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICBkaXNwbGF5OiBmbGV4O1xcbn1cXG5cXG4uZmxleGxheW91dF9fYm9yZGVyX2lubmVyX2xlZnQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gIHJpZ2h0OiAyM3B4O1xcbiAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiB0b3AgcmlnaHQ7XFxuICAgICAgLW1zLXRyYW5zZm9ybS1vcmlnaW46IHRvcCByaWdodDtcXG4gICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogdG9wIHJpZ2h0O1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgtOTBkZWcpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHJvdGF0ZSgtOTBkZWcpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgtOTBkZWcpO1xcbn1cXG5cXG4uZmxleGxheW91dF9fYm9yZGVyX2lubmVyX3JpZ2h0IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICBsZWZ0OiAyM3B4O1xcbiAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiB0b3AgbGVmdDtcXG4gICAgICAtbXMtdHJhbnNmb3JtLW9yaWdpbjogdG9wIGxlZnQ7XFxuICAgICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IHRvcCBsZWZ0O1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZyk7XFxuICAgICAgLW1zLXRyYW5zZm9ybTogcm90YXRlKDkwZGVnKTtcXG4gICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoOTBkZWcpO1xcbn1cXG5cXG4uZmxleGxheW91dF9fYm9yZGVyX2J1dHRvbiB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBwYWRkaW5nOiAycHggOHB4IDNweCA4cHg7XFxuICBtYXJnaW46IDJweDtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAwIDVweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xcbiAgICAgICAgICBib3gtc2hhZG93OiBpbnNldCAwIDAgNXB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxuICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG59XFxuXFxuLmZsZXhsYXlvdXRfX2JvcmRlcl9idXR0b24tLXNlbGVjdGVkIHtcXG4gIGNvbG9yOiBibGFjaztcXG4gIGJhY2tncm91bmQtY29sb3I6ICNkZGQ7XFxufVxcblxcbi5mbGV4bGF5b3V0X19ib3JkZXJfYnV0dG9uLS11bnNlbGVjdGVkIHtcXG4gIGNvbG9yOiBncmF5O1xcbn1cXG5cXG4uZmxleGxheW91dF9fYm9yZGVyX2J1dHRvbl9sZWFkaW5nIHtcXG4gIGZsb2F0OiBsZWZ0O1xcbiAgZGlzcGxheTogaW5saW5lO1xcbn1cXG5cXG4uZmxleGxheW91dF9fYm9yZGVyX2J1dHRvbl9jb250ZW50IHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG59XFxuXFxuLmZsZXhsYXlvdXRfX2JvcmRlcl9idXR0b25fdGV4dGJveCB7XFxuICBmbG9hdDogbGVmdDtcXG4gIGJvcmRlcjogbm9uZTtcXG4gIGNvbG9yOiBncmVlbjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNkZGQ7XFxufVxcblxcbi5mbGV4bGF5b3V0X19ib3JkZXJfYnV0dG9uX3RleHRib3g6Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuXFxuLmZsZXhsYXlvdXRfX2JvcmRlcl9idXR0b25fdHJhaWxpbmcge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgbWFyZ2luLWxlZnQ6IDVweDtcXG4gIG1hcmdpbi10b3A6IDNweDtcXG4gIHdpZHRoOiA4cHg7XFxuICBoZWlnaHQ6IDhweDtcXG59XFxuXFxuLmZsZXhsYXlvdXRfX2JvcmRlcl9idXR0b24tLXNlbGVjdGVkIC5mbGV4bGF5b3V0X19ib3JkZXJfYnV0dG9uX3RyYWlsaW5nLFxcbi5mbGV4bGF5b3V0X19ib3JkZXJfYnV0dG9uOmhvdmVyIC5mbGV4bGF5b3V0X19ib3JkZXJfYnV0dG9uX3RyYWlsaW5nIHtcXG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50IHVybCgnZmxleGxheW91dC1yZWFjdC9pbWFnZXMvY2xvc2UucG5nJykgbm8tcmVwZWF0IGNlbnRlcjtcXG59XFxuXFxuLmZsZXhsYXlvdXRfX2JvcmRlcl90b29sYmFyX2xlZnQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgLW1zLWZsZXgtZGlyZWN0aW9uOiBjb2x1bW4tcmV2ZXJzZTtcXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uLXJldmVyc2U7XFxuICAtbXMtZmxleC1hbGlnbjogY2VudGVyO1xcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBib3R0b206IDA7XFxuICBsZWZ0OiAwO1xcbiAgcmlnaHQ6IDA7XFxufVxcblxcbi5mbGV4bGF5b3V0X19ib3JkZXJfdG9vbGJhcl9yaWdodCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtbXMtZmxleC1kaXJlY3Rpb246IGNvbHVtbi1yZXZlcnNlO1xcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW4tcmV2ZXJzZTtcXG4gIC1tcy1mbGV4LWFsaWduOiBjZW50ZXI7XFxuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGJvdHRvbTogMDtcXG4gIGxlZnQ6IDA7XFxuICByaWdodDogMDtcXG59XFxuXFxuLmZsZXhsYXlvdXRfX2JvcmRlcl90b29sYmFyX3RvcCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtbXMtZmxleC1kaXJlY3Rpb246IHJvdy1yZXZlcnNlO1xcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTtcXG4gIC1tcy1mbGV4LWFsaWduOiBjZW50ZXI7XFxuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIHRvcDogMDtcXG4gIGJvdHRvbTogMDtcXG4gIHJpZ2h0OiAwO1xcbn1cXG5cXG4uZmxleGxheW91dF9fYm9yZGVyX3Rvb2xiYXJfYm90dG9tIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIC1tcy1mbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7XFxuICAgICAgZmxleC1kaXJlY3Rpb246IHJvdy1yZXZlcnNlO1xcbiAgLW1zLWZsZXgtYWxpZ246IGNlbnRlcjtcXG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgdG9wOiAwO1xcbiAgYm90dG9tOiAwO1xcbiAgcmlnaHQ6IDA7XFxufVxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuXG4vLyBleHBvcnRzXG5leHBvcnRzLmxvY2FscyA9IHtcblx0XCJmbGV4bGF5b3V0X19sYXlvdXRcIjogXCJmbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fbGF5b3V0LUdVdTJyXCIsXG5cdFwiZmxleGxheW91dF9fc3BsaXR0ZXJcIjogXCJmbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fc3BsaXR0ZXItM1FrQVRcIixcblx0XCJmbGV4bGF5b3V0X19zcGxpdHRlcl9kcmFnXCI6IFwiZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3NwbGl0dGVyX2RyYWctMkhNdlpcIixcblx0XCJmbGV4bGF5b3V0X19vdXRsaW5lX3JlY3RcIjogXCJmbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fb3V0bGluZV9yZWN0LTJyMEQwXCIsXG5cdFwiZmxleGxheW91dF9fb3V0bGluZV9yZWN0X2VkZ2VcIjogXCJmbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fb3V0bGluZV9yZWN0X2VkZ2UtM3dmVkRcIixcblx0XCJmbGV4bGF5b3V0X19lZGdlX3JlY3RcIjogXCJmbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fZWRnZV9yZWN0LTJNR0hQXCIsXG5cdFwiZmxleGxheW91dF9fZHJhZ19yZWN0XCI6IFwiZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX2RyYWdfcmVjdC0yekxaRlwiLFxuXHRcImZsZXhsYXlvdXRfX3RhYnNldFwiOiBcImZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X190YWJzZXQtMy1faXNcIixcblx0XCJmbGV4bGF5b3V0X190YWJcIjogXCJmbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fdGFiLWdYTnFUXCIsXG5cdFwiZmxleGxheW91dF9fdGFiX2J1dHRvblwiOiBcImZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X190YWJfYnV0dG9uLW9SMmZMXCIsXG5cdFwiZmxleGxheW91dF9fdGFiX2J1dHRvbi0tc2VsZWN0ZWRcIjogXCJmbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fdGFiX2J1dHRvbi0tc2VsZWN0ZWQtM2wwSGxcIixcblx0XCJmbGV4bGF5b3V0X190YWJfYnV0dG9uLS11bnNlbGVjdGVkXCI6IFwiZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3RhYl9idXR0b24tLXVuc2VsZWN0ZWQtaVdNd1lcIixcblx0XCJmbGV4bGF5b3V0X190YWJfYnV0dG9uX2xlYWRpbmdcIjogXCJmbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fdGFiX2J1dHRvbl9sZWFkaW5nLTJaLWI4XCIsXG5cdFwiZmxleGxheW91dF9fdGFiX2J1dHRvbl9jb250ZW50XCI6IFwiZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3RhYl9idXR0b25fY29udGVudC0zVkhvR1wiLFxuXHRcImZsZXhsYXlvdXRfX3RhYl9idXR0b25fdGV4dGJveFwiOiBcImZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X190YWJfYnV0dG9uX3RleHRib3gteDZWNEpcIixcblx0XCJmbGV4bGF5b3V0X190YWJfYnV0dG9uX3RyYWlsaW5nXCI6IFwiZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3RhYl9idXR0b25fdHJhaWxpbmctM0UzN3ZcIixcblx0XCJmbGV4bGF5b3V0X190YWJfYnV0dG9uX292ZXJmbG93XCI6IFwiZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3RhYl9idXR0b25fb3ZlcmZsb3ctMjIwcEZcIixcblx0XCJmbGV4bGF5b3V0X190YWJzZXRfaGVhZGVyXCI6IFwiZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3RhYnNldF9oZWFkZXItMlRmYnNcIixcblx0XCJmbGV4bGF5b3V0X190YWJfaGVhZGVyX291dGVyXCI6IFwiZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3RhYl9oZWFkZXJfb3V0ZXItM0syQTJcIixcblx0XCJmbGV4bGF5b3V0X190YWJfaGVhZGVyX2lubmVyXCI6IFwiZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3RhYl9oZWFkZXJfaW5uZXItM0ZwQW1cIixcblx0XCJmbGV4bGF5b3V0X190YWJzZXQtc2VsZWN0ZWRcIjogXCJmbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fdGFic2V0LXNlbGVjdGVkLVI2T2k0XCIsXG5cdFwiZmxleGxheW91dF9fdGFic2V0LW1heGltaXplZFwiOiBcImZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X190YWJzZXQtbWF4aW1pemVkLTFPcVlfXCIsXG5cdFwiZmxleGxheW91dF9fdGFiX3Rvb2xiYXJcIjogXCJmbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fdGFiX3Rvb2xiYXItMjJzLUZcIixcblx0XCJmbGV4bGF5b3V0X190YWJfdG9vbGJhcl9idXR0b24tbWluXCI6IFwiZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3RhYl90b29sYmFyX2J1dHRvbi1taW4tMVRrUUFcIixcblx0XCJmbGV4bGF5b3V0X190YWJfdG9vbGJhcl9idXR0b24tbWF4XCI6IFwiZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3RhYl90b29sYmFyX2J1dHRvbi1tYXgtM0lQSU9cIixcblx0XCJmbGV4bGF5b3V0X19wb3B1cF9tZW51XCI6IFwiZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX3BvcHVwX21lbnUtMm1TMVpcIixcblx0XCJmbGV4bGF5b3V0X19wb3B1cF9tZW51X2l0ZW1cIjogXCJmbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fcG9wdXBfbWVudV9pdGVtLTFiWDZhXCIsXG5cdFwiZmxleGxheW91dF9fcG9wdXBfbWVudV9jb250YWluZXJcIjogXCJmbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fcG9wdXBfbWVudV9jb250YWluZXItYlk3VnJcIixcblx0XCJmbGV4bGF5b3V0X19ib3JkZXJfdG9wXCI6IFwiZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX2JvcmRlcl90b3AtM3ZZVHNcIixcblx0XCJmbGV4bGF5b3V0X19ib3JkZXJfYm90dG9tXCI6IFwiZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX2JvcmRlcl9ib3R0b20tM09aT3hcIixcblx0XCJmbGV4bGF5b3V0X19ib3JkZXJfbGVmdFwiOiBcImZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X19ib3JkZXJfbGVmdC1RdVNzZlwiLFxuXHRcImZsZXhsYXlvdXRfX2JvcmRlcl9yaWdodFwiOiBcImZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X19ib3JkZXJfcmlnaHQtMXNGWjFcIixcblx0XCJmbGV4bGF5b3V0X19ib3JkZXJfaW5uZXJfYm90dG9tXCI6IFwiZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX2JvcmRlcl9pbm5lcl9ib3R0b20tMlRCa09cIixcblx0XCJmbGV4bGF5b3V0X19ib3JkZXJfaW5uZXJfbGVmdFwiOiBcImZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X19ib3JkZXJfaW5uZXJfbGVmdC14dzJLalwiLFxuXHRcImZsZXhsYXlvdXRfX2JvcmRlcl9pbm5lcl9yaWdodFwiOiBcImZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X19ib3JkZXJfaW5uZXJfcmlnaHQteFF3ZzZcIixcblx0XCJmbGV4bGF5b3V0X19ib3JkZXJfYnV0dG9uXCI6IFwiZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX2JvcmRlcl9idXR0b24tSjNZNm5cIixcblx0XCJmbGV4bGF5b3V0X19ib3JkZXJfYnV0dG9uLS1zZWxlY3RlZFwiOiBcImZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X19ib3JkZXJfYnV0dG9uLS1zZWxlY3RlZC0ybi1aclwiLFxuXHRcImZsZXhsYXlvdXRfX2JvcmRlcl9idXR0b24tLXVuc2VsZWN0ZWRcIjogXCJmbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fYm9yZGVyX2J1dHRvbi0tdW5zZWxlY3RlZC0yeUxRVVwiLFxuXHRcImZsZXhsYXlvdXRfX2JvcmRlcl9idXR0b25fbGVhZGluZ1wiOiBcImZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X19ib3JkZXJfYnV0dG9uX2xlYWRpbmctMk1RM2NcIixcblx0XCJmbGV4bGF5b3V0X19ib3JkZXJfYnV0dG9uX2NvbnRlbnRcIjogXCJmbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fYm9yZGVyX2J1dHRvbl9jb250ZW50LTFMS0xsXCIsXG5cdFwiZmxleGxheW91dF9fYm9yZGVyX2J1dHRvbl90ZXh0Ym94XCI6IFwiZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX2JvcmRlcl9idXR0b25fdGV4dGJveC0xeENQalwiLFxuXHRcImZsZXhsYXlvdXRfX2JvcmRlcl9idXR0b25fdHJhaWxpbmdcIjogXCJmbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fYm9yZGVyX2J1dHRvbl90cmFpbGluZy1CakVvRlwiLFxuXHRcImZsZXhsYXlvdXRfX2JvcmRlcl90b29sYmFyX2xlZnRcIjogXCJmbGV4X2xheW91dF9pZGUtZmxleGxheW91dF9fYm9yZGVyX3Rvb2xiYXJfbGVmdC0zRnl1cFwiLFxuXHRcImZsZXhsYXlvdXRfX2JvcmRlcl90b29sYmFyX3JpZ2h0XCI6IFwiZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX2JvcmRlcl90b29sYmFyX3JpZ2h0LTJjWHU5XCIsXG5cdFwiZmxleGxheW91dF9fYm9yZGVyX3Rvb2xiYXJfdG9wXCI6IFwiZmxleF9sYXlvdXRfaWRlLWZsZXhsYXlvdXRfX2JvcmRlcl90b29sYmFyX3RvcC1NZnRGbFwiLFxuXHRcImZsZXhsYXlvdXRfX2JvcmRlcl90b29sYmFyX2JvdHRvbVwiOiBcImZsZXhfbGF5b3V0X2lkZS1mbGV4bGF5b3V0X19ib3JkZXJfdG9vbGJhcl9ib3R0b20tMlJaYmJcIlxufTsiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKHRydWUpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLyoqXFxuICogUmVhY3QgU3RhcnRlciBLaXQgKGh0dHBzOi8vd3d3LnJlYWN0c3RhcnRlcmtpdC5jb20vKVxcbiAqXFxuICogQ29weXJpZ2h0IMKpIDIwMTQtcHJlc2VudCBLcmlhc29mdCwgTExDLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxcbiAqXFxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXFxuICogTElDRU5TRS50eHQgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cXG4gKi9cXG5cXG46cm9vdCB7XFxuICAvKlxcbiAgICogVHlwb2dyYXBoeVxcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuXFxuICAtLWZvbnQtZmFtaWx5LWJhc2U6ICdTZWdvZSBVSScsICdIZWx2ZXRpY2FOZXVlLUxpZ2h0Jywgc2Fucy1zZXJpZjtcXG5cXG4gIC8qXFxuICAgKiBMYXlvdXRcXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcblxcbiAgLS1tYXgtY29udGVudC13aWR0aDogMTAwMHB4O1xcblxcbiAgLypcXG4gICAqIEFwcGxpY2F0aW9uIHNwZWNpZmljXFxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG5cXG4gIC0taGVkZ2Vob2ctZ3JlZW4tbGlnaHQ6ICMzOGI0NDk7XFxuICAtLWhlZGdlaG9nLWdyZWVuLWRhcms6ICMwMDdjM2M7XFxuXFxuICAvKlxcbiAgICogTWVkaWEgcXVlcmllcyBicmVha3BvaW50c1xcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuXFxuICAtLXNjcmVlbi14cy1taW46IDQ4MHB4OyAgLyogRXh0cmEgc21hbGwgc2NyZWVuIC8gcGhvbmUgKi9cXG4gIC0tc2NyZWVuLXNtLW1pbjogNzY4cHg7ICAvKiBTbWFsbCBzY3JlZW4gLyB0YWJsZXQgKi9cXG4gIC0tc2NyZWVuLW1kLW1pbjogOTkycHg7ICAvKiBNZWRpdW0gc2NyZWVuIC8gZGVza3RvcCAqL1xcbiAgLS1zY3JlZW4tbGctbWluOiAxMjAwcHg7IC8qIExhcmdlIHNjcmVlbiAvIHdpZGUgZGVza3RvcCAqL1xcbn1cXG5cXG4uTWFya2Rvd24tY29udGFpbmVyLTNxNTBKIHtcXG4gIC1tcy1mbGV4OiAxIDAgYXV0bztcXG4gICAgICBmbGV4OiAxIDAgYXV0bztcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG5cXG4uTWFya2Rvd24tcm9vdC0zeWhDYiB7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtbXMtZmxleC1mbG93OiByb3cgbm93cmFwO1xcbiAgICAgIGZsZXgtZmxvdzogcm93IG5vd3JhcDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG4uTWFya2Rvd24tcHJldmlld0NvbnRhaW5lci0zN3h4RCB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIG92ZXJmbG93OiBhdXRvXFxufVxcblxcbi5NYXJrZG93bi1wcmV2aWV3Q29udGFpbmVyLTM3eHhEIC5NYXJrZG93bi1wcmV2aWV3Vmlld3BvcnQtWUMxQUQge1xcbiAgICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgLW1zLWZsZXgtZmxvdzogY29sdW1uIG5vd3JhcDtcXG4gICAgICAgIGZsZXgtZmxvdzogY29sdW1uIG5vd3JhcDtcXG5cXG4gICAgcGFkZGluZzogMCAyMHB4IDIwcHg7XFxuICAgIG1pbi1oZWlnaHQ6IDEwMCU7XFxuICAgIHdpZHRoOiAtd2Via2l0LWZpdC1jb250ZW50O1xcbiAgICB3aWR0aDogLW1vei1maXQtY29udGVudDtcXG4gICAgd2lkdGg6IGZpdC1jb250ZW50XFxuICB9XFxuXFxuLk1hcmtkb3duLXByZXZpZXdDb250YWluZXItMzd4eEQgLk1hcmtkb3duLXByZXZpZXdWaWV3cG9ydC1ZQzFBRCAuTWFya2Rvd24tcHJldmlldy1iT3VNbiB7XFxuICAgICAgLW1zLWZsZXg6IDEgMSBhdXRvO1xcbiAgICAgICAgICBmbGV4OiAxIDEgYXV0bztcXG4gICAgfVxcblxcbi5NYXJrZG93bi1wcmV2aWV3Q29udGFpbmVyLTM3eHhEIC5NYXJrZG93bi1wcmV2aWV3Vmlld3BvcnQtWUMxQUQgLk1hcmtkb3duLXByZXZpZXdUb29sYmFyLTE0alBDIHtcXG4gICAgICBtYXJnaW4tbGVmdDogYXV0bztcXG4gICAgICAtbXMtZmxleDogMCAwIGF1dG87XFxuICAgICAgICAgIGZsZXg6IDAgMCBhdXRvO1xcbiAgICB9XFxuXCIsIFwiXCIsIHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL01hcmtkb3duL01hcmtkb3duLnNjc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7Ozs7Ozs7R0FPRzs7QUFFSDtFQUNFOztnRkFFOEU7O0VBRTlFLGtFQUFrRTs7RUFFbEU7O2dGQUU4RTs7RUFFOUUsNEJBQTRCOztFQUU1Qjs7Z0ZBRThFOztFQUU5RSxnQ0FBZ0M7RUFDaEMsK0JBQStCOztFQUUvQjs7Z0ZBRThFOztFQUU5RSx1QkFBdUIsRUFBRSxnQ0FBZ0M7RUFDekQsdUJBQXVCLEVBQUUsMkJBQTJCO0VBQ3BELHVCQUF1QixFQUFFLDZCQUE2QjtFQUN0RCx3QkFBd0IsQ0FBQyxpQ0FBaUM7Q0FDM0Q7O0FBRUQ7RUFDRSxtQkFBbUI7TUFDZixlQUFlO0VBQ25CLFlBQVk7Q0FDYjs7QUFFRDtFQUNFLHFCQUFxQjtFQUNyQixjQUFjO0VBQ2QsMEJBQTBCO01BQ3RCLHNCQUFzQjtFQUMxQixZQUFZO0VBQ1osYUFBYTtDQUNkOztBQUVEO0VBQ0UsWUFBWTtFQUNaLGFBQWE7RUFDYixjQUFjO0NBQ2Y7O0FBRUQ7SUFDSSxxQkFBcUI7SUFDckIsY0FBYztJQUNkLDZCQUE2QjtRQUN6Qix5QkFBeUI7O0lBRTdCLHFCQUFxQjtJQUNyQixpQkFBaUI7SUFDakIsMkJBQTJCO0lBQzNCLHdCQUF3QjtJQUN4QixrQkFBa0I7R0FDbkI7O0FBRUg7TUFDTSxtQkFBbUI7VUFDZixlQUFlO0tBQ3BCOztBQUVMO01BQ00sa0JBQWtCO01BQ2xCLG1CQUFtQjtVQUNmLGVBQWU7S0FDcEJcIixcImZpbGVcIjpcIk1hcmtkb3duLnNjc3NcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLyoqXFxuICogUmVhY3QgU3RhcnRlciBLaXQgKGh0dHBzOi8vd3d3LnJlYWN0c3RhcnRlcmtpdC5jb20vKVxcbiAqXFxuICogQ29weXJpZ2h0IMKpIDIwMTQtcHJlc2VudCBLcmlhc29mdCwgTExDLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxcbiAqXFxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXFxuICogTElDRU5TRS50eHQgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cXG4gKi9cXG5cXG46cm9vdCB7XFxuICAvKlxcbiAgICogVHlwb2dyYXBoeVxcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuXFxuICAtLWZvbnQtZmFtaWx5LWJhc2U6ICdTZWdvZSBVSScsICdIZWx2ZXRpY2FOZXVlLUxpZ2h0Jywgc2Fucy1zZXJpZjtcXG5cXG4gIC8qXFxuICAgKiBMYXlvdXRcXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcblxcbiAgLS1tYXgtY29udGVudC13aWR0aDogMTAwMHB4O1xcblxcbiAgLypcXG4gICAqIEFwcGxpY2F0aW9uIHNwZWNpZmljXFxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG5cXG4gIC0taGVkZ2Vob2ctZ3JlZW4tbGlnaHQ6ICMzOGI0NDk7XFxuICAtLWhlZGdlaG9nLWdyZWVuLWRhcms6ICMwMDdjM2M7XFxuXFxuICAvKlxcbiAgICogTWVkaWEgcXVlcmllcyBicmVha3BvaW50c1xcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuXFxuICAtLXNjcmVlbi14cy1taW46IDQ4MHB4OyAgLyogRXh0cmEgc21hbGwgc2NyZWVuIC8gcGhvbmUgKi9cXG4gIC0tc2NyZWVuLXNtLW1pbjogNzY4cHg7ICAvKiBTbWFsbCBzY3JlZW4gLyB0YWJsZXQgKi9cXG4gIC0tc2NyZWVuLW1kLW1pbjogOTkycHg7ICAvKiBNZWRpdW0gc2NyZWVuIC8gZGVza3RvcCAqL1xcbiAgLS1zY3JlZW4tbGctbWluOiAxMjAwcHg7IC8qIExhcmdlIHNjcmVlbiAvIHdpZGUgZGVza3RvcCAqL1xcbn1cXG5cXG4uY29udGFpbmVyIHtcXG4gIC1tcy1mbGV4OiAxIDAgYXV0bztcXG4gICAgICBmbGV4OiAxIDAgYXV0bztcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG5cXG4ucm9vdCB7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtbXMtZmxleC1mbG93OiByb3cgbm93cmFwO1xcbiAgICAgIGZsZXgtZmxvdzogcm93IG5vd3JhcDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG4ucHJldmlld0NvbnRhaW5lciB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIG92ZXJmbG93OiBhdXRvXFxufVxcblxcbi5wcmV2aWV3Q29udGFpbmVyIC5wcmV2aWV3Vmlld3BvcnQge1xcbiAgICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgLW1zLWZsZXgtZmxvdzogY29sdW1uIG5vd3JhcDtcXG4gICAgICAgIGZsZXgtZmxvdzogY29sdW1uIG5vd3JhcDtcXG5cXG4gICAgcGFkZGluZzogMCAyMHB4IDIwcHg7XFxuICAgIG1pbi1oZWlnaHQ6IDEwMCU7XFxuICAgIHdpZHRoOiAtd2Via2l0LWZpdC1jb250ZW50O1xcbiAgICB3aWR0aDogLW1vei1maXQtY29udGVudDtcXG4gICAgd2lkdGg6IGZpdC1jb250ZW50XFxuICB9XFxuXFxuLnByZXZpZXdDb250YWluZXIgLnByZXZpZXdWaWV3cG9ydCAucHJldmlldyB7XFxuICAgICAgLW1zLWZsZXg6IDEgMSBhdXRvO1xcbiAgICAgICAgICBmbGV4OiAxIDEgYXV0bztcXG4gICAgfVxcblxcbi5wcmV2aWV3Q29udGFpbmVyIC5wcmV2aWV3Vmlld3BvcnQgLnByZXZpZXdUb29sYmFyIHtcXG4gICAgICBtYXJnaW4tbGVmdDogYXV0bztcXG4gICAgICAtbXMtZmxleDogMCAwIGF1dG87XFxuICAgICAgICAgIGZsZXg6IDAgMCBhdXRvO1xcbiAgICB9XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG5cbi8vIGV4cG9ydHNcbmV4cG9ydHMubG9jYWxzID0ge1xuXHRcImNvbnRhaW5lclwiOiBcIk1hcmtkb3duLWNvbnRhaW5lci0zcTUwSlwiLFxuXHRcInJvb3RcIjogXCJNYXJrZG93bi1yb290LTN5aENiXCIsXG5cdFwicHJldmlld0NvbnRhaW5lclwiOiBcIk1hcmtkb3duLXByZXZpZXdDb250YWluZXItMzd4eERcIixcblx0XCJwcmV2aWV3Vmlld3BvcnRcIjogXCJNYXJrZG93bi1wcmV2aWV3Vmlld3BvcnQtWUMxQURcIixcblx0XCJwcmV2aWV3XCI6IFwiTWFya2Rvd24tcHJldmlldy1iT3VNblwiLFxuXHRcInByZXZpZXdUb29sYmFyXCI6IFwiTWFya2Rvd24tcHJldmlld1Rvb2xiYXItMTRqUENcIlxufTsiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKHRydWUpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLyoqXFxuICogUmVhY3QgU3RhcnRlciBLaXQgKGh0dHBzOi8vd3d3LnJlYWN0c3RhcnRlcmtpdC5jb20vKVxcbiAqXFxuICogQ29weXJpZ2h0IMKpIDIwMTQtcHJlc2VudCBLcmlhc29mdCwgTExDLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxcbiAqXFxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXFxuICogTElDRU5TRS50eHQgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cXG4gKi9cXG5cXG46cm9vdCB7XFxuICAvKlxcbiAgICogVHlwb2dyYXBoeVxcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuXFxuICAtLWZvbnQtZmFtaWx5LWJhc2U6ICdTZWdvZSBVSScsICdIZWx2ZXRpY2FOZXVlLUxpZ2h0Jywgc2Fucy1zZXJpZjtcXG5cXG4gIC8qXFxuICAgKiBMYXlvdXRcXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcblxcbiAgLS1tYXgtY29udGVudC13aWR0aDogMTAwMHB4O1xcblxcbiAgLypcXG4gICAqIEFwcGxpY2F0aW9uIHNwZWNpZmljXFxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG5cXG4gIC0taGVkZ2Vob2ctZ3JlZW4tbGlnaHQ6ICMzOGI0NDk7XFxuICAtLWhlZGdlaG9nLWdyZWVuLWRhcms6ICMwMDdjM2M7XFxuXFxuICAvKlxcbiAgICogTWVkaWEgcXVlcmllcyBicmVha3BvaW50c1xcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuXFxuICAtLXNjcmVlbi14cy1taW46IDQ4MHB4OyAgLyogRXh0cmEgc21hbGwgc2NyZWVuIC8gcGhvbmUgKi9cXG4gIC0tc2NyZWVuLXNtLW1pbjogNzY4cHg7ICAvKiBTbWFsbCBzY3JlZW4gLyB0YWJsZXQgKi9cXG4gIC0tc2NyZWVuLW1kLW1pbjogOTkycHg7ICAvKiBNZWRpdW0gc2NyZWVuIC8gZGVza3RvcCAqL1xcbiAgLS1zY3JlZW4tbGctbWluOiAxMjAwcHg7IC8qIExhcmdlIHNjcmVlbiAvIHdpZGUgZGVza3RvcCAqL1xcbn1cXG5cXG4uU2ltdWxhdG9yLXJvb3QtMVhzREsge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxufVxcblxcbi5TaW11bGF0b3ItU2ltdWxhdGlvbjNELTMzOHBBIHtcXG4gIFxcbiAgbWF4LXdpZHRoOiAxMDAlO1xcbiAgbWF4LWhlaWdodDogMTAwJTtcXG59XFxuXFxuY2FudmFzIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OjEwMCU7XFxufVxcblxcbi5TaW11bGF0b3ItY29udGFpbmVyLTNsYkNzIHtcXG4gIFxcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICBcXG4gIGRpc3BsYXk6IGZsZXhcXG59XFxuXFxuLlNpbXVsYXRvci1jb250YWluZXItM2xiQ3MuU2ltdWxhdG9yLXpvb21lZC0xeW9WeiB7XFxuICAgIG92ZXJmbG93OiBzY3JvbGw7XFxuICB9XFxuXFxuLlNpbXVsYXRvci1jb250YWluZXItM2xiQ3MuU2ltdWxhdG9yLXpvb21lZC0xeW9WeiAuU2ltdWxhdG9yLWNhbnZhcy1KLXo3UCB7XFxuICAgIC1tcy1mbGV4LW5lZ2F0aXZlOiAwO1xcbiAgICAgICAgZmxleC1zaHJpbms6IDA7XFxuICB9XFxuXCIsIFwiXCIsIHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL1NpbXVsYXRvci9TaW11bGF0b3Iuc2Nzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTs7Ozs7OztHQU9HOztBQUVIO0VBQ0U7O2dGQUU4RTs7RUFFOUUsa0VBQWtFOztFQUVsRTs7Z0ZBRThFOztFQUU5RSw0QkFBNEI7O0VBRTVCOztnRkFFOEU7O0VBRTlFLGdDQUFnQztFQUNoQywrQkFBK0I7O0VBRS9COztnRkFFOEU7O0VBRTlFLHVCQUF1QixFQUFFLGdDQUFnQztFQUN6RCx1QkFBdUIsRUFBRSwyQkFBMkI7RUFDcEQsdUJBQXVCLEVBQUUsNkJBQTZCO0VBQ3RELHdCQUF3QixDQUFDLGlDQUFpQztDQUMzRDs7QUFFRDtFQUNFLFlBQVk7RUFDWixhQUFhO0VBQ2IscUJBQXFCO0VBQ3JCLGNBQWM7Q0FDZjs7QUFFRDs7RUFFRSxnQkFBZ0I7RUFDaEIsaUJBQWlCO0NBQ2xCOztBQUVEO0VBQ0UsWUFBWTtFQUNaLFlBQVk7Q0FDYjs7QUFFRDs7RUFFRSxxQkFBcUI7O0VBRXJCLGFBQWE7Q0FDZDs7QUFFRDtJQUNJLGlCQUFpQjtHQUNsQjs7QUFFSDtJQUNJLHFCQUFxQjtRQUNqQixlQUFlO0dBQ3BCXCIsXCJmaWxlXCI6XCJTaW11bGF0b3Iuc2Nzc1wiLFwic291cmNlc0NvbnRlbnRcIjpbXCIvKipcXG4gKiBSZWFjdCBTdGFydGVyIEtpdCAoaHR0cHM6Ly93d3cucmVhY3RzdGFydGVya2l0LmNvbS8pXFxuICpcXG4gKiBDb3B5cmlnaHQgwqkgMjAxNC1wcmVzZW50IEtyaWFzb2Z0LCBMTEMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXFxuICpcXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcXG4gKiBMSUNFTlNFLnR4dCBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxcbiAqL1xcblxcbjpyb290IHtcXG4gIC8qXFxuICAgKiBUeXBvZ3JhcGh5XFxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG5cXG4gIC0tZm9udC1mYW1pbHktYmFzZTogJ1NlZ29lIFVJJywgJ0hlbHZldGljYU5ldWUtTGlnaHQnLCBzYW5zLXNlcmlmO1xcblxcbiAgLypcXG4gICAqIExheW91dFxcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuXFxuICAtLW1heC1jb250ZW50LXdpZHRoOiAxMDAwcHg7XFxuXFxuICAvKlxcbiAgICogQXBwbGljYXRpb24gc3BlY2lmaWNcXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcblxcbiAgLS1oZWRnZWhvZy1ncmVlbi1saWdodDogIzM4YjQ0OTtcXG4gIC0taGVkZ2Vob2ctZ3JlZW4tZGFyazogIzAwN2MzYztcXG5cXG4gIC8qXFxuICAgKiBNZWRpYSBxdWVyaWVzIGJyZWFrcG9pbnRzXFxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG5cXG4gIC0tc2NyZWVuLXhzLW1pbjogNDgwcHg7ICAvKiBFeHRyYSBzbWFsbCBzY3JlZW4gLyBwaG9uZSAqL1xcbiAgLS1zY3JlZW4tc20tbWluOiA3NjhweDsgIC8qIFNtYWxsIHNjcmVlbiAvIHRhYmxldCAqL1xcbiAgLS1zY3JlZW4tbWQtbWluOiA5OTJweDsgIC8qIE1lZGl1bSBzY3JlZW4gLyBkZXNrdG9wICovXFxuICAtLXNjcmVlbi1sZy1taW46IDEyMDBweDsgLyogTGFyZ2Ugc2NyZWVuIC8gd2lkZSBkZXNrdG9wICovXFxufVxcblxcbi5yb290IHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICBkaXNwbGF5OiBmbGV4O1xcbn1cXG5cXG4uU2ltdWxhdGlvbjNEIHtcXG4gIFxcbiAgbWF4LXdpZHRoOiAxMDAlO1xcbiAgbWF4LWhlaWdodDogMTAwJTtcXG59XFxuXFxuY2FudmFzIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OjEwMCU7XFxufVxcblxcbi5jb250YWluZXIge1xcbiAgXFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIFxcbiAgZGlzcGxheTogZmxleFxcbn1cXG5cXG4uY29udGFpbmVyLnpvb21lZCB7XFxuICAgIG92ZXJmbG93OiBzY3JvbGw7XFxuICB9XFxuXFxuLmNvbnRhaW5lci56b29tZWQgLmNhbnZhcyB7XFxuICAgIC1tcy1mbGV4LW5lZ2F0aXZlOiAwO1xcbiAgICAgICAgZmxleC1zaHJpbms6IDA7XFxuICB9XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG5cbi8vIGV4cG9ydHNcbmV4cG9ydHMubG9jYWxzID0ge1xuXHRcInJvb3RcIjogXCJTaW11bGF0b3Itcm9vdC0xWHNES1wiLFxuXHRcIlNpbXVsYXRpb24zRFwiOiBcIlNpbXVsYXRvci1TaW11bGF0aW9uM0QtMzM4cEFcIixcblx0XCJjb250YWluZXJcIjogXCJTaW11bGF0b3ItY29udGFpbmVyLTNsYkNzXCIsXG5cdFwiem9vbWVkXCI6IFwiU2ltdWxhdG9yLXpvb21lZC0xeW9WelwiLFxuXHRcImNhbnZhc1wiOiBcIlNpbXVsYXRvci1jYW52YXMtSi16N1BcIlxufTsiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKHRydWUpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLyoqXFxuICogUmVhY3QgU3RhcnRlciBLaXQgKGh0dHBzOi8vd3d3LnJlYWN0c3RhcnRlcmtpdC5jb20vKVxcbiAqXFxuICogQ29weXJpZ2h0IMKpIDIwMTQtcHJlc2VudCBLcmlhc29mdCwgTExDLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxcbiAqXFxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXFxuICogTElDRU5TRS50eHQgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cXG4gKi9cXG5cXG46cm9vdCB7XFxuICAvKlxcbiAgICogVHlwb2dyYXBoeVxcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuXFxuICAtLWZvbnQtZmFtaWx5LWJhc2U6ICdTZWdvZSBVSScsICdIZWx2ZXRpY2FOZXVlLUxpZ2h0Jywgc2Fucy1zZXJpZjtcXG5cXG4gIC8qXFxuICAgKiBMYXlvdXRcXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcblxcbiAgLS1tYXgtY29udGVudC13aWR0aDogMTAwMHB4O1xcblxcbiAgLypcXG4gICAqIEFwcGxpY2F0aW9uIHNwZWNpZmljXFxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG5cXG4gIC0taGVkZ2Vob2ctZ3JlZW4tbGlnaHQ6ICMzOGI0NDk7XFxuICAtLWhlZGdlaG9nLWdyZWVuLWRhcms6ICMwMDdjM2M7XFxuXFxuICAvKlxcbiAgICogTWVkaWEgcXVlcmllcyBicmVha3BvaW50c1xcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuXFxuICAtLXNjcmVlbi14cy1taW46IDQ4MHB4OyAgLyogRXh0cmEgc21hbGwgc2NyZWVuIC8gcGhvbmUgKi9cXG4gIC0tc2NyZWVuLXNtLW1pbjogNzY4cHg7ICAvKiBTbWFsbCBzY3JlZW4gLyB0YWJsZXQgKi9cXG4gIC0tc2NyZWVuLW1kLW1pbjogOTkycHg7ICAvKiBNZWRpdW0gc2NyZWVuIC8gZGVza3RvcCAqL1xcbiAgLS1zY3JlZW4tbGctbWluOiAxMjAwcHg7IC8qIExhcmdlIHNjcmVlbiAvIHdpZGUgZGVza3RvcCAqL1xcbn1cXG5cXG4uU2ltdWxhdG9yRWRpdG9yLXRhYlJvb3QtMWxwS1Uge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtbXMtZmxleC1mbG93OiByb3cgbm93cmFwO1xcbiAgICAgIGZsZXgtZmxvdzogcm93IG5vd3JhcDtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxufVxcblxcbi5TaW11bGF0b3JFZGl0b3ItanNvbkNvbnRhaW5lci1YQjVrQiB7XFxuICAtbXMtZmxleDogMCAxIGF1dG87XFxuICAgICAgZmxleDogMCAxIGF1dG87XFxuICB3aWR0aDogNDAwcHg7XFxuICBvdmVyZmxvdzogYXV0bztcXG4gIHBhZGRpbmc6IDZweCAwIDAgNHB4O1xcbiAgbWFyZ2luOiAwO1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uLXByb3BlcnR5OiB3aWR0aDtcXG4gIC1vLXRyYW5zaXRpb24tcHJvcGVydHk6IHdpZHRoO1xcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogd2lkdGg7XFxuICAtd2Via2l0LXRyYW5zaXRpb24tZHVyYXRpb246IDAuM3M7XFxuICAgICAgIC1vLXRyYW5zaXRpb24tZHVyYXRpb246IDAuM3M7XFxuICAgICAgICAgIHRyYW5zaXRpb24tZHVyYXRpb246IDAuM3NcXG59XFxuXFxuLlNpbXVsYXRvckVkaXRvci1qc29uQ29udGFpbmVyLVhCNWtCLlNpbXVsYXRvckVkaXRvci1jb2xsYXBzZWQtMUgzM2Mge1xcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgICBwYWRkaW5nLWxlZnQ6IDA7XFxuICAgIHdpZHRoOiAwO1xcbiAgfVxcblwiLCBcIlwiLCB7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCIvaG9tZS9zYXJhaC9Eb2N1bWVudHMvQXJiZWl0L2dpdGh1Yi9uZXRSb2IvTmV0cm9iL3NyYy9jb21wb25lbnRzL2lkZS9TaW11bGF0b3JFZGl0b3IvU2ltdWxhdG9yRWRpdG9yLnNjc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7Ozs7Ozs7R0FPRzs7QUFFSDtFQUNFOztnRkFFOEU7O0VBRTlFLGtFQUFrRTs7RUFFbEU7O2dGQUU4RTs7RUFFOUUsNEJBQTRCOztFQUU1Qjs7Z0ZBRThFOztFQUU5RSxnQ0FBZ0M7RUFDaEMsK0JBQStCOztFQUUvQjs7Z0ZBRThFOztFQUU5RSx1QkFBdUIsRUFBRSxnQ0FBZ0M7RUFDekQsdUJBQXVCLEVBQUUsMkJBQTJCO0VBQ3BELHVCQUF1QixFQUFFLDZCQUE2QjtFQUN0RCx3QkFBd0IsQ0FBQyxpQ0FBaUM7Q0FDM0Q7O0FBRUQ7RUFDRSxZQUFZO0VBQ1osYUFBYTtFQUNiLHFCQUFxQjtFQUNyQixjQUFjO0VBQ2QsMEJBQTBCO01BQ3RCLHNCQUFzQjtFQUMxQixpQkFBaUI7Q0FDbEI7O0FBRUQ7RUFDRSxtQkFBbUI7TUFDZixlQUFlO0VBQ25CLGFBQWE7RUFDYixlQUFlO0VBQ2YscUJBQXFCO0VBQ3JCLFVBQVU7RUFDVixtQ0FBbUM7RUFDbkMsOEJBQThCO0VBQzlCLDJCQUEyQjtFQUMzQixrQ0FBa0M7T0FDN0IsNkJBQTZCO1VBQzFCLHlCQUF5QjtDQUNsQzs7QUFFRDtJQUNJLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsU0FBUztHQUNWXCIsXCJmaWxlXCI6XCJTaW11bGF0b3JFZGl0b3Iuc2Nzc1wiLFwic291cmNlc0NvbnRlbnRcIjpbXCIvKipcXG4gKiBSZWFjdCBTdGFydGVyIEtpdCAoaHR0cHM6Ly93d3cucmVhY3RzdGFydGVya2l0LmNvbS8pXFxuICpcXG4gKiBDb3B5cmlnaHQgwqkgMjAxNC1wcmVzZW50IEtyaWFzb2Z0LCBMTEMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXFxuICpcXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcXG4gKiBMSUNFTlNFLnR4dCBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxcbiAqL1xcblxcbjpyb290IHtcXG4gIC8qXFxuICAgKiBUeXBvZ3JhcGh5XFxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG5cXG4gIC0tZm9udC1mYW1pbHktYmFzZTogJ1NlZ29lIFVJJywgJ0hlbHZldGljYU5ldWUtTGlnaHQnLCBzYW5zLXNlcmlmO1xcblxcbiAgLypcXG4gICAqIExheW91dFxcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuXFxuICAtLW1heC1jb250ZW50LXdpZHRoOiAxMDAwcHg7XFxuXFxuICAvKlxcbiAgICogQXBwbGljYXRpb24gc3BlY2lmaWNcXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcblxcbiAgLS1oZWRnZWhvZy1ncmVlbi1saWdodDogIzM4YjQ0OTtcXG4gIC0taGVkZ2Vob2ctZ3JlZW4tZGFyazogIzAwN2MzYztcXG5cXG4gIC8qXFxuICAgKiBNZWRpYSBxdWVyaWVzIGJyZWFrcG9pbnRzXFxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG5cXG4gIC0tc2NyZWVuLXhzLW1pbjogNDgwcHg7ICAvKiBFeHRyYSBzbWFsbCBzY3JlZW4gLyBwaG9uZSAqL1xcbiAgLS1zY3JlZW4tc20tbWluOiA3NjhweDsgIC8qIFNtYWxsIHNjcmVlbiAvIHRhYmxldCAqL1xcbiAgLS1zY3JlZW4tbWQtbWluOiA5OTJweDsgIC8qIE1lZGl1bSBzY3JlZW4gLyBkZXNrdG9wICovXFxuICAtLXNjcmVlbi1sZy1taW46IDEyMDBweDsgLyogTGFyZ2Ugc2NyZWVuIC8gd2lkZSBkZXNrdG9wICovXFxufVxcblxcbi50YWJSb290IHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgLW1zLWZsZXgtZmxvdzogcm93IG5vd3JhcDtcXG4gICAgICBmbGV4LWZsb3c6IHJvdyBub3dyYXA7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbn1cXG5cXG4uanNvbkNvbnRhaW5lciB7XFxuICAtbXMtZmxleDogMCAxIGF1dG87XFxuICAgICAgZmxleDogMCAxIGF1dG87XFxuICB3aWR0aDogNDAwcHg7XFxuICBvdmVyZmxvdzogYXV0bztcXG4gIHBhZGRpbmc6IDZweCAwIDAgNHB4O1xcbiAgbWFyZ2luOiAwO1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uLXByb3BlcnR5OiB3aWR0aDtcXG4gIC1vLXRyYW5zaXRpb24tcHJvcGVydHk6IHdpZHRoO1xcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogd2lkdGg7XFxuICAtd2Via2l0LXRyYW5zaXRpb24tZHVyYXRpb246IDAuM3M7XFxuICAgICAgIC1vLXRyYW5zaXRpb24tZHVyYXRpb246IDAuM3M7XFxuICAgICAgICAgIHRyYW5zaXRpb24tZHVyYXRpb246IDAuM3NcXG59XFxuXFxuLmpzb25Db250YWluZXIuY29sbGFwc2VkIHtcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gICAgcGFkZGluZy1sZWZ0OiAwO1xcbiAgICB3aWR0aDogMDtcXG4gIH1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcblxuLy8gZXhwb3J0c1xuZXhwb3J0cy5sb2NhbHMgPSB7XG5cdFwidGFiUm9vdFwiOiBcIlNpbXVsYXRvckVkaXRvci10YWJSb290LTFscEtVXCIsXG5cdFwianNvbkNvbnRhaW5lclwiOiBcIlNpbXVsYXRvckVkaXRvci1qc29uQ29udGFpbmVyLVhCNWtCXCIsXG5cdFwiY29sbGFwc2VkXCI6IFwiU2ltdWxhdG9yRWRpdG9yLWNvbGxhcHNlZC0xSDMzY1wiXG59OyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikodHJ1ZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuVG9vbEJhci10b29sQmFyLTI4Q05rIHtcXG4gIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIC1tcy1mbGV4LWZsb3c6IGNvbHVtbiBub3dyYXA7XFxuICAgICAgZmxleC1mbG93OiBjb2x1bW4gbm93cmFwO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U4ZThlODtcXG59XFxuXCIsIFwiXCIsIHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIi9ob21lL3NhcmFoL0RvY3VtZW50cy9BcmJlaXQvZ2l0aHViL25ldFJvYi9OZXRyb2Ivc3JjL2NvbXBvbmVudHMvaWRlL1Rvb2xCYXIvVG9vbEJhci5zY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0UscUJBQXFCO0VBQ3JCLGNBQWM7RUFDZCw2QkFBNkI7TUFDekIseUJBQXlCO0VBQzdCLDBCQUEwQjtDQUMzQlwiLFwiZmlsZVwiOlwiVG9vbEJhci5zY3NzXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi50b29sQmFyIHtcXG4gIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIC1tcy1mbGV4LWZsb3c6IGNvbHVtbiBub3dyYXA7XFxuICAgICAgZmxleC1mbG93OiBjb2x1bW4gbm93cmFwO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U4ZThlODtcXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG5cbi8vIGV4cG9ydHNcbmV4cG9ydHMubG9jYWxzID0ge1xuXHRcInRvb2xCYXJcIjogXCJUb29sQmFyLXRvb2xCYXItMjhDTmtcIlxufTsiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKHRydWUpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLlRvb2xCYXJJdGVtLXRvb2xCYXJJdGVtLTJjZEdSIHtcXG4gIG1hcmdpbjogNXB4O1xcbn1cXG5cIiwgXCJcIiwge1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wiL2hvbWUvc2FyYWgvRG9jdW1lbnRzL0FyYmVpdC9naXRodWIvbmV0Um9iL05ldHJvYi9zcmMvY29tcG9uZW50cy9pZGUvVG9vbEJhci9Ub29sQmFySXRlbS5zY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0UsWUFBWTtDQUNiXCIsXCJmaWxlXCI6XCJUb29sQmFySXRlbS5zY3NzXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi50b29sQmFySXRlbSB7XFxuICBtYXJnaW46IDVweDtcXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG5cbi8vIGV4cG9ydHNcbmV4cG9ydHMubG9jYWxzID0ge1xuXHRcInRvb2xCYXJJdGVtXCI6IFwiVG9vbEJhckl0ZW0tdG9vbEJhckl0ZW0tMmNkR1JcIlxufTsiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKHRydWUpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLyoqXFxuICogUmVhY3QgU3RhcnRlciBLaXQgKGh0dHBzOi8vd3d3LnJlYWN0c3RhcnRlcmtpdC5jb20vKVxcbiAqXFxuICogQ29weXJpZ2h0IMKpIDIwMTQtcHJlc2VudCBLcmlhc29mdCwgTExDLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxcbiAqXFxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXFxuICogTElDRU5TRS50eHQgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cXG4gKi9cXG5cXG46cm9vdCB7XFxuICAvKlxcbiAgICogVHlwb2dyYXBoeVxcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuXFxuICAtLWZvbnQtZmFtaWx5LWJhc2U6ICdTZWdvZSBVSScsICdIZWx2ZXRpY2FOZXVlLUxpZ2h0Jywgc2Fucy1zZXJpZjtcXG5cXG4gIC8qXFxuICAgKiBMYXlvdXRcXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcblxcbiAgLS1tYXgtY29udGVudC13aWR0aDogMTAwMHB4O1xcblxcbiAgLypcXG4gICAqIEFwcGxpY2F0aW9uIHNwZWNpZmljXFxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG5cXG4gIC0taGVkZ2Vob2ctZ3JlZW4tbGlnaHQ6ICMzOGI0NDk7XFxuICAtLWhlZGdlaG9nLWdyZWVuLWRhcms6ICMwMDdjM2M7XFxuXFxuICAvKlxcbiAgICogTWVkaWEgcXVlcmllcyBicmVha3BvaW50c1xcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuXFxuICAtLXNjcmVlbi14cy1taW46IDQ4MHB4OyAgLyogRXh0cmEgc21hbGwgc2NyZWVuIC8gcGhvbmUgKi9cXG4gIC0tc2NyZWVuLXNtLW1pbjogNzY4cHg7ICAvKiBTbWFsbCBzY3JlZW4gLyB0YWJsZXQgKi9cXG4gIC0tc2NyZWVuLW1kLW1pbjogOTkycHg7ICAvKiBNZWRpdW0gc2NyZWVuIC8gZGVza3RvcCAqL1xcbiAgLS1zY3JlZW4tbGctbWluOiAxMjAwcHg7IC8qIExhcmdlIHNjcmVlbiAvIHdpZGUgZGVza3RvcCAqL1xcbn1cXG5cXG4uVmlzdWFsRWRpdG9yLXRhYlJvb3QtMVM0S1Age1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtbXMtZmxleC1mbG93OiByb3cgbm93cmFwO1xcbiAgICAgIGZsZXgtZmxvdzogcm93IG5vd3JhcDtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxufVxcblxcbi5WaXN1YWxFZGl0b3ItY29kZUNvbnRhaW5lci0xanB6eSB7XFxuICAtbXMtZmxleDogMCAxIGF1dG87XFxuICAgICAgZmxleDogMCAxIGF1dG87XFxuICB3aWR0aDogNDAwcHg7XFxuICBvdmVyZmxvdzogYXV0bztcXG4gIHBhZGRpbmc6IDZweCAwIDAgNHB4O1xcbiAgbWFyZ2luOiAwO1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uLXByb3BlcnR5OiB3aWR0aDtcXG4gIC1vLXRyYW5zaXRpb24tcHJvcGVydHk6IHdpZHRoO1xcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogd2lkdGg7XFxuICAtd2Via2l0LXRyYW5zaXRpb24tZHVyYXRpb246IDAuM3M7XFxuICAgICAgIC1vLXRyYW5zaXRpb24tZHVyYXRpb246IDAuM3M7XFxuICAgICAgICAgIHRyYW5zaXRpb24tZHVyYXRpb246IDAuM3NcXG59XFxuXFxuLlZpc3VhbEVkaXRvci1jb2RlQ29udGFpbmVyLTFqcHp5LlZpc3VhbEVkaXRvci1jb2xsYXBzZWQtMjNXUGgge1xcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgICBwYWRkaW5nLWxlZnQ6IDA7XFxuICAgIHdpZHRoOiAwO1xcbiAgfVxcblwiLCBcIlwiLCB7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCIvaG9tZS9zYXJhaC9Eb2N1bWVudHMvQXJiZWl0L2dpdGh1Yi9uZXRSb2IvTmV0cm9iL3NyYy9jb21wb25lbnRzL2lkZS9WaXN1YWxFZGl0b3IvVmlzdWFsRWRpdG9yLnNjc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7Ozs7Ozs7R0FPRzs7QUFFSDtFQUNFOztnRkFFOEU7O0VBRTlFLGtFQUFrRTs7RUFFbEU7O2dGQUU4RTs7RUFFOUUsNEJBQTRCOztFQUU1Qjs7Z0ZBRThFOztFQUU5RSxnQ0FBZ0M7RUFDaEMsK0JBQStCOztFQUUvQjs7Z0ZBRThFOztFQUU5RSx1QkFBdUIsRUFBRSxnQ0FBZ0M7RUFDekQsdUJBQXVCLEVBQUUsMkJBQTJCO0VBQ3BELHVCQUF1QixFQUFFLDZCQUE2QjtFQUN0RCx3QkFBd0IsQ0FBQyxpQ0FBaUM7Q0FDM0Q7O0FBRUQ7RUFDRSxZQUFZO0VBQ1osYUFBYTtFQUNiLHFCQUFxQjtFQUNyQixjQUFjO0VBQ2QsMEJBQTBCO01BQ3RCLHNCQUFzQjtFQUMxQixpQkFBaUI7Q0FDbEI7O0FBRUQ7RUFDRSxtQkFBbUI7TUFDZixlQUFlO0VBQ25CLGFBQWE7RUFDYixlQUFlO0VBQ2YscUJBQXFCO0VBQ3JCLFVBQVU7RUFDVixtQ0FBbUM7RUFDbkMsOEJBQThCO0VBQzlCLDJCQUEyQjtFQUMzQixrQ0FBa0M7T0FDN0IsNkJBQTZCO1VBQzFCLHlCQUF5QjtDQUNsQzs7QUFFRDtJQUNJLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsU0FBUztHQUNWXCIsXCJmaWxlXCI6XCJWaXN1YWxFZGl0b3Iuc2Nzc1wiLFwic291cmNlc0NvbnRlbnRcIjpbXCIvKipcXG4gKiBSZWFjdCBTdGFydGVyIEtpdCAoaHR0cHM6Ly93d3cucmVhY3RzdGFydGVya2l0LmNvbS8pXFxuICpcXG4gKiBDb3B5cmlnaHQgwqkgMjAxNC1wcmVzZW50IEtyaWFzb2Z0LCBMTEMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXFxuICpcXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcXG4gKiBMSUNFTlNFLnR4dCBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxcbiAqL1xcblxcbjpyb290IHtcXG4gIC8qXFxuICAgKiBUeXBvZ3JhcGh5XFxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG5cXG4gIC0tZm9udC1mYW1pbHktYmFzZTogJ1NlZ29lIFVJJywgJ0hlbHZldGljYU5ldWUtTGlnaHQnLCBzYW5zLXNlcmlmO1xcblxcbiAgLypcXG4gICAqIExheW91dFxcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxuXFxuICAtLW1heC1jb250ZW50LXdpZHRoOiAxMDAwcHg7XFxuXFxuICAvKlxcbiAgICogQXBwbGljYXRpb24gc3BlY2lmaWNcXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcblxcbiAgLS1oZWRnZWhvZy1ncmVlbi1saWdodDogIzM4YjQ0OTtcXG4gIC0taGVkZ2Vob2ctZ3JlZW4tZGFyazogIzAwN2MzYztcXG5cXG4gIC8qXFxuICAgKiBNZWRpYSBxdWVyaWVzIGJyZWFrcG9pbnRzXFxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXG5cXG4gIC0tc2NyZWVuLXhzLW1pbjogNDgwcHg7ICAvKiBFeHRyYSBzbWFsbCBzY3JlZW4gLyBwaG9uZSAqL1xcbiAgLS1zY3JlZW4tc20tbWluOiA3NjhweDsgIC8qIFNtYWxsIHNjcmVlbiAvIHRhYmxldCAqL1xcbiAgLS1zY3JlZW4tbWQtbWluOiA5OTJweDsgIC8qIE1lZGl1bSBzY3JlZW4gLyBkZXNrdG9wICovXFxuICAtLXNjcmVlbi1sZy1taW46IDEyMDBweDsgLyogTGFyZ2Ugc2NyZWVuIC8gd2lkZSBkZXNrdG9wICovXFxufVxcblxcbi50YWJSb290IHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgLW1zLWZsZXgtZmxvdzogcm93IG5vd3JhcDtcXG4gICAgICBmbGV4LWZsb3c6IHJvdyBub3dyYXA7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbn1cXG5cXG4uY29kZUNvbnRhaW5lciB7XFxuICAtbXMtZmxleDogMCAxIGF1dG87XFxuICAgICAgZmxleDogMCAxIGF1dG87XFxuICB3aWR0aDogNDAwcHg7XFxuICBvdmVyZmxvdzogYXV0bztcXG4gIHBhZGRpbmc6IDZweCAwIDAgNHB4O1xcbiAgbWFyZ2luOiAwO1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uLXByb3BlcnR5OiB3aWR0aDtcXG4gIC1vLXRyYW5zaXRpb24tcHJvcGVydHk6IHdpZHRoO1xcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogd2lkdGg7XFxuICAtd2Via2l0LXRyYW5zaXRpb24tZHVyYXRpb246IDAuM3M7XFxuICAgICAgIC1vLXRyYW5zaXRpb24tZHVyYXRpb246IDAuM3M7XFxuICAgICAgICAgIHRyYW5zaXRpb24tZHVyYXRpb246IDAuM3NcXG59XFxuXFxuLmNvZGVDb250YWluZXIuY29sbGFwc2VkIHtcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gICAgcGFkZGluZy1sZWZ0OiAwO1xcbiAgICB3aWR0aDogMDtcXG4gIH1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcblxuLy8gZXhwb3J0c1xuZXhwb3J0cy5sb2NhbHMgPSB7XG5cdFwidGFiUm9vdFwiOiBcIlZpc3VhbEVkaXRvci10YWJSb290LTFTNEtQXCIsXG5cdFwiY29kZUNvbnRhaW5lclwiOiBcIlZpc3VhbEVkaXRvci1jb2RlQ29udGFpbmVyLTFqcHp5XCIsXG5cdFwiY29sbGFwc2VkXCI6IFwiVmlzdWFsRWRpdG9yLWNvbGxhcHNlZC0yM1dQaFwiXG59OyIsIi8vIEBmbG93XG5cbmltcG9ydCBkZWNvbXAgZnJvbSAncG9seS1kZWNvbXAnO1xuXG5pZiAoIXdpbmRvdy5kZWNvbXApIHtcbiAgd2luZG93LmRlY29tcCA9IGRlY29tcDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZGVjb21wO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHdpdGhTdHlsZXMgZnJvbSAnaXNvbW9ycGhpYy1zdHlsZS1sb2FkZXIvd2l0aFN0eWxlcyc7XG5cbmltcG9ydCBCbG9ja2x5IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5cbmltcG9ydCBzIGZyb20gJy4vQmxvY2tseS5zY3NzJztcblxuZXhwb3J0IHR5cGUgTG9jYWxlID0ge3xcbiAgcnRsOiBib29sZWFuLFxuICBtc2c6IHsgW3N0cmluZ106IHN0cmluZyB9LFxufH07XG5cbmV4cG9ydCB0eXBlIFdvcmtzcGFjZVRyYW5zZm9ybSA9IHt8XG4gIHNjcm9sbFg6IG51bWJlcixcbiAgc2Nyb2xsWTogbnVtYmVyLFxuICBzY2FsZTogbnVtYmVyLFxufH07XG5cbnR5cGUgUHJvcFR5cGVzID0ge3xcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gIGZvcndhcmRlZFJlZjogUmVmT2JqZWN0PHR5cGVvZiBCbG9ja2x5Q29tcG9uZW50PixcbiAgaW5pdGlhbFdvcmtzcGFjZVhtbDogc3RyaW5nLFxuICBsb2NhbGU6IExvY2FsZSxcbiAgd29ya3NwYWNlT3B0aW9ucz86IE9iamVjdCxcbiAgd29ya3NwYWNlVHJhbnNmb3JtPzogV29ya3NwYWNlVHJhbnNmb3JtLFxuICBvbkNoYW5nZT86ICh3b3Jrc3BhY2U6IEJsb2NrbHkuV29ya3NwYWNlKSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPixcbiAgb25TY3JvbGw/OiAod29ya3NwYWNlOiBCbG9ja2x5LldvcmtzcGFjZSkgPT4gdm9pZCB8IFByb21pc2U8dm9pZD4sXG58fTtcbnR5cGUgU3RhdGVUeXBlcyA9IHt8fH07XG5cbi8qKlxuICogYEJsb2NrbHlDb21wb25lbnRgIHdyYXBzIHRoZSBgQmxvY2tseWAgbnBtIGRpc3RyaWJ1dGlvbiB0byBtYWtlIGl0IGVhc2lseSB1c2FibGUgd2l0aGluIEhlZGdlaG9nXG4gKiBDbG91ZCdzIHJlcXVpcmVtZW50cy4gSW4gcGFydGljdWxhciwgQmxvY2tseSBlZGl0b3JzIGFyZSBzaG93biBpbnNpZGUgYSBmbGV4IGxheW91dCwgd2hpY2ggbWF5XG4gKiByZXNpemUgYW5kIGhpZGUgaXRzIHRhYnMuIEJsb2NrbHkgbmVlZHMgdG8gYmUgdG9sZCB0byByZXNpemUgaXRzIGNhbnZhcyB0byB0aGUgY29udGFpbmVyIHdoZW4gYVxuICogcmVzaXplIGhhcHBlbnMsIGFuZCB0byBoaWRlIGl0cyBcImNoYWZmXCIgKHBvcC11cHMgZXRjLikgd2hlbiBpdCBiZWNvbWVzIGludmlzaWJsZS4gVGhlIGNvbnN1bWVyIG9mXG4gKiB0aGlzIGNvbXBvbmVudCBpcyByZXNwb25zaWJsZSBmb3IgbGlzdGVuaW5nIHRvIHRoZSByZWxldmFudCBldmVudHMsIGFuZCBjYWxsIHRoZSBkaXNwbGF5IHVwZGF0ZVxuICogbWV0aG9kcyBvZiB0aGlzIGNvbXBvbmVudCBhY2NvcmRpbmdseS5cbiAqXG4gKiBUaGlzIGNvbXBvbmVudCBhbHNvIGR5bmFtaWNhbGx5IGhhbmRsZXMgdGhlIGxvY2FsaXphdGlvbiBvZiBCbG9ja2x5LiBXaGlsZSBgcnRsYCAocmlnaHQtdG8tbGVmdFxuICogb3JpZW50YXRpb24pIGlzIGEgcHJvcGVydHkgb2YgdGhlIHdvcmtzcGFjZSwgbG9jYWxpemF0aW9uIG1lc3NhZ2VzIGFyZSBzZXQgZ2xvYmFsbHkgYW5kIGFwcGxpZWRcbiAqIHRvIGEgd29ya3NwYWNlIG9uIGNyZWF0aW9uLiBUbyBkeW5hbWljYWxseSBjaGFuZ2Ugb2YgdGhlIGxvY2FsZSwgdGhpcyBjb21wb25lbnQgd2lsbCByZS1pbmplY3QgYVxuICogbmV3IEJsb2NrbHkgd29ya3NwYWNlIGFmdGVyIHNldHRpbmcgdGhlIHRyYW5zbGF0aW9uIGdsb2JhbGx5LiBUaGlzIGhhcyB0aGUgc2lkZSBlZmZlY3Qgb2ZcbiAqIGNsZWFyaW5nIGFueSB1bmRvIGhpc3RvcnkgdXAgdG8gdGhhdCBwb2ludC5cbiAqXG4gKiBGaW5hbGx5LCB0aGlzIGNvbXBvbmVudCBhbGxvd3MgbGlzdGVuaW5nIHRvIEJsb2NrbHkncyB6b29tIGFuZCBzY3JvbGwgc3RhdGUsIGFuZCBjYW4gcmVzdG9yZSB6b29tXG4gKiBhbmQgc2Nyb2xsIHN0YXRlIG9uIGxvYWQuXG4gKi9cbmNsYXNzIEJsb2NrbHlDb21wb25lbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UHJvcFR5cGVzLCBTdGF0ZVR5cGVzPiB7XG4gIC8vIHRoZSBjb250YWluZXIgaXMgbGF5ZWQgb3V0IG5vcm1hbGx5IGJ5IHRoZSBicm93c2VyLCBhbmQgaXMgdGhlIHJlZmVyZW5jZSBmb3Igc2l6aW5nIEJsb2NrbHlcbiAgY29udGFpbmVyUmVmOiBSZWZPYmplY3Q8J2Rpdic+ID0gUmVhY3QuY3JlYXRlUmVmKCk7XG4gIC8vIHRoZSBibG9ja2x5IGRpdiBpcyBub3QgbGF5ZWQgb3V0IGFuZCBpcyBzaXplZCBtYW51YWxseVxuICBibG9ja2x5UmVmOiBSZWZPYmplY3Q8J2Rpdic+ID0gUmVhY3QuY3JlYXRlUmVmKCk7XG4gIC8vIHRoZSBhY3R1YWwgQmxvY2tseSB3b3Jrc3BhY2VcbiAgd29ya3NwYWNlOiBCbG9ja2x5LldvcmtzcGFjZSB8IG51bGwgPSBudWxsO1xuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gICAgaWYgKHRoaXMuYmxvY2tseVJlZi5jdXJyZW50ID09PSBudWxsKSB0aHJvdyAncmVmIGlzIG51bGwnO1xuICAgIHRoaXMucHJvcHMuZm9yd2FyZGVkUmVmLmN1cnJlbnQgPSB0aGlzO1xuXG4gICAgY29uc3QgeyBpbml0aWFsV29ya3NwYWNlWG1sIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgZG9tID0gaW5pdGlhbFdvcmtzcGFjZVhtbCAhPT0gJycgPyBCbG9ja2x5LlhtbC50ZXh0VG9Eb20oaW5pdGlhbFdvcmtzcGFjZVhtbCkgOiBudWxsO1xuICAgIHRoaXMuaW5qZWN0V29ya3NwYWNlKGRvbSk7XG5cbiAgICB0aGlzLnJlZnJlc2hTaXplKCk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy53b3Jrc3BhY2UgPT09IG51bGwpIHJldHVybjtcblxuICAgIHRoaXMud29ya3NwYWNlLmRpc3Bvc2UoKTtcbiAgICB0aGlzLndvcmtzcGFjZSA9IG51bGw7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgY29uc3Qge1xuICAgICAgbG9jYWxlOiB7IHJ0bDogcHJldlJ0bCwgbXNnOiBwcmV2TXNnIH0sXG4gICAgfSA9IHByZXZQcm9wcztcbiAgICBjb25zdCB7XG4gICAgICBsb2NhbGU6IHsgcnRsLCBtc2cgfSxcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmICh0aGlzLndvcmtzcGFjZSA9PT0gbnVsbCkgcmV0dXJuO1xuICAgIGNvbnN0IHsgd29ya3NwYWNlIH0gPSB0aGlzO1xuXG4gICAgaWYgKHJ0bCAhPT0gcHJldlJ0bCB8fCBtc2cgIT09IHByZXZNc2cpIHtcbiAgICAgIC8vIHJlLWluamVjdCB3b3Jrc3BhY2UuIHRoaXMgY2xlYXJzIHRoZSB1bmRvLWhpc3RvcnksIGJ1dCBzaG91bGQgd29yayBvdGhlcndpc2VcbiAgICAgIGNvbnN0IGRvbSA9IEJsb2NrbHkuWG1sLndvcmtzcGFjZVRvRG9tKHdvcmtzcGFjZSk7XG4gICAgICB3b3Jrc3BhY2UuZGlzcG9zZSgpO1xuICAgICAgdGhpcy5pbmplY3RXb3Jrc3BhY2UoZG9tKTtcbiAgICB9XG4gIH1cblxuICBpbmplY3RXb3Jrc3BhY2UoZG9tKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcbiAgICBpZiAodGhpcy5ibG9ja2x5UmVmLmN1cnJlbnQgPT09IG51bGwpIHRocm93ICdyZWYgaXMgbnVsbCc7XG5cbiAgICBjb25zdCB7XG4gICAgICBsb2NhbGU6IHsgcnRsLCBtc2cgfSxcbiAgICAgIHdvcmtzcGFjZU9wdGlvbnMsXG4gICAgICB3b3Jrc3BhY2VUcmFuc2Zvcm0sXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBCbG9ja2x5LnNldExvY2FsZShtc2cpO1xuICAgIGNvbnN0IHdvcmtzcGFjZSA9IEJsb2NrbHkuaW5qZWN0KHRoaXMuYmxvY2tseVJlZi5jdXJyZW50LCB7XG4gICAgICAuLi53b3Jrc3BhY2VPcHRpb25zLFxuICAgICAgcnRsLFxuICAgIH0pO1xuXG4gICAgaWYgKGRvbSAhPT0gbnVsbCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gZG9uJ3QgcmVjb3JkIHRoaXMgcmVsb2FkaW5nIG9mIHRoZSB3b3Jrc3BhY2UgZm9yIHVuZG9cbiAgICAgICAgQmxvY2tseS5FdmVudHMucmVjb3JkVW5kbyA9IGZhbHNlO1xuXG4gICAgICAgIEJsb2NrbHkuWG1sLmNsZWFyV29ya3NwYWNlQW5kTG9hZEZyb21YbWwoZG9tLCB3b3Jrc3BhY2UpO1xuXG4gICAgICAgIEJsb2NrbHkuRXZlbnRzLnJlY29yZFVuZG8gPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGV4KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB3b3Jrc3BhY2UuYWRkQ2hhbmdlTGlzdGVuZXIoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMucHJvcHMub25DaGFuZ2UpIHRoaXMucHJvcHMub25DaGFuZ2Uod29ya3NwYWNlKTtcbiAgICB9KTtcblxuICAgIC8vIFRPRE8gdGhpcyBpcyBhIHRlcnJpYmxlIGhhY2ssIGJ1dCB0aGVyZSdzIG5vIHNjcm9sbCBldmVudFxuICAgIC8vIHRyYW5zbGF0ZSBpcyB0aGUgbW9zdCBmdW5kYW1lbnRhbCBpbiBhIHNldCBvZiBtZXRob2RzXG4gICAgLy8gdGhhdCBtb3ZlIGFuZCB6b29tIHRoZSB3b3Jrc3BhY2VcbiAgICAvLyB1c2luZyBhbiBhcnJvdyBmdW5jdGlvbiwgc28gYHRoaXNgIGlzIHRoZSBjb21wb25lbnQgbm90IHRoZSB3b3Jrc3BhY2VcbiAgICBjb25zdCB0cmFuc2xhdGUgPSB3b3Jrc3BhY2UudHJhbnNsYXRlLmJpbmQod29ya3NwYWNlKTtcbiAgICB3b3Jrc3BhY2UudHJhbnNsYXRlID0gKHgsIHkpID0+IHtcbiAgICAgIHRyYW5zbGF0ZSh4LCB5KTtcbiAgICAgIGlmICh0aGlzLnByb3BzLm9uU2Nyb2xsKSB0aGlzLnByb3BzLm9uU2Nyb2xsKHdvcmtzcGFjZSk7XG4gICAgfTtcblxuICAgIGlmICh3b3Jrc3BhY2VUcmFuc2Zvcm0pIHtcbiAgICAgIGNvbnN0IHsgc2Nyb2xsWCwgc2Nyb2xsWSwgc2NhbGUgfSA9IHdvcmtzcGFjZVRyYW5zZm9ybTtcblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHdvcmtzcGFjZS5zZXRTY2FsZShzY2FsZSk7XG4gICAgICAgIHdvcmtzcGFjZS5zY3JvbGwoc2Nyb2xsWCwgc2Nyb2xsWSk7XG4gICAgICB9LCAwKTtcbiAgICB9XG5cbiAgICB0aGlzLndvcmtzcGFjZSA9IHdvcmtzcGFjZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNpemVzIHRoZSB3b3Jrc3BhY2UgdG8gdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGNvbXBvbmVudCdzIGNvbnRhaW5lciBkaXZcbiAgICovXG4gIHJlZnJlc2hTaXplKCkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgYmxvY2tseSA9IHRoaXMuYmxvY2tseVJlZi5jdXJyZW50O1xuICAgIGlmIChjb250YWluZXIgPT09IG51bGwgfHwgYmxvY2tseSA9PT0gbnVsbCB8fCB0aGlzLndvcmtzcGFjZSA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgYmxvY2tseS5zdHlsZS53aWR0aCA9IGAke2NvbnRhaW5lci5vZmZzZXRXaWR0aH1weGA7XG4gICAgYmxvY2tseS5zdHlsZS5oZWlnaHQgPSBgJHtjb250YWluZXIub2Zmc2V0SGVpZ2h0fXB4YDtcbiAgICBCbG9ja2x5LnN2Z1Jlc2l6ZSh0aGlzLndvcmtzcGFjZSk7XG4gIH1cblxuICAvKipcbiAgICogUmVmcmVzaGVzIHRoZSB3b3Jrc3BhY2Ugc2l6ZSBvbiB0aGUgbmV4dCB0aWNrIG9mIHRoZSBldmVudCBsb29wXG4gICAqL1xuICByZWZyZXNoU2l6ZURlZmVycmVkKCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5yZWZyZXNoU2l6ZSgpLCAwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGEgdmlzaWJpbGl0eSBjaGFuZ2Ugb2YgdGhlIHdvcmtzcGFjZS4gV2hlbiBoaWRpbmcsIGhpZGVzIHRoZSBcImNoYWZmXCI7IHdoZW4gc2hvd2luZyxcbiAgICogcmVmcmVzaGVzIHRoZSB3b3Jrc3BhY2Ugc2l6ZS5cbiAgICovXG4gIHVwZGF0ZVZpc2liaWxpdHkodmlzaWJsZTogYm9vbGVhbikge1xuICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICB0aGlzLnJlZnJlc2hTaXplRGVmZXJyZWQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgQmxvY2tseS5oaWRlQ2hhZmYoKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgcmVmPXt0aGlzLmNvbnRhaW5lclJlZn0gY2xhc3NOYW1lPXtzLmJsb2NrbHlDb250YWluZXJ9PlxuICAgICAgICA8ZGl2IHJlZj17dGhpcy5ibG9ja2x5UmVmfSBjbGFzc05hbWU9e3MuYmxvY2tseX0gLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzKShCbG9ja2x5Q29tcG9uZW50KTtcbiIsIlxuICAgIHZhciByZWZzID0gMDtcbiAgICB2YXIgY3NzID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0yIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0zIS4vQmxvY2tseS5zY3NzXCIpO1xuICAgIHZhciBpbnNlcnRDc3MgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9pc29tb3JwaGljLXN0eWxlLWxvYWRlci9pbnNlcnRDc3MuanNcIik7XG4gICAgdmFyIGNvbnRlbnQgPSB0eXBlb2YgY3NzID09PSAnc3RyaW5nJyA/IFtbbW9kdWxlLmlkLCBjc3MsICcnXV0gOiBjc3M7XG5cbiAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBjc3MubG9jYWxzIHx8IHt9O1xuICAgIGV4cG9ydHMuX2dldENvbnRlbnQgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGNvbnRlbnQ7IH07XG4gICAgZXhwb3J0cy5fZ2V0Q3NzID0gZnVuY3Rpb24oKSB7IHJldHVybiAnJyArIGNzczsgfTtcbiAgICBleHBvcnRzLl9pbnNlcnRDc3MgPSBmdW5jdGlvbihvcHRpb25zKSB7IHJldHVybiBpbnNlcnRDc3MoY29udGVudCwgb3B0aW9ucykgfTtcblxuICAgIC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbiAgICAvLyBodHRwczovL3dlYnBhY2suZ2l0aHViLmlvL2RvY3MvaG90LW1vZHVsZS1yZXBsYWNlbWVudFxuICAgIC8vIE9ubHkgYWN0aXZhdGVkIGluIGJyb3dzZXIgY29udGV4dFxuICAgIGlmIChtb2R1bGUuaG90ICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCkge1xuICAgICAgdmFyIHJlbW92ZUNzcyA9IGZ1bmN0aW9uKCkge307XG4gICAgICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0yIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0zIS4vQmxvY2tseS5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBjc3MgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS03LXJ1bGVzLTIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS03LXJ1bGVzLTMhLi9CbG9ja2x5LnNjc3NcIik7XG4gICAgICAgIGNvbnRlbnQgPSB0eXBlb2YgY3NzID09PSAnc3RyaW5nJyA/IFtbbW9kdWxlLmlkLCBjc3MsICcnXV0gOiBjc3M7XG4gICAgICAgIHJlbW92ZUNzcyA9IGluc2VydENzcyhjb250ZW50LCB7IHJlcGxhY2U6IHRydWUgfSk7XG4gICAgICB9KTtcbiAgICAgIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgcmVtb3ZlQ3NzKCk7IH0pO1xuICAgIH1cbiAgIiwiLy8gQGZsb3dcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVzZVN0eWxlcyBmcm9tICdpc29tb3JwaGljLXN0eWxlLWxvYWRlci91c2VTdHlsZXMnO1xuXG5pbXBvcnQgKiBhcyBob29rcyBmcm9tICcuLi8uLi9taXNjL2hvb2tzJztcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNzcy1tb2R1bGVzL25vLXVudXNlZC1jbGFzc1xuaW1wb3J0IHMgZnJvbSAnLi9Db25zb2xlLnNjc3MnO1xuXG50eXBlIENvbnNvbGVJdGVtID0ge3xcbiAga2V5OiBudW1iZXIsXG4gIHRleHQ6IHN0cmluZyxcbiAgc3RyZWFtOiBzdHJpbmcsXG58fTtcblxudHlwZSBDb25zb2xlU3RhdGUgPSB7fFxuICBuZXh0S2V5OiBudW1iZXIsXG4gIGl0ZW1zOiBDb25zb2xlSXRlbVtdLFxufH07XG5cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IHR5cGUgQ29uc29sZUFjdGlvbiA9XG4gIHwge3wgdHlwZTogJ1BSSU5UJywgdGV4dDogc3RyaW5nLCBzdHJlYW06IHN0cmluZyB8fVxuICB8IHt8IHR5cGU6ICdDTEVBUicgfH07XG5cbmZ1bmN0aW9uIGNvbnNvbGVSZWR1Y2VyKHN0YXRlOiBDb25zb2xlU3RhdGUsIGFjdGlvbjogQ29uc29sZUFjdGlvbik6IENvbnNvbGVTdGF0ZSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlICdQUklOVCc6IHtcbiAgICAgIGNvbnN0IGtleSA9IHN0YXRlLm5leHRLZXk7XG4gICAgICBjb25zdCB7IHRleHQsIHN0cmVhbSB9ID0gYWN0aW9uO1xuICAgICAgY29uc3QgbmV3SXRlbSA9IHsga2V5LCB0ZXh0LCBzdHJlYW0gfTtcblxuICAgICAgY29uc3QgbmV4dEtleSA9IHN0YXRlLm5leHRLZXkgKyAxO1xuICAgICAgY29uc3QgaXRlbXMgPSBbLi4uc3RhdGUuaXRlbXMuc2xpY2UoLTk5KSwgbmV3SXRlbV07XG5cbiAgICAgIHJldHVybiB7IG5leHRLZXksIGl0ZW1zIH07XG4gICAgfVxuICAgIGNhc2UgJ0NMRUFSJzoge1xuICAgICAgcmV0dXJuIHsgbmV4dEtleTogMCwgaXRlbXM6IFtdIH07XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICAgICAgdGhyb3cgJ3VucmVhY2hhYmxlJztcbiAgfVxufVxuXG50eXBlIFByb3BzID0ge3xcbiAgb25JbnB1dDogKGlucHV0OiBzdHJpbmcpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+LFxufH07XG50eXBlIEluc3RhbmNlID0ge3xcbiAgcHJpbnQodGV4dDogc3RyaW5nLCBzdHJlYW06IHN0cmluZyk6IHZvaWQsXG4gIGNsZWFyKCk6IHZvaWQsXG58fTtcblxuLyoqXG4gKiBUaGUgQ29uc29sZSBkaXNwbGF5cyBwcm9ncmFtIG91dHB1dHMsIGJ1dCBhbHNvIGFjY2VwdHMgaW5wdXRzLlxuICogVGhhdCBzZWNvbmQgY2FwYWJpbGl0eSBpcyBjdXJyZW50bHkgbm90IHVzZWQsIGV4Y2VwdCBmb3IgYSBkZW1vIFwiL2NsZWFyXCIgY29tbWFuZCxcbiAqIGJ1dCBtYXkgYmUgaG9va2VkIHVwIHRvIHByb2dyYW0gZXhlY3V0aW9uIHRvIGdldCBpbnB1dHMgcGFzc2VkIGludG8gdXNlciBwcm9ncmFtcyBvciBwbHVnaW5zLlxuICovXG5jb25zdCBDb25zb2xlID0gUmVhY3QuZm9yd2FyZFJlZjxQcm9wcywgSW5zdGFuY2U+KCh7IG9uSW5wdXQgfTogUHJvcHMsIHJlZjogUmVmPEluc3RhbmNlPikgPT4ge1xuICBjb25zdCBbeyBpdGVtcyB9LCBkaXNwYXRjaF0gPSBSZWFjdC51c2VSZWR1Y2VyKGNvbnNvbGVSZWR1Y2VyLCB7XG4gICAgbmV4dEtleTogMCxcbiAgICBpdGVtczogW10sXG4gIH0pO1xuICBjb25zdCBpbnB1dFJlZiA9IGhvb2tzLnVzZUVsZW1lbnRSZWY8J2lucHV0Jz4oKTtcbiAgY29uc3QgYm90dG9tUmVmID0gaG9va3MudXNlRWxlbWVudFJlZjwnZGl2Jz4oKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChib3R0b21SZWYuY3VycmVudCAhPT0gbnVsbCkgYm90dG9tUmVmLmN1cnJlbnQuc2Nyb2xsSW50b1ZpZXcoZmFsc2UpO1xuICB9LCBbaXRlbXMsIGJvdHRvbVJlZl0pO1xuXG4gIGZ1bmN0aW9uIHByaW50KHRleHQ6IHN0cmluZywgc3RyZWFtOiBzdHJpbmcpIHtcbiAgICBkaXNwYXRjaCh7IHR5cGU6ICdQUklOVCcsIHRleHQsIHN0cmVhbSB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIGRpc3BhdGNoKHsgdHlwZTogJ0NMRUFSJyB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmIChpbnB1dFJlZi5jdXJyZW50ID09PSBudWxsKSByZXR1cm47XG4gICAgY29uc3QgaW5wdXQgPSBpbnB1dFJlZi5jdXJyZW50LnZhbHVlO1xuICAgIGlucHV0UmVmLmN1cnJlbnQudmFsdWUgPSAnJztcblxuICAgIHByaW50KGlucHV0LCAnc3RkaW4nKTtcbiAgICBvbklucHV0KGlucHV0KTtcbiAgfVxuXG4gIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiAoeyBwcmludCwgY2xlYXIgfSkpO1xuXG4gIHVzZVN0eWxlcyhzKTtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IHN0eWxlPXt7IG92ZXJmbG93WDogJ2F1dG8nLCBoZWlnaHQ6ICcxMDAlJyB9fT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzLnJvb3R9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17cy5vdXRwdXRQYW5lfT5cbiAgICAgICAgICB7aXRlbXMubWFwKCh7IGtleSwgdGV4dCwgc3RyZWFtIH0pID0+IChcbiAgICAgICAgICAgIDxwcmUga2V5PXtrZXl9IGNsYXNzTmFtZT17YCR7cy5vdXRwdXR9ICR7c1tzdHJlYW1dfWB9PlxuICAgICAgICAgICAgICB7dGV4dH1cbiAgICAgICAgICAgIDwvcHJlPlxuICAgICAgICAgICkpfVxuICAgICAgICAgIDxkaXYgcmVmPXtib3R0b21SZWZ9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8Zm9ybSBjbGFzc05hbWU9e3MuaW5wdXRGb3JtfSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fT5cbiAgICAgICAgICAmZ3Q7Jmd0OyZndDsmbmJzcDtcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiByZWY9e2lucHV0UmVmfSAvPlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0pO1xuXG5leHBvcnQgdHlwZSBDb25zb2xlVHlwZSA9IFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIENvbnNvbGU+O1xuZXhwb3J0IGRlZmF1bHQgQ29uc29sZTtcbiIsIlxuICAgIHZhciByZWZzID0gMDtcbiAgICB2YXIgY3NzID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0yIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0zIS4vQ29uc29sZS5zY3NzXCIpO1xuICAgIHZhciBpbnNlcnRDc3MgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9pc29tb3JwaGljLXN0eWxlLWxvYWRlci9pbnNlcnRDc3MuanNcIik7XG4gICAgdmFyIGNvbnRlbnQgPSB0eXBlb2YgY3NzID09PSAnc3RyaW5nJyA/IFtbbW9kdWxlLmlkLCBjc3MsICcnXV0gOiBjc3M7XG5cbiAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBjc3MubG9jYWxzIHx8IHt9O1xuICAgIGV4cG9ydHMuX2dldENvbnRlbnQgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGNvbnRlbnQ7IH07XG4gICAgZXhwb3J0cy5fZ2V0Q3NzID0gZnVuY3Rpb24oKSB7IHJldHVybiAnJyArIGNzczsgfTtcbiAgICBleHBvcnRzLl9pbnNlcnRDc3MgPSBmdW5jdGlvbihvcHRpb25zKSB7IHJldHVybiBpbnNlcnRDc3MoY29udGVudCwgb3B0aW9ucykgfTtcblxuICAgIC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbiAgICAvLyBodHRwczovL3dlYnBhY2suZ2l0aHViLmlvL2RvY3MvaG90LW1vZHVsZS1yZXBsYWNlbWVudFxuICAgIC8vIE9ubHkgYWN0aXZhdGVkIGluIGJyb3dzZXIgY29udGV4dFxuICAgIGlmIChtb2R1bGUuaG90ICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCkge1xuICAgICAgdmFyIHJlbW92ZUNzcyA9IGZ1bmN0aW9uKCkge307XG4gICAgICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0yIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0zIS4vQ29uc29sZS5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBjc3MgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS03LXJ1bGVzLTIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS03LXJ1bGVzLTMhLi9Db25zb2xlLnNjc3NcIik7XG4gICAgICAgIGNvbnRlbnQgPSB0eXBlb2YgY3NzID09PSAnc3RyaW5nJyA/IFtbbW9kdWxlLmlkLCBjc3MsICcnXV0gOiBjc3M7XG4gICAgICAgIHJlbW92ZUNzcyA9IGluc2VydENzcyhjb250ZW50LCB7IHJlcGxhY2U6IHRydWUgfSk7XG4gICAgICB9KTtcbiAgICAgIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgcmVtb3ZlQ3NzKCk7IH0pO1xuICAgIH1cbiAgIiwiLy8gQGZsb3dcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVzZVN0eWxlcyBmcm9tICdpc29tb3JwaGljLXN0eWxlLWxvYWRlci91c2VTdHlsZXMnO1xuXG5pbXBvcnQgQWNlRWRpdG9yIGZyb20gJ3JlYWN0LWFjZSc7XG5pbXBvcnQgJ2FjZS1idWlsZHMvd2VicGFjay1yZXNvbHZlcic7XG5pbXBvcnQgJ2FjZS1idWlsZHMvc3JjLW5vY29uZmxpY3QvbW9kZS1qYXZhc2NyaXB0JztcbmltcG9ydCAnYWNlLWJ1aWxkcy9zcmMtbm9jb25mbGljdC9leHQtbGFuZ3VhZ2VfdG9vbHMnO1xuaW1wb3J0ICdhY2UtYnVpbGRzL3NyYy1ub2NvbmZsaWN0L3RoZW1lLWdpdGh1Yic7XG5cbmltcG9ydCB7IEV4ZWN1dGVJY29uLCBUZXJtaW5hdGVJY29uLCBSZXNldEljb24sIFRlcm1pbmF0ZUFuZFJlc2V0SWNvbiB9IGZyb20gJy4uLy4uL21pc2MvcGFsZXR0ZSc7XG5pbXBvcnQgKiBhcyBob29rcyBmcm9tICcuLi8uLi9taXNjL2hvb2tzJztcblxuaW1wb3J0IHsgdHlwZSBFeGVjdXRpb25BY3Rpb24gfSBmcm9tICcuLi9JZGUnO1xuaW1wb3J0IFRvb2xCYXIgZnJvbSAnLi4vVG9vbEJhcic7XG5pbXBvcnQgVG9vbEJhckljb25CdXR0b24gZnJvbSAnLi4vVG9vbEJhci9Ub29sQmFySWNvbkJ1dHRvbic7XG5pbXBvcnQgVG9vbEJhckl0ZW0gZnJvbSAnLi4vVG9vbEJhci9Ub29sQmFySXRlbSc7XG5cbmltcG9ydCBzIGZyb20gJy4vRWRpdG9yLnNjc3MnO1xuXG5pbXBvcnQgdXNlRmlsZSwgeyBQcm9qZWN0IH0gZnJvbSAnLi4vdXNlRmlsZSc7XG5cbnR5cGUgUHJvcHMgPSB7fFxuICBsYXlvdXROb2RlOiBhbnksXG4gIHByb2plY3Q6IFByb2plY3QsXG4gIHBhdGg6IHN0cmluZyxcbiAgb25FeGVjdXRpb25BY3Rpb246IChhY3Rpb246IEV4ZWN1dGlvbkFjdGlvbikgPT4gdm9pZCB8IFByb21pc2U8dm9pZD4sXG4gIHJ1bm5pbmc6IGJvb2xlYW4sXG58fTtcblxuLyoqXG4gKiBXcmFwcyBhbiBgQWNlRWRpdG9yYCBmb3IgZGlzcGxheSBpbiBhIGBGbGV4TGF5b3V0YCB0YWIsXG4gKiBhbmQgZm9yIGVkaXRpbmcgdGhlIGNvbnRlbnRzIG9mIGEgcHJvamVjdCBmaWxlLlxuICpcbiAqIEJlc2lkZXMgdGhlIGVkaXRvciBzdXJmYWNlLCB0aGUgZWRpdG9yJ3MgdG9vbGJhciBhbGxvd3MgcnVubmluZyBhbmQgdGVybWluYXRpbmcgcHJvZ3JhbXMsXG4gKiBhbmQgcmVzZXR0aW5nIHRoZSBzaW11bGF0aW9uLlxuICovXG5mdW5jdGlvbiBFZGl0b3IoeyBsYXlvdXROb2RlLCBwcm9qZWN0LCBwYXRoLCBvbkV4ZWN1dGlvbkFjdGlvbiwgcnVubmluZyB9OiBQcm9wcykge1xuICBjb25zdCBbW3dpZHRoLCBoZWlnaHRdLCBzZXREaW1lbnNpb25dID0gUmVhY3QudXNlU3RhdGU8W3N0cmluZywgc3RyaW5nXT4oWycwJywgJzAnXSk7XG4gIGNvbnN0IGNvbnRhaW5lclJlZiA9IGhvb2tzLnVzZUVsZW1lbnRSZWY8J2Rpdic+KCk7XG5cbiAgY29uc3QgW2NvbnRlbnQsIHNldENvbnRlbnRdID0gdXNlRmlsZShwcm9qZWN0LCBwYXRoLCAndXRmOCcpO1xuXG4gIC8vIHVwZGF0ZSBlZGl0b3Igc2l6ZSB3aGVuIHRoZSBjb250YWluaW5nIHRhYiBpcyByZXNpemVkIG9yIG1hZGUgdmlzaWJsZVxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoY29udGFpbmVyUmVmLmN1cnJlbnQgPT09IG51bGwpIHJldHVybjtcbiAgICAgICAgc2V0RGltZW5zaW9uKFtcbiAgICAgICAgICBgJHtjb250YWluZXJSZWYuY3VycmVudC5vZmZzZXRXaWR0aH1weGAsXG4gICAgICAgICAgYCR7Y29udGFpbmVyUmVmLmN1cnJlbnQub2Zmc2V0SGVpZ2h0fXB4YCxcbiAgICAgICAgXSk7XG4gICAgICB9LCAwKTtcbiAgICB9O1xuXG4gICAgbGF5b3V0Tm9kZS5zZXRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xuICAgIGxheW91dE5vZGUuc2V0RXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eScsIGhhbmRsZVJlc2l6ZSk7XG4gICAgaGFuZGxlUmVzaXplKCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgbGF5b3V0Tm9kZS5zZXRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBudWxsKTtcbiAgICAgIGxheW91dE5vZGUuc2V0RXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eScsIG51bGwpO1xuICAgIH07XG4gIH0sIFtsYXlvdXROb2RlLCBjb250YWluZXJSZWZdKTtcblxuICB1c2VTdHlsZXMocyk7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Mucm9vdH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17cy5jb250YWluZXJ9IHJlZj17Y29udGFpbmVyUmVmfT5cbiAgICAgICAge2NvbnRlbnQgPT09IG51bGwgPyBudWxsIDogKFxuICAgICAgICAgIDxBY2VFZGl0b3JcbiAgICAgICAgICAgIG1vZGU9XCJqYXZhc2NyaXB0XCJcbiAgICAgICAgICAgIHRoZW1lPVwiZ2l0aHViXCJcbiAgICAgICAgICAgIG5hbWU9XCJlZGl0b3JcIlxuICAgICAgICAgICAgd2lkdGg9e3dpZHRofVxuICAgICAgICAgICAgaGVpZ2h0PXtoZWlnaHR9XG4gICAgICAgICAgICAvLyBvbkxvYWQ9e29uTG9hZH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtzZXRDb250ZW50fVxuICAgICAgICAgICAgZm9udFNpemU9ezE2fVxuICAgICAgICAgICAgLy8gb25TZWxlY3Rpb25DaGFuZ2U9e29uU2VsZWN0aW9uQ2hhbmdlfVxuICAgICAgICAgICAgLy8gb25DdXJzb3JDaGFuZ2U9e29uQ3Vyc29yQ2hhbmdlfVxuICAgICAgICAgICAgLy8gb25WYWxpZGF0ZT17b25WYWxpZGF0ZX1cbiAgICAgICAgICAgIHZhbHVlPXtjb250ZW50fVxuICAgICAgICAgICAgc2hvd0d1dHRlclxuICAgICAgICAgICAgaGlnaGxpZ2h0QWN0aXZlTGluZVxuICAgICAgICAgICAgYXV0b1Njcm9sbEVkaXRvckludG9WaWV3XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBzZXRPcHRpb25zPXt7XG4gICAgICAgICAgICAgIGVuYWJsZUJhc2ljQXV0b2NvbXBsZXRpb246IHRydWUsXG4gICAgICAgICAgICAgIGVuYWJsZUxpdmVBdXRvY29tcGxldGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgLy8gZW5hYmxlU25pcHBldHM6IGVuYWJsZVNuaXBwZXRzLFxuICAgICAgICAgICAgICBzaG93TGluZU51bWJlcnM6IHRydWUsXG4gICAgICAgICAgICAgIHRhYlNpemU6IDIsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxUb29sQmFyPlxuICAgICAgICA8VG9vbEJhckl0ZW0+XG4gICAgICAgICAgPFRvb2xCYXJJY29uQnV0dG9uXG4gICAgICAgICAgICBpY29uPXtFeGVjdXRlSWNvbn1cbiAgICAgICAgICAgIGNvbG9yPVwibGltZWdyZWVuXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGNvbnRlbnQgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgb25FeGVjdXRpb25BY3Rpb24oe1xuICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnRVhFQ1VURScsXG4gICAgICAgICAgICAgICAgICBjb2RlOiBjb250ZW50LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGRpc2FibGVSaXBwbGVcbiAgICAgICAgICAgIGRpc2FibGVkPXtydW5uaW5nIHx8IGNvbnRlbnQgPT09IG51bGx9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Ub29sQmFySXRlbT5cbiAgICAgICAge3J1bm5pbmcgPyAoXG4gICAgICAgICAgPFRvb2xCYXJJdGVtIGtleT1cInRlcm1pbmF0ZS1hbmQtcmVzZXRcIj5cbiAgICAgICAgICAgIDxUb29sQmFySWNvbkJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgb25FeGVjdXRpb25BY3Rpb24oe1xuICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnVEVSTUlOQVRFJyxcbiAgICAgICAgICAgICAgICAgIHJlc2V0OiB0cnVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBpY29uPXtUZXJtaW5hdGVBbmRSZXNldEljb259XG4gICAgICAgICAgICAgIGNvbG9yPVwicmVkXCJcbiAgICAgICAgICAgICAgZGlzYWJsZVJpcHBsZVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L1Rvb2xCYXJJdGVtPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxUb29sQmFySXRlbSBrZXk9XCJyZXNldFwiPlxuICAgICAgICAgICAgPFRvb2xCYXJJY29uQnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICBvbkV4ZWN1dGlvbkFjdGlvbih7XG4gICAgICAgICAgICAgICAgICBhY3Rpb246ICdSRVNFVCcsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGljb249e1Jlc2V0SWNvbn1cbiAgICAgICAgICAgICAgZGlzYWJsZVJpcHBsZVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L1Rvb2xCYXJJdGVtPlxuICAgICAgICApfVxuICAgICAgICA8VG9vbEJhckl0ZW0+XG4gICAgICAgICAgPFRvb2xCYXJJY29uQnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgIG9uRXhlY3V0aW9uQWN0aW9uKHtcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdURVJNSU5BVEUnLFxuICAgICAgICAgICAgICAgIHJlc2V0OiBmYWxzZSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgaWNvbj17VGVybWluYXRlSWNvbn1cbiAgICAgICAgICAgIGNvbG9yPVwicmVkXCJcbiAgICAgICAgICAgIGRpc2FibGVSaXBwbGVcbiAgICAgICAgICAgIGRpc2FibGVkPXshcnVubmluZ31cbiAgICAgICAgICAvPlxuICAgICAgICA8L1Rvb2xCYXJJdGVtPlxuICAgICAgPC9Ub29sQmFyPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBFZGl0b3I7XG4iLCJcbiAgICB2YXIgcmVmcyA9IDA7XG4gICAgdmFyIGNzcyA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTctcnVsZXMtMiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTctcnVsZXMtMyEuL0VkaXRvci5zY3NzXCIpO1xuICAgIHZhciBpbnNlcnRDc3MgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9pc29tb3JwaGljLXN0eWxlLWxvYWRlci9pbnNlcnRDc3MuanNcIik7XG4gICAgdmFyIGNvbnRlbnQgPSB0eXBlb2YgY3NzID09PSAnc3RyaW5nJyA/IFtbbW9kdWxlLmlkLCBjc3MsICcnXV0gOiBjc3M7XG5cbiAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBjc3MubG9jYWxzIHx8IHt9O1xuICAgIGV4cG9ydHMuX2dldENvbnRlbnQgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGNvbnRlbnQ7IH07XG4gICAgZXhwb3J0cy5fZ2V0Q3NzID0gZnVuY3Rpb24oKSB7IHJldHVybiAnJyArIGNzczsgfTtcbiAgICBleHBvcnRzLl9pbnNlcnRDc3MgPSBmdW5jdGlvbihvcHRpb25zKSB7IHJldHVybiBpbnNlcnRDc3MoY29udGVudCwgb3B0aW9ucykgfTtcblxuICAgIC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbiAgICAvLyBodHRwczovL3dlYnBhY2suZ2l0aHViLmlvL2RvY3MvaG90LW1vZHVsZS1yZXBsYWNlbWVudFxuICAgIC8vIE9ubHkgYWN0aXZhdGVkIGluIGJyb3dzZXIgY29udGV4dFxuICAgIGlmIChtb2R1bGUuaG90ICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCkge1xuICAgICAgdmFyIHJlbW92ZUNzcyA9IGZ1bmN0aW9uKCkge307XG4gICAgICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0yIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0zIS4vRWRpdG9yLnNjc3NcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNzcyA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTctcnVsZXMtMiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTctcnVsZXMtMyEuL0VkaXRvci5zY3NzXCIpO1xuICAgICAgICBjb250ZW50ID0gdHlwZW9mIGNzcyA9PT0gJ3N0cmluZycgPyBbW21vZHVsZS5pZCwgY3NzLCAnJ11dIDogY3NzO1xuICAgICAgICByZW1vdmVDc3MgPSBpbnNlcnRDc3MoY29udGVudCwgeyByZXBsYWNlOiB0cnVlIH0pO1xuICAgICAgfSk7XG4gICAgICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHJlbW92ZUNzcygpOyB9KTtcbiAgICB9XG4gICIsIi8vIEBmbG93XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBUYXNrRXhlY3V0b3IsIHsgdHlwZSBDb21tYW5kSGFuZGxlciB9IGZyb20gJy4vVGFza0V4ZWN1dG9yJztcbmltcG9ydCB7IHR5cGUgSGFuZGxlciBhcyBTZGtDb21tYW5kSGFuZGxlciB9IGZyb20gJy4uLy4uLy4uL3Nkay9iYXNlJztcblxuaW1wb3J0IHsgbWFwT2JqZWN0IH0gZnJvbSAnLi4vLi4vLi4vdXRpbCc7XG5cbmV4cG9ydCB0eXBlIFRhc2sgPSB7fFxuICBuYW1lOiBzdHJpbmcsXG4gIGNvZGU6IHN0cmluZyxcbiAgYXBpOiB7XG4gICAgW2NvbW1hbmQ6IHN0cmluZ106IFNka0NvbW1hbmRIYW5kbGVyPD4sXG4gIH0sXG58fTtcblxuZXhwb3J0IGNsYXNzIFRhc2tIYW5kbGUge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgZXhlY3V0b3I6IEV4ZWN1dG9yO1xuICB0YXNrOiBUYXNrO1xuXG4gIGhhbmRsZXJzOiB7XG4gICAgW2NvbW1hbmQ6IHN0cmluZ106IENvbW1hbmRIYW5kbGVyLFxuICB9O1xuICBmcmFtZTogUmVhY3QuRWxlbWVudFJlZjwnaWZyYW1lJz4gfCBudWxsID0gbnVsbDtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgY29uc3RydWN0b3IoZXhlY3V0b3I6IEV4ZWN1dG9yLCB0YXNrOiBUYXNrKSB7XG4gICAgdGhpcy5leGVjdXRvciA9IGV4ZWN1dG9yO1xuICAgIHRoaXMudGFzayA9IHRhc2s7XG5cbiAgICB0aGlzLmhhbmRsZXJzID0ge1xuICAgICAgLi4ubWFwT2JqZWN0KFxuICAgICAgICB0YXNrLmFwaSxcbiAgICAgICAgLy8gZm9yIGVhY2ggaGFuZGxlciwgY3JlYXRlIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyB0aGUgcGF5bG9hZCBhbmQgaW52b2tlcyB0aGUgaGFuZGxlclxuICAgICAgICAoaGFuZGxlcikgPT4gKHBheWxvYWQpID0+IGhhbmRsZXIocGF5bG9hZCwgdGhpcyksXG4gICAgICApLFxuICAgICAgLy8gYnVpbHQtaW4gaGFuZGxlcnNcbiAgICAgIHN1YnNjcmliZTogdGhpcy5zdWJzY3JpYmUsXG4gICAgICBjYWxsOiB0aGlzLmNhbGwsXG4gICAgICBlbWl0OiB0aGlzLmVtaXQsXG4gICAgICByZXBseTogdGhpcy5yZXBseSxcbiAgICAgIGVycm9yUmVwbHk6IHRoaXMuZXJyb3JSZXBseSxcbiAgICB9O1xuICB9XG5cbiAgLy8gaGFuZGxlcnMgdG8gYmUgcGFzc2VkIGludG8gY29tcG9uZW50cy4gYXJyb3cgZnVuY3Rpb25zIGJlY2F1c2Ugb2YgYmluZGluZ1xuXG4gIC8vIHVzZWQgYXMgdGhlIGNvbXBvbmVudCByZWYgZm9yIFRhc2tFeGVjdXRvciwgd2hpY2ggaGFzIHRoZSBpbnN0YW5jZSB0eXBlIGlmcmFtZVxuICBzZXRGcmFtZSA9IChmcmFtZTogUmVhY3QuRWxlbWVudFJlZjwnaWZyYW1lJz4gfCBudWxsKSA9PiB7XG4gICAgdGhpcy5mcmFtZSA9IGZyYW1lO1xuICB9O1xuXG4gIC8vIG1lc3NhZ2UgaGFuZGxlcnNcblxuICBzdWJzY3JpYmUgPSAoeyBldmVudCB9KSA9PiB7XG4gICAgdGhpcy5leGVjdXRvci5yZWdpc3RlckZvckV2ZW50cyhldmVudCwgdGhpcy5vbkV2ZW50KTtcbiAgfTtcblxuICBjYWxsID0gKHsgcmVjZWl2ZXIsIGNvbW1hbmQsIHBheWxvYWQgfSkgPT4ge1xuICAgIGNvbnN0IHJlY2VpdmVySGFuZGxlID0gdGhpcy5leGVjdXRvci5nZXRUYXNrSGFuZGxlKHJlY2VpdmVyKTtcbiAgICAvLyBUT0RPIHdpdGhvdXQga25vd2luZyB3aGV0aGVyIHRoZSBjYWxsIGV4cGVjdHMgYSByZXR1cm4gdmFsdWUgdGhlcmUgaXMgbm8gd2F5IHRvIHJlcG9ydCB0aGUgZXJyb3IgcHJvcGVybHlcbiAgICBpZiAocmVjZWl2ZXJIYW5kbGUgPT09IG51bGwpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIGB1bmtub3duIHJlY2VpdmluZyB0YXNrICcke3JlY2VpdmVyfScgZm9yIGNhbGwgJHtjb21tYW5kfSgpIHdpdGggcGF5bG9hZGAsXG4gICAgICAgIHBheWxvYWQsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJlY2VpdmVySGFuZGxlLnNlbmRDYWxsKHRoaXMudGFzay5uYW1lLCBjb21tYW5kLCBwYXlsb2FkKTtcbiAgfTtcblxuICBlbWl0ID0gKHsgZXZlbnQsIHBheWxvYWQgfSkgPT4ge1xuICAgIHRoaXMuZXhlY3V0b3Iuc2VuZEV2ZW50KHRoaXMudGFzay5uYW1lLCBldmVudCwgcGF5bG9hZCk7XG4gIH07XG5cbiAgcmVwbHkgPSAoeyByZWNlaXZlciwgdmFsdWUgfSkgPT4ge1xuICAgIGNvbnN0IHJlY2VpdmVySGFuZGxlID0gdGhpcy5leGVjdXRvci5nZXRUYXNrSGFuZGxlKHJlY2VpdmVyKTtcbiAgICAvLyBldmVuIGxlc3MgY2hhbmNlIHRvIHJlcG9ydCBiYWNrIHRoZSBlcnJvciBmb3IgYSByZXBseS4gbG9nIHRvIGNvbnNvbGVcbiAgICBpZiAocmVjZWl2ZXJIYW5kbGUgPT09IG51bGwpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYHVua25vd24gcmVjZWl2aW5nIHRhc2sgJyR7cmVjZWl2ZXJ9JyBmb3IgcmVwbHkgd2l0aCB2YWx1ZWAsIHZhbHVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZWNlaXZlckhhbmRsZS5zZW5kUmVwbHkodGhpcy50YXNrLm5hbWUsIHZhbHVlKTtcbiAgfTtcblxuICBlcnJvclJlcGx5ID0gKHsgcmVjZWl2ZXIsIGVycm9yIH0pID0+IHtcbiAgICBjb25zdCByZWNlaXZlckhhbmRsZSA9IHRoaXMuZXhlY3V0b3IuZ2V0VGFza0hhbmRsZShyZWNlaXZlcik7XG4gICAgLy8gZXZlbiBsZXNzIGNoYW5jZSB0byByZXBvcnQgYmFjayB0aGUgZXJyb3IgZm9yIGEgcmVwbHkuIGxvZyB0byBjb25zb2xlXG4gICAgaWYgKHJlY2VpdmVySGFuZGxlID09PSBudWxsKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGB1bmtub3duIHJlY2VpdmluZyB0YXNrICcke3JlY2VpdmVyfScgZm9yIHJlcGx5IHdpdGggZXJyb3JgLCBlcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmVjZWl2ZXJIYW5kbGUuc2VuZEVycm9yUmVwbHkodGhpcy50YXNrLm5hbWUsIGVycm9yKTtcbiAgfTtcblxuICAvLyBldmVudCBoYW5kbGVyXG4gIG9uRXZlbnQgPSAoc2VuZGVyOiBzdHJpbmcgfCBudWxsLCBldmVudDogc3RyaW5nLCBwYXlsb2FkOiBhbnkpID0+IHtcbiAgICB0aGlzLnNlbmRFdmVudChzZW5kZXIsIGV2ZW50LCBwYXlsb2FkKTtcbiAgfTtcblxuICAvLyBwdWJsaWMgQVBJXG5cbiAgc2VuZE1lc3NhZ2Uoc2VuZGVyOiBzdHJpbmcgfCBudWxsLCBjb21tYW5kOiBzdHJpbmcsIHBheWxvYWQ6IGFueSkge1xuICAgIGlmICh0aGlzLmZyYW1lID09PSBudWxsKSByZXR1cm47XG4gICAgdGhpcy5mcmFtZS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHsgc2VuZGVyLCBjb21tYW5kLCBwYXlsb2FkIH0sICcqJyk7XG4gIH1cblxuICBzZW5kQ2FsbChzZW5kZXI6IHN0cmluZyB8IG51bGwsIGNvbW1hbmQ6IHN0cmluZywgcGF5bG9hZDogYW55KSB7XG4gICAgdGhpcy5zZW5kTWVzc2FnZShzZW5kZXIsICdjYWxsJywgeyBjb21tYW5kLCBwYXlsb2FkIH0pO1xuICB9XG5cbiAgc2VuZEV2ZW50KHNlbmRlcjogc3RyaW5nIHwgbnVsbCwgZXZlbnQ6IHN0cmluZywgcGF5bG9hZDogYW55KSB7XG4gICAgdGhpcy5zZW5kTWVzc2FnZShzZW5kZXIsICdldmVudCcsIHsgZXZlbnQsIHBheWxvYWQgfSk7XG4gIH1cblxuICBzZW5kUmVwbHkoc2VuZGVyOiBzdHJpbmcgfCBudWxsLCB2YWx1ZTogYW55KSB7XG4gICAgdGhpcy5zZW5kTWVzc2FnZShzZW5kZXIsICdyZXBseScsIHZhbHVlKTtcbiAgfVxuXG4gIHNlbmRFcnJvclJlcGx5KHNlbmRlcjogc3RyaW5nIHwgbnVsbCwgZXJyb3I6IGFueSkge1xuICAgIHRoaXMuc2VuZE1lc3NhZ2Uoc2VuZGVyLCAnZXJyb3JSZXBseScsIGVycm9yKTtcbiAgfVxuXG4gIGFzeW5jIHdpdGhSZXBseShzZW5kZXI6IHN0cmluZyB8IG51bGwsIGNiOiAoKSA9PiBhbnkgfCBQcm9taXNlPGFueT4pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBjYigpO1xuICAgICAgdGhpcy5zZW5kUmVwbHkoc2VuZGVyLCB2YWx1ZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3Ioc2VuZGVyLCBlcnJvcik7XG4gICAgICB0aGlzLnNlbmRFcnJvclJlcGx5KGVycm9yLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgfVxufVxuXG50eXBlIEV2ZW50TGlzdGVuZXIgPSAoc2VuZGVyOiBzdHJpbmcgfCBudWxsLCBldmVudDogc3RyaW5nLCBwYXlsb2FkOiBhbnkpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+O1xuXG50eXBlIFByb3BUeXBlcyA9IHt8fH07XG50eXBlIFN0YXRlVHlwZXMgPSB7fFxuICB0YXNrSGFuZGxlTGlzdDogVGFza0hhbmRsZVtdLFxufH07XG5cbi8qKlxuICogVGhlIGV4ZWN1dG9yIG1hbmFnZXMgdGFza3MgdGhhdCBhcmUgcnVubmluZyBpbiBzYW5kYm94ZWQgaWZyYW1lcy5cbiAqIFRoZSBtb3N0IGNvbW1vbiBraW5kIG9mIHRhc2sgaXMgYSB1c2VyIHByb2dyYW0sXG4gKiBvdGhlcnMgYXJlIHBsdWdpbnMgdGhhdCBjYW4gaW50ZXJhY3Qgd2l0aCB0aG9zZSBwcm9ncmFtcywgdGhlIHNpbXVsYXRpb24gZW52aXJvbm1lbnQsIGV0Yy4gdmlhIHRoZSBTREsuXG4gKlxuICogVGhlIGBUYXNrYCB0eXBlIGV4cG9ydGVkIGhlcmUgcmVwcmVzZW50cyBhIHdvcmtsb2FkIHRvIGJlIHJ1biBieSB0aGUgRXhlY3V0b3IuXG4gKiBUaGUgZXhlY3V0b3IgdGhlbiBjcmVhdGVzIGEgYFRhc2tFeGVjdXRvcmAgdGhhdCBydW5zIHRoYXQgd29ya2xvYWQuXG4gKi9cbmNsYXNzIEV4ZWN1dG9yIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFByb3BUeXBlcywgU3RhdGVUeXBlcz4ge1xuICB0YXNrSGFuZGxlczogTWFwPHN0cmluZywgVGFza0hhbmRsZT4gPSBuZXcgTWFwKCk7XG4gIGV2ZW50UmVnaXN0cnk6IE1hcDxzdHJpbmcsIFNldDxFdmVudExpc3RlbmVyPj4gPSBuZXcgTWFwKCk7XG5cbiAgc3RhdGUgPSB7XG4gICAgdGFza0hhbmRsZUxpc3Q6IFtdLFxuICB9O1xuXG4gIGFkZFRhc2sodGFzazogVGFzayk6IFRhc2sge1xuICAgIGNvbnN0IHRhc2tIYW5kbGUgPSBuZXcgVGFza0hhbmRsZSh0aGlzLCB0YXNrKTtcbiAgICB0aGlzLnRhc2tIYW5kbGVzLnNldCh0YXNrLm5hbWUsIHRhc2tIYW5kbGUpO1xuICAgIHRoaXMuc2V0U3RhdGUoKHN0YXRlKSA9PiAoe1xuICAgICAgdGFza0hhbmRsZUxpc3Q6IFsuLi5zdGF0ZS50YXNrSGFuZGxlTGlzdCwgdGFza0hhbmRsZV0sXG4gICAgfSkpO1xuICAgIHJldHVybiB0YXNrO1xuICB9XG5cbiAgcmVtb3ZlVGFzayh0YXNrTmFtZTogc3RyaW5nKSB7XG4gICAgY29uc3QgdGFza0hhbmRsZSA9IHRoaXMuZ2V0VGFza0hhbmRsZSh0YXNrTmFtZSk7XG4gICAgaWYgKHRhc2tIYW5kbGUgPT09IG51bGwpIHJldHVybjtcblxuICAgIHRoaXMuc2V0U3RhdGUoKHN0YXRlKSA9PiAoe1xuICAgICAgdGFza0hhbmRsZUxpc3Q6IHN0YXRlLnRhc2tIYW5kbGVMaXN0LmZpbHRlcigodCkgPT4gdCAhPT0gdGFza0hhbmRsZSksXG4gICAgfSkpO1xuICAgIHRoaXMudGFza0hhbmRsZXMuZGVsZXRlKHRhc2tOYW1lKTtcbiAgICBmb3IgKGNvbnN0IGxpc3RlbmVycyBvZiB0aGlzLmV2ZW50UmVnaXN0cnkudmFsdWVzKCkpIHtcbiAgICAgIGxpc3RlbmVycy5kZWxldGUodGFza0hhbmRsZS5vbkV2ZW50KTtcbiAgICB9XG4gIH1cblxuICBnZXRUYXNrSGFuZGxlKHRhc2tOYW1lOiBzdHJpbmcpOiBUYXNrSGFuZGxlIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMudGFza0hhbmRsZXMuZ2V0KHRhc2tOYW1lKSA/PyBudWxsO1xuICB9XG5cbiAgcmVnaXN0ZXJGb3JFdmVudHMoZXZlbnQ6IHN0cmluZywgbGlzdGVuZXI6IEV2ZW50TGlzdGVuZXIpIHtcbiAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5ldmVudFJlZ2lzdHJ5LmdldChldmVudCk7XG5cbiAgICAvLyBjcmVhdGUgbGlzdGVuZXJzIGFycmF5IGlmIG5lY2Vzc2FyeVxuICAgIGlmIChsaXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgbGlzdGVuZXJzID0gbmV3IFNldCgpO1xuICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LnNldChldmVudCwgbGlzdGVuZXJzKTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgfVxuXG4gIHNlbmRFdmVudChzZW5kZXI6IHN0cmluZyB8IG51bGwsIGV2ZW50OiBzdHJpbmcsIHBheWxvYWQ6IGFueSkge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuZXZlbnRSZWdpc3RyeS5nZXQoZXZlbnQpO1xuICAgIGlmIChsaXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgbGlzdGVuZXJzKSB7XG4gICAgICBsaXN0ZW5lcihzZW5kZXIsIGV2ZW50LCBwYXlsb2FkKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyB0YXNrSGFuZGxlTGlzdCB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIHJldHVybiAoXG4gICAgICA8PlxuICAgICAgICB7dGFza0hhbmRsZUxpc3QubWFwKCh0YXNrSGFuZGxlKSA9PiAoXG4gICAgICAgICAgPFRhc2tFeGVjdXRvclxuICAgICAgICAgICAga2V5PXt0YXNrSGFuZGxlLnRhc2submFtZX1cbiAgICAgICAgICAgIHJlZj17dGFza0hhbmRsZS5zZXRGcmFtZX1cbiAgICAgICAgICAgIGNvZGU9e2ByZXR1cm4gKGFzeW5jICgpID0+IHske3Rhc2tIYW5kbGUudGFzay5jb2RlfVxcbn0pKCk7YH1cbiAgICAgICAgICAgIGhhbmRsZXJzPXt0YXNrSGFuZGxlLmhhbmRsZXJzfVxuICAgICAgICAgIC8+XG4gICAgICAgICkpfVxuICAgICAgPC8+XG4gICAgKTtcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgRXhlY3V0b3I7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbnR5cGUgRXhlY3V0b3JNZXNzYWdlID0ge1xuICBjb21tYW5kOiBzdHJpbmcsXG4gIHBheWxvYWQ6IGFueSxcbn07XG5cbmV4cG9ydCB0eXBlIENvbW1hbmRIYW5kbGVyID0gKHBheWxvYWQ6IGFueSkgPT4gdm9pZCB8IFByb21pc2U8dm9pZD47XG5cbnR5cGUgUHJvcHMgPSB7fFxuICBjb2RlOiBzdHJpbmcsXG4gIGhhbmRsZXJzOiB7XG4gICAgW2NvbW1hbmQ6IHN0cmluZ106IENvbW1hbmRIYW5kbGVyLFxuICB9LFxufH07XG50eXBlIEluc3RhbmNlID0gUmVhY3QuRWxlbWVudFJlZjwnaWZyYW1lJz47XG5cbmNvbnN0IGZldGNoRXhlY3V0b3JEb2MgPSBmZXRjaCgnL2V4ZWN1dG9yJykudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLnRleHQoKSk7XG5cbi8qKlxuICogQSBUYXNrRXhlY3V0b3IgZW5jYXBzdWxhdGVzIGEgc2luZ2xlIGhpZGRlbiwgc2FuZGJveGVkIGlmcmFtZSBjb250YWluaW5nIHRoZSBgL2V4ZWN1dG9yYCBkb2N1bWVudC5cbiAqIFRhc2tFeGVjdXRvcnMgYXJlIG1hbmFnZWQgYnkgYW4gZXhlY3V0b3IuXG4gKlxuICogVGhlIGNvbXBvbmVudCBzZXRzIHVwIGNvbW11bmljYXRpb24gZmFjaWxpdGllcyBmb3IgY29tbXVuaWNhdGlvbiBiZXR3ZWVuIHRoZSBpZnJhbWUgYW5kIHRoZSBJREUuXG4gKi9cbmNvbnN0IFRhc2tFeGVjdXRvciA9IFJlYWN0LmZvcndhcmRSZWY8UHJvcHMsIEluc3RhbmNlPihcbiAgKHsgY29kZSwgaGFuZGxlcnMgfTogUHJvcHMsIHJlZjogUmVmPEluc3RhbmNlPikgPT4ge1xuICAgIC8vIGxvYWQgdGhlIGV4ZWN1dG9yRG9jIGluIHRoZSBiZWdpbm5pbmdcbiAgICBjb25zdCBbZXhlY3V0b3JEb2MsIHNldEV4ZWN1dG9yRG9jXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBmZXRjaEV4ZWN1dG9yRG9jLnRoZW4oc2V0RXhlY3V0b3JEb2MpO1xuICAgIH0sIFtdKTtcblxuICAgIC8vIHRoZSBmcmFtZSwgc3RvcmVkIGZvciBsb2NhbCB1c2VcbiAgICBjb25zdCBbZnJhbWUsIHNldEZyYW1lXSA9IFJlYWN0LnVzZVN0YXRlPFJlYWN0LkVsZW1lbnRSZWY8J2lmcmFtZSc+IHwgbnVsbD4obnVsbCk7XG4gICAgLy8gdXNlcyB1c2VDYWxsYmFjayBiZWNhdXNlIG90aGVyd2lzZSBlYWNoIHJlbmRlciByZXNldHMgdGhlIHJlZi5cbiAgICAvLyAodGhlIHJlZiBjb3VsZCBiZSByZWdpc3RlcmVkIHdpdGggYSBuZXcgY2FsbGJhY2ssIHNvIHRoZSBjYWxsYmFjayBuZWVkcyB0byBiZSBzdGFibGUpXG4gICAgY29uc3QgYXR0YWNoRnJhbWUgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAgIChmKSA9PiB7XG4gICAgICAgIC8vIHNldCB0aGUgcmVmIGZvciB0aGlzIGNvbXBvbmVudFxuICAgICAgICBpZiAodHlwZW9mIHJlZiA9PT0gJ2Z1bmN0aW9uJykgcmVmKGYpO1xuICAgICAgICBlbHNlIHJlZi5jdXJyZW50ID0gZjtcbiAgICAgICAgLy8gc2V0IHRoZSBmcmFtZSBzdGF0ZSB2YXJpYWJsZVxuICAgICAgICBzZXRGcmFtZShmKTtcbiAgICAgIH0sXG4gICAgICBbcmVmXSxcbiAgICApO1xuXG4gICAgLy8gcmVnaXN0ZXIgbWVzc2FnZSBsaXN0ZW5lclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBpZiAoZnJhbWUgPT09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgIGZ1bmN0aW9uIHJlY2VpdmVNZXNzYWdlKHsgZGF0YSwgb3JpZ2luLCBzb3VyY2UgfTogTWVzc2FnZUV2ZW50KSB7XG4gICAgICAgIGlmIChvcmlnaW4gIT09ICdudWxsJyB8fCBzb3VyY2UgIT09IGZyYW1lLmNvbnRlbnRXaW5kb3cpIHJldHVybjtcblxuICAgICAgICBjb25zdCB7IGNvbW1hbmQsIHBheWxvYWQgfSA9XG4gICAgICAgICAgLy8gaWYgdGhlIHNvdXJjZSBpcyB3aGF0IHdlIGV4cGVjdGVkLCB3ZSBhc3N1bWUgdGhlIGRhdGEgaXMgdmFsaWRcbiAgICAgICAgICAvLyAkRmxvd0V4cGVjdEVycm9yXG4gICAgICAgICAgKGRhdGE6IEV4ZWN1dG9yTWVzc2FnZSk7XG5cbiAgICAgICAgaGFuZGxlcnNbY29tbWFuZF0/LihwYXlsb2FkKTtcbiAgICAgIH1cblxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCByZWNlaXZlTWVzc2FnZSwgZmFsc2UpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCByZWNlaXZlTWVzc2FnZSk7XG4gICAgICB9O1xuICAgIH0sIFtmcmFtZSwgaGFuZGxlcnNdKTtcblxuICAgIC8vIHNlbmQgZXhlY3V0ZSBjb21tYW5kIHRvIGlmcmFtZVxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBpZiAoZnJhbWUgPT09IG51bGwpIHJldHVybjtcblxuICAgICAgZnJhbWUub25sb2FkID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBzZW5kZXIgPSBudWxsO1xuICAgICAgICBjb25zdCBjb21tYW5kID0gJ2luaXQnO1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gY29kZTtcbiAgICAgICAgZnJhbWUuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7IHNlbmRlciwgY29tbWFuZCwgcGF5bG9hZCB9LCAnKicpO1xuICAgICAgfTtcbiAgICB9LCBbZnJhbWUsIGNvZGVdKTtcblxuICAgIC8vIG9ubHkgcmVuZGVyIHRoZSBpZnJhbWUgYWZ0ZXIgbG9hZGluZyB0aGUgZXhlY3V0b3JEb2NcbiAgICBpZiAoZXhlY3V0b3JEb2MgPT09IG51bGwpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqc3gtYTExeS9pZnJhbWUtaGFzLXRpdGxlXG4gICAgICA8aWZyYW1lXG4gICAgICAgIHJlZj17YXR0YWNoRnJhbWV9XG4gICAgICAgIHNhbmRib3g9XCJhbGxvdy1zY3JpcHRzXCJcbiAgICAgICAgLy8gc3JjPVwiL2V4ZWN1dG9yXCJcbiAgICAgICAgc3JjRG9jPXtleGVjdXRvckRvY31cbiAgICAgICAgc3R5bGU9e3sgZGlzcGxheTogJ25vbmUnIH19XG4gICAgICAvPlxuICAgICk7XG4gIH0sXG4pO1xuXG5leHBvcnQgZGVmYXVsdCBUYXNrRXhlY3V0b3I7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBkZWZpbmVNZXNzYWdlcywgRm9ybWF0dGVkTWVzc2FnZSBhcyBNIH0gZnJvbSAncmVhY3QtaW50bCc7XG5cbmltcG9ydCBEaXZpZGVyIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0RpdmlkZXInO1xuaW1wb3J0IExpc3RJdGVtSWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9MaXN0SXRlbUljb24nO1xuaW1wb3J0IE1lbnUgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvTWVudSc7XG5pbXBvcnQgTWVudUl0ZW0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvTWVudUl0ZW0nO1xuXG5pbXBvcnQge1xuICBGb2xkZXJJY29uLFxuICBMYW5ndWFnZUJsb2NrbHlJY29uLFxuICBMYW5ndWFnZUphdmFzY3JpcHRJY29uLFxuICBNYXJrZG93bkZpbGVJY29uLFxuICBNZXRhZGF0YVBsdWdpbnNJY29uLFxuICBNZXRhZGF0YUFzc2V0c0ljb24sXG4gIE1ldGFkYXRhTGF5b3V0SWNvbixcbiAgTWV0YWRhdGFTaW11bGF0b3JJY29uLFxuICBNZXRhZGF0YVRvb2xib3hJY29uLFxuICBSZW5hbWVJY29uLFxuICBEZWxldGVJY29uLFxuICBEb3dubG9hZEljb24sXG4gIFVwbG9hZEljb24sXG59IGZyb20gJy4uLy4uL21pc2MvcGFsZXR0ZSc7XG5cbmltcG9ydCB0eXBlIHsgRmlsZURlc2MsIE1ldGFkYXRhRGVzYywgRmlsZVJlZmVyZW5jZSwgRGlyUmVmZXJlbmNlLCBGaWxlQWN0aW9uIH0gZnJvbSAnLic7XG5cbmNvbnN0IG1lc3NhZ2VzID0gZGVmaW5lTWVzc2FnZXMoe1xuICBjcmVhdGVGb2xkZXI6IHtcbiAgICBpZDogJ2FwcC5pZGUuZmlsZV9tZW51LmNyZWF0ZV9mb2xkZXInLFxuICAgIGRlc2NyaXB0aW9uOiAnTWVudSBpdGVtIHRleHQgZm9yIGNyZWF0aW5nIGEgZm9sZGVyJyxcbiAgICBkZWZhdWx0TWVzc2FnZTogJ05ldyBGb2xkZXInLFxuICB9LFxuICBjcmVhdGVKYXZhc2NyaXB0RmlsZToge1xuICAgIGlkOiAnYXBwLmlkZS5maWxlX21lbnUuY3JlYXRlX2pzX2ZpbGUnLFxuICAgIGRlc2NyaXB0aW9uOiAnTWVudSBpdGVtIHRleHQgZm9yIGNyZWF0aW5nIGEgSmF2YXNjcmlwdCBmaWxlJyxcbiAgICBkZWZhdWx0TWVzc2FnZTogJ05ldyBKYXZhc2NyaXB0IEZpbGUnLFxuICB9LFxuICBjcmVhdGVCbG9ja2x5RmlsZToge1xuICAgIGlkOiAnYXBwLmlkZS5maWxlX21lbnUuY3JlYXRlX2Jsb2NrbHlfZmlsZScsXG4gICAgZGVzY3JpcHRpb246ICdNZW51IGl0ZW0gdGV4dCBmb3IgY3JlYXRpbmcgYSBCbG9ja2x5IGZpbGUnLFxuICAgIGRlZmF1bHRNZXNzYWdlOiAnTmV3IEJsb2NrbHkgRmlsZScsXG4gIH0sXG4gIGNyZWF0ZU1hcmtkb3duRmlsZToge1xuICAgIGlkOiAnYXBwLmlkZS5maWxlX21lbnUuY3JlYXRlX21hcmtkb3duX2ZpbGUnLFxuICAgIGRlc2NyaXB0aW9uOiAnTWVudSBpdGVtIHRleHQgZm9yIGNyZWF0aW5nIGEgTWFya2Rvd24gZmlsZScsXG4gICAgZGVmYXVsdE1lc3NhZ2U6ICdOZXcgTWFya2Rvd24gRmlsZScsXG4gIH0sXG4gIGNyZWF0ZVBsdWdpbnNEaXJlY3Rvcnk6IHtcbiAgICBpZDogJ2FwcC5pZGUuZmlsZV9tZW51LmNyZWF0ZV9wbHVnaW5zX2RpcmVjdG9yeScsXG4gICAgZGVzY3JpcHRpb246ICdNZW51IGl0ZW0gdGV4dCBmb3IgY3JlYXRpbmcgdGhlIHBsdWdpbiBmb2xkZXInLFxuICAgIGRlZmF1bHRNZXNzYWdlOiAnQ3JlYXRlIFBsdWdpbiBGb2xkZXInLFxuICB9LFxuICBjcmVhdGVBc3NldHNEaXJlY3Rvcnk6IHtcbiAgICBpZDogJ2FwcC5pZGUuZmlsZV9tZW51LmNyZWF0ZV9hc3NldHNfZGlyZWN0b3J5JyxcbiAgICBkZXNjcmlwdGlvbjogJ01lbnUgaXRlbSB0ZXh0IGZvciBjcmVhdGluZyB0aGUgYXNzZXRzIGZvbGRlcicsXG4gICAgZGVmYXVsdE1lc3NhZ2U6ICdDcmVhdGUgQXNzZXRzIEZvbGRlcicsXG4gIH0sXG4gIGNyZWF0ZVNpbXVsYXRvckNvbmZpZ3VyYXRpb246IHtcbiAgICBpZDogJ2FwcC5pZGUuZmlsZV9tZW51LmNyZWF0ZV9zaW11bGF0b3JfY29uZmlndXJhdGlvbicsXG4gICAgZGVzY3JpcHRpb246ICdNZW51IGl0ZW0gdGV4dCBmb3IgY3JlYXRpbmcgYSBzaW11bGF0b3IgY29uZmlndXJhdGlvbicsXG4gICAgZGVmYXVsdE1lc3NhZ2U6ICdDcmVhdGUgU2ltdWxhdG9yIENvbmZpZ3VyYXRpb24nLFxuICB9LFxuICBjcmVhdGVMYXlvdXRDb25maWd1cmF0aW9uOiB7XG4gICAgaWQ6ICdhcHAuaWRlLmZpbGVfbWVudS5jcmVhdGVfbGF5b3V0X2NvbmZpZ3VyYXRpb24nLFxuICAgIGRlc2NyaXB0aW9uOiAnTWVudSBpdGVtIHRleHQgZm9yIGNyZWF0aW5nIGEgd29ya3NwYWNlIGxheW91dCBjb25maWd1cmF0aW9uJyxcbiAgICBkZWZhdWx0TWVzc2FnZTogJ0NyZWF0ZS9VcGRhdGUgV29ya3NwYWNlIExheW91dCBDb25maWd1cmF0aW9uJyxcbiAgfSxcbiAgY3JlYXRlVG9vbGJveENvbmZpZ3VyYXRpb246IHtcbiAgICBpZDogJ2FwcC5pZGUuZmlsZV9tZW51LmNyZWF0ZV90b29sYm94X2NvbmZpZ3VyYXRpb24nLFxuICAgIGRlc2NyaXB0aW9uOiAnTWVudSBpdGVtIHRleHQgZm9yIGNyZWF0aW5nIGEgQmxvY2tseSB0b29sYm94IGNvbmZpZ3VyYXRpb24nLFxuICAgIGRlZmF1bHRNZXNzYWdlOiAnQ3JlYXRlIFRvb2xib3ggQ29uZmlndXJhdGlvbicsXG4gIH0sXG4gIHJlbmFtZToge1xuICAgIGlkOiAnYXBwLmlkZS5maWxlX21lbnUucmVuYW1lJyxcbiAgICBkZXNjcmlwdGlvbjogJ01lbnUgaXRlbSB0ZXh0IGZvciByZW5hbWluZyBhIGZpbGUnLFxuICAgIGRlZmF1bHRNZXNzYWdlOiAnUmVuYW1lJyxcbiAgfSxcbiAgZGVsZXRlOiB7XG4gICAgaWQ6ICdhcHAuaWRlLmZpbGVfbWVudS5kZWxldGUnLFxuICAgIGRlc2NyaXB0aW9uOiAnTWVudSBpdGVtIHRleHQgZm9yIGRlbGV0aW5nIGEgZmlsZScsXG4gICAgZGVmYXVsdE1lc3NhZ2U6ICdEZWxldGUnLFxuICB9LFxuICB1cGxvYWQ6IHtcbiAgICBpZDogJ2FwcC5pZGUuZmlsZV9tZW51LnVwbG9hZCcsXG4gICAgZGVzY3JpcHRpb246ICdNZW51IGl0ZW0gdGV4dCBmb3IgY3JlYXRpbmcgYSBmaWxlIHZpYSB1cGxvYWQnLFxuICAgIGRlZmF1bHRNZXNzYWdlOiAnVXBsb2FkJyxcbiAgfSxcbiAgZG93bmxvYWQ6IHtcbiAgICBpZDogJ2FwcC5pZGUuZmlsZV9tZW51LmRvd25sb2FkJyxcbiAgICBkZXNjcmlwdGlvbjogJ01lbnUgaXRlbSB0ZXh0IGZvciBkb3dubG9hZGluZyBhIGZpbGUgZnJvbSB0aGUgSURFJyxcbiAgICBkZWZhdWx0TWVzc2FnZTogJ0Rvd25sb2FkJyxcbiAgfSxcbn0pO1xuXG50eXBlIEZpbGVNZW51SXRlbVByb3BzID0ge3xcbiAgdGl0bGVNc2c6IE9iamVjdCxcbiAgaWNvbjogdHlwZW9mIFJlYWN0LkNvbXBvbmVudCxcbiAgLi4uUmVhY3QuRWxlbWVudENvbmZpZzx0eXBlb2YgTWVudUl0ZW0+LFxufH07XG5cbmNvbnN0IEZpbGVNZW51SXRlbSA9IFJlYWN0LmZvcndhcmRSZWY8RmlsZU1lbnVJdGVtUHJvcHMsIE1lbnVJdGVtPihcbiAgKHsgdGl0bGVNc2csIGljb246IFRoZUljb24sIC4uLnByb3BzIH06IEZpbGVNZW51SXRlbVByb3BzLCByZWY6IFJlZjxNZW51SXRlbT4pID0+IChcbiAgICA8TWVudUl0ZW0gcmVmPXtyZWZ9IHsuLi5wcm9wc30+XG4gICAgICA8TGlzdEl0ZW1JY29uPlxuICAgICAgICA8VGhlSWNvbiBmb250U2l6ZT1cInNtYWxsXCIgLz5cbiAgICAgIDwvTGlzdEl0ZW1JY29uPlxuICAgICAgPE0gey4uLnRpdGxlTXNnfSAvPlxuICAgIDwvTWVudUl0ZW0+XG4gICksXG4pO1xuXG50eXBlIFBvc2l0aW9uID0ge3xcbiAgbGVmdDogbnVtYmVyLFxuICB0b3A6IG51bWJlcixcbnx9O1xuXG50eXBlIFByb3BUeXBlcyA9IHt8XG4gIG9uRmlsZUFjdGlvbjogKGFjdGlvbjogRmlsZUFjdGlvbikgPT4gdm9pZCB8IFByb21pc2U8dm9pZD4sXG58fTtcbnR5cGUgU3RhdGVUeXBlcyA9IHt8XG4gIHZpc2libGU6IGJvb2xlYW4sXG4gIGNvbmZpZzoge3xcbiAgICBhbmNob3JQb3NpdGlvbjogUG9zaXRpb24sXG4gICAgZmlsZTogRmlsZVJlZmVyZW5jZSxcbiAgfH0gfCBudWxsLFxufH07XG5cbmNsYXNzIEZpbGVNZW51IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFByb3BUeXBlcywgU3RhdGVUeXBlcz4ge1xuICBzdGF0ZTogU3RhdGVUeXBlcyA9IHtcbiAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICBjb25maWc6IG51bGwsXG4gIH07XG5cbiAgc2hvdyhhbmNob3JQb3NpdGlvbjogUG9zaXRpb24sIGZpbGU6IEZpbGVSZWZlcmVuY2UpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgdmlzaWJsZTogdHJ1ZSwgY29uZmlnOiB7IGFuY2hvclBvc2l0aW9uLCBmaWxlIH0gfSk7XG4gIH1cblxuICBoaWRlKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyB2aXNpYmxlOiBmYWxzZSB9KTtcbiAgfVxuXG4gIGFjdGlvbihta0FjdGlvbjogKGZpbGU6IEZpbGVSZWZlcmVuY2UpID0+IEZpbGVBY3Rpb24pIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICAgIGlmICghdGhpcy5zdGF0ZS52aXNpYmxlKSB0aHJvdyAnbWVudSBpcyBub3Qgc2hvd24nO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gICAgaWYgKHRoaXMuc3RhdGUuY29uZmlnID09PSBudWxsKSB0aHJvdyAndW5yZWFjaGFibGUnO1xuXG4gICAgY29uc3Qge1xuICAgICAgY29uZmlnOiB7IGZpbGUgfSxcbiAgICB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCBhY3Rpb24gPSBta0FjdGlvbihmaWxlKTtcblxuICAgIHRoaXMuaGlkZSgpO1xuICAgIHRoaXMucHJvcHMub25GaWxlQWN0aW9uKGFjdGlvbik7XG4gIH1cblxuICBoYW5kbGVDcmVhdGUoZGVzYzogRmlsZURlc2MgfCBNZXRhZGF0YURlc2MpIHtcbiAgICB0aGlzLmFjdGlvbigoZmlsZSkgPT4ge1xuICAgICAgLy8gJEZsb3dFeHBlY3RFcnJvclxuICAgICAgY29uc3QgcGFyZW50RGlyOiBEaXJSZWZlcmVuY2UgPSBmaWxlO1xuXG4gICAgICByZXR1cm4geyBhY3Rpb246ICdDUkVBVEUnLCBwYXJlbnREaXIsIGRlc2MgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVJlbmFtZSgpIHtcbiAgICB0aGlzLmFjdGlvbigoZmlsZSkgPT4gKHsgYWN0aW9uOiAnUkVOQU1FJywgZmlsZSB9KSk7XG4gIH1cblxuICBoYW5kbGVEZWxldGUoKSB7XG4gICAgdGhpcy5hY3Rpb24oKGZpbGUpID0+ICh7IGFjdGlvbjogJ0RFTEVURScsIGZpbGUgfSkpO1xuICB9XG5cbiAgaGFuZGxlRG93bmxvYWQoKSB7XG4gICAgdGhpcy5hY3Rpb24oKGZpbGUpID0+ICh7IGFjdGlvbjogJ0RPV05MT0FEJywgZmlsZSB9KSk7XG4gIH1cblxuICBoYW5kbGVVcGxvYWQoKSB7XG4gICAgdGhpcy5hY3Rpb24oKGZpbGUpID0+IHtcbiAgICAgIC8vICRGbG93RXhwZWN0RXJyb3JcbiAgICAgIGNvbnN0IHBhcmVudERpcjogRGlyUmVmZXJlbmNlID0gZmlsZTtcblxuICAgICAgcmV0dXJuIHsgYWN0aW9uOiAnVVBMT0FEJywgcGFyZW50RGlyIH07XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLy8gdGhpcyB3aWxsIG9ubHkgdHJpZ2dlciBiZWZvcmUgdGhlIGZpcnN0IHNob3dpbmcuXG4gICAgLy8gYWZ0ZXIgdGhhdCwgdGhlIG9sZCBjb25maWcgaXMgc3RpbGwgcHJlc2VudCBhbmQgd2lsbCBlbnN1cmUgdGhhdFxuICAgIC8vIGZhZGUgb3V0IGFuaW1hdGlvbnMgd29uJ3QgZ2xpdGNoIGR1ZSB0byBjaGFuZ2luZyBjb250ZW50cy5cbiAgICBpZiAodGhpcy5zdGF0ZS5jb25maWcgPT09IG51bGwpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3Qge1xuICAgICAgdmlzaWJsZSxcbiAgICAgIGNvbmZpZzogeyBhbmNob3JQb3NpdGlvbiwgZmlsZSB9LFxuICAgIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgY29uc3QgaXNSb290ID0gZmlsZS5wYXRoID09PSAnLic7XG4gICAgY29uc3QgaXNMZWFmID0gIWZpbGUuZmlsZS5pc0RpcmVjdG9yeSgpO1xuICAgIGNvbnN0IGlzTWV0YWRhdGEgPSBmaWxlLnBhdGggPT09ICcuLy5tZXRhZGF0YScgJiYgIWlzTGVhZjtcblxuICAgIHJldHVybiAoXG4gICAgICA8TWVudVxuICAgICAgICBrZWVwTW91bnRlZFxuICAgICAgICBhbmNob3JSZWZlcmVuY2U9XCJhbmNob3JQb3NpdGlvblwiXG4gICAgICAgIGFuY2hvclBvc2l0aW9uPXthbmNob3JQb3NpdGlvbn1cbiAgICAgICAgb3Blbj17dmlzaWJsZX1cbiAgICAgICAgb25DbG9zZT17KCkgPT4gdGhpcy5oaWRlKCl9XG4gICAgICA+XG4gICAgICAgIHtbXG4gICAgICAgICAgLi4uKCFpc0xlYWZcbiAgICAgICAgICAgID8gW1xuICAgICAgICAgICAgICAgIDxGaWxlTWVudUl0ZW1cbiAgICAgICAgICAgICAgICAgIGtleT1cImNyZWF0ZV9kaXJlY3RvcnlcIlxuICAgICAgICAgICAgICAgICAgdGl0bGVNc2c9e21lc3NhZ2VzLmNyZWF0ZUZvbGRlcn1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMuaGFuZGxlQ3JlYXRlKHsgdHlwZTogJ0RJUkVDVE9SWScgfSl9XG4gICAgICAgICAgICAgICAgICBpY29uPXtGb2xkZXJJY29ufVxuICAgICAgICAgICAgICAgIC8+LFxuICAgICAgICAgICAgICAgIC4uLihpc01ldGFkYXRhXG4gICAgICAgICAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAgICAgICAgICA8RmlsZU1lbnVJdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9XCJjcmVhdGVfcGx1Z2luc19kaXJlY3RvcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGVNc2c9e21lc3NhZ2VzLmNyZWF0ZVBsdWdpbnNEaXJlY3Rvcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ01FVEFEQVRBJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAncGx1Z2lucycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVR5cGU6ICdESVJFQ1RPUlknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj17TWV0YWRhdGFQbHVnaW5zSWNvbn1cbiAgICAgICAgICAgICAgICAgICAgICAvPixcbiAgICAgICAgICAgICAgICAgICAgICA8RmlsZU1lbnVJdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9XCJjcmVhdGVfYXNzZXRzX2RpcmVjdG9yeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZU1zZz17bWVzc2FnZXMuY3JlYXRlQXNzZXRzRGlyZWN0b3J5fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdNRVRBREFUQScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2Fzc2V0cycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVR5cGU6ICdESVJFQ1RPUlknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj17TWV0YWRhdGFBc3NldHNJY29ufVxuICAgICAgICAgICAgICAgICAgICAgIC8+LFxuICAgICAgICAgICAgICAgICAgICAgIDxGaWxlTWVudUl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT1cImNyZWF0ZV9sYXlvdXRfY29uZmlnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlTXNnPXttZXNzYWdlcy5jcmVhdGVMYXlvdXRDb25maWd1cmF0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdNRVRBREFUQScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2xheW91dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVR5cGU6ICdGSUxFJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGljb249e01ldGFkYXRhTGF5b3V0SWNvbn1cbiAgICAgICAgICAgICAgICAgICAgICAvPixcbiAgICAgICAgICAgICAgICAgICAgICA8RmlsZU1lbnVJdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9XCJjcmVhdGVfc2ltdWxhdG9yX2NvbmZpZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZU1zZz17bWVzc2FnZXMuY3JlYXRlU2ltdWxhdG9yQ29uZmlndXJhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQ3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnTUVUQURBVEEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdzaW11bGF0b3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVUeXBlOiAnRklMRScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uPXtNZXRhZGF0YVNpbXVsYXRvckljb259XG4gICAgICAgICAgICAgICAgICAgICAgLz4sXG4gICAgICAgICAgICAgICAgICAgICAgPEZpbGVNZW51SXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PVwiY3JlYXRlX3Rvb2xib3hfY29uZmlnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlTXNnPXttZXNzYWdlcy5jcmVhdGVUb29sYm94Q29uZmlndXJhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQ3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnTUVUQURBVEEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICd0b29sYm94JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlVHlwZTogJ0ZJTEUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj17TWV0YWRhdGFUb29sYm94SWNvbn1cbiAgICAgICAgICAgICAgICAgICAgICAvPixcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgOiBbXG4gICAgICAgICAgICAgICAgICAgICAgPEZpbGVNZW51SXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PVwiY3JlYXRlX2pzX2ZpbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGVNc2c9e21lc3NhZ2VzLmNyZWF0ZUphdmFzY3JpcHRGaWxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5oYW5kbGVDcmVhdGUoeyB0eXBlOiAnRklMRScsIGV4dGVuc2lvbjogJy5qcycgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uPXtMYW5ndWFnZUphdmFzY3JpcHRJY29ufVxuICAgICAgICAgICAgICAgICAgICAgIC8+LFxuICAgICAgICAgICAgICAgICAgICAgIDxGaWxlTWVudUl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT1cImNyZWF0ZV9ibG9ja2x5X2ZpbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGVNc2c9e21lc3NhZ2VzLmNyZWF0ZUJsb2NrbHlGaWxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdGSUxFJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRlbnNpb246ICcuYmxvY2tseScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uPXtMYW5ndWFnZUJsb2NrbHlJY29ufVxuICAgICAgICAgICAgICAgICAgICAgIC8+LFxuICAgICAgICAgICAgICAgICAgICAgIDxGaWxlTWVudUl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT1cImNyZWF0ZV9tZF9maWxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlTXNnPXttZXNzYWdlcy5jcmVhdGVNYXJrZG93bkZpbGV9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZUNyZWF0ZSh7IHR5cGU6ICdGSUxFJywgZXh0ZW5zaW9uOiAnLm1kJyB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGljb249e01hcmtkb3duRmlsZUljb259XG4gICAgICAgICAgICAgICAgICAgICAgLz4sXG4gICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIDxEaXZpZGVyIGtleT1cImRpdmlkZXItZGlyZWN0b3J5XCIgLz4sXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIDogW10pLFxuICAgICAgICAgIDxGaWxlTWVudUl0ZW1cbiAgICAgICAgICAgIGtleT1cInJlbmFtZVwiXG4gICAgICAgICAgICB0aXRsZU1zZz17bWVzc2FnZXMucmVuYW1lfVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5oYW5kbGVSZW5hbWUoKX1cbiAgICAgICAgICAgIGRpc2FibGVkPXtpc1Jvb3R9XG4gICAgICAgICAgICBpY29uPXtSZW5hbWVJY29ufVxuICAgICAgICAgIC8+LFxuICAgICAgICAgIDxGaWxlTWVudUl0ZW1cbiAgICAgICAgICAgIGtleT1cImRlbGV0ZVwiXG4gICAgICAgICAgICB0aXRsZU1zZz17bWVzc2FnZXMuZGVsZXRlfVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5oYW5kbGVEZWxldGUoKX1cbiAgICAgICAgICAgIGRpc2FibGVkPXtpc1Jvb3R9XG4gICAgICAgICAgICBpY29uPXtEZWxldGVJY29ufVxuICAgICAgICAgIC8+LFxuICAgICAgICAgIDxEaXZpZGVyIGtleT1cImRpdmlkZXItdXBsb2FkLWRvd25sb2FkXCIgLz4sXG4gICAgICAgICAgLi4uKCFpc0xlYWZcbiAgICAgICAgICAgID8gW1xuICAgICAgICAgICAgICAgIDxGaWxlTWVudUl0ZW1cbiAgICAgICAgICAgICAgICAgIGtleT1cInVwbG9hZFwiXG4gICAgICAgICAgICAgICAgICB0aXRsZU1zZz17bWVzc2FnZXMudXBsb2FkfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5oYW5kbGVVcGxvYWQoKX1cbiAgICAgICAgICAgICAgICAgIGljb249e1VwbG9hZEljb259XG4gICAgICAgICAgICAgICAgLz4sXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIDogW1xuICAgICAgICAgICAgICAgIDxGaWxlTWVudUl0ZW1cbiAgICAgICAgICAgICAgICAgIGtleT1cImRvd25sb2FkXCJcbiAgICAgICAgICAgICAgICAgIHRpdGxlTXNnPXttZXNzYWdlcy5kb3dubG9hZH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMuaGFuZGxlRG93bmxvYWQoKX1cbiAgICAgICAgICAgICAgICAgIGljb249e0Rvd25sb2FkSWNvbn1cbiAgICAgICAgICAgICAgICAvPixcbiAgICAgICAgICAgICAgXSksXG4gICAgICAgIF19XG4gICAgICA8L01lbnU+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGaWxlTWVudTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB1c2VTdHlsZXMgZnJvbSAnaXNvbW9ycGhpYy1zdHlsZS1sb2FkZXIvdXNlU3R5bGVzJztcblxuaW1wb3J0IFRyZWUsIHsgVHJlZU5vZGUgfSBmcm9tICdyYy10cmVlJztcbi8vICRGbG93RXhwZWN0RXJyb3JcbmltcG9ydCBzUmNUcmVlIGZyb20gJ3JjLXRyZWUvYXNzZXRzL2luZGV4LmNzcyc7XG5cbmltcG9ydCB7XG4gIEZpbGVJY29uLFxuICBGb2xkZXJJY29uLFxuICBGb2xkZXJPcGVuSWNvbixcbiAgTGFuZ3VhZ2VCbG9ja2x5SWNvbixcbiAgTGFuZ3VhZ2VKYXZhc2NyaXB0SWNvbixcbiAgTGFuZ3VhZ2VQeXRob25JY29uLFxuICBJbWFnZUZpbGVJY29uLFxuICBNYXJrZG93bkZpbGVJY29uLFxuICBQZGZGaWxlSWNvbixcbiAgTWV0YWRhdGFQbHVnaW5zSWNvbixcbiAgTWV0YWRhdGFBc3NldHNJY29uLFxuICBNZXRhZGF0YUxheW91dEljb24sXG4gIE1ldGFkYXRhU2ltdWxhdG9ySWNvbixcbiAgTWV0YWRhdGFUb29sYm94SWNvbixcbn0gZnJvbSAnLi4vLi4vbWlzYy9wYWxldHRlJztcbmltcG9ydCAqIGFzIGhvb2tzIGZyb20gJy4uLy4uL21pc2MvaG9va3MnO1xuXG5pbXBvcnQgcyBmcm9tICcuL0ZpbGVUcmVlLnNjc3MnO1xuXG5pbXBvcnQgdHlwZSB7XG4gIEZpbGVyUmVjdXJzaXZlU3RhdEluZm8sXG4gIEZpbGVyUmVjdXJzaXZlRGlyZWN0b3J5SW5mbyxcbn0gZnJvbSAnLi4vLi4vLi4vY29yZS9zdG9yZS9wcm9qZWN0cyc7XG5cbmltcG9ydCBGaWxlTWVudSBmcm9tICcuL0ZpbGVNZW51JztcblxuZXhwb3J0IHR5cGUgRmlsZVR5cGUgPSAnRklMRScgfCAnRElSRUNUT1JZJztcbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IHR5cGUgRmlsZURlc2MgPVxuICB8IHt8IHR5cGU6ICdESVJFQ1RPUlknIHx9XG4gIHwge3wgdHlwZTogJ0ZJTEUnLCBleHRlbnNpb246IHN0cmluZyB8fTtcbmV4cG9ydCB0eXBlIE1ldGFkYXRhRGVzYyA9IHt8XG4gIHR5cGU6ICdNRVRBREFUQScsXG4gIG5hbWU6IHN0cmluZyxcbiAgZmlsZVR5cGU6IEZpbGVUeXBlLFxufH07XG5cbmV4cG9ydCB0eXBlIEZpbGVSZWZlcmVuY2UgPSB7fFxuICBwYXRoOiBzdHJpbmcsXG4gIGZpbGU6IEZpbGVyUmVjdXJzaXZlU3RhdEluZm8sXG58fTtcblxuZXhwb3J0IHR5cGUgRGlyUmVmZXJlbmNlID0ge3xcbiAgcGF0aDogc3RyaW5nLFxuICBmaWxlOiBGaWxlclJlY3Vyc2l2ZURpcmVjdG9yeUluZm8sXG58fTtcblxuZXhwb3J0IHR5cGUgRmlsZUFjdGlvbiA9XG4gIHwge3xcbiAgICAgIGFjdGlvbjogJ0NSRUFURScsXG4gICAgICBwYXJlbnREaXI6IERpclJlZmVyZW5jZSxcbiAgICAgIGRlc2M6IEZpbGVEZXNjIHwgTWV0YWRhdGFEZXNjLFxuICAgIHx9XG4gIHwge3xcbiAgICAgIGFjdGlvbjogJ1VQTE9BRCcsXG4gICAgICBwYXJlbnREaXI6IERpclJlZmVyZW5jZSxcbiAgICB8fVxuICB8IHt8XG4gICAgICBhY3Rpb246ICdSRU5BTUUnIHwgJ0RFTEVURScgfCAnT1BFTicgfCAnRE9XTkxPQUQnLFxuICAgICAgZmlsZTogRmlsZVJlZmVyZW5jZSxcbiAgICB8fVxuICB8IHt8XG4gICAgICBhY3Rpb246ICdNT1ZFJyxcbiAgICAgIGZpbGU6IEZpbGVSZWZlcmVuY2UsXG4gICAgICBkZXN0RGlyUGF0aDogc3RyaW5nLFxuICAgIHx9O1xuXG4vKlxuLS0tIHJjLXRyZWUgQlVHIC0tLVxuT3BlbiBhbGwgTm9kZXMgKG9yIG9uZSBjaGlsZCBub2RlKSwgdGhlbiBjbG9zZSB0aGUgcm9vdCBub2RlLlxuQWZ0ZXIgcmVsb2FkaW5nLCB0aGUgcm9vdCBub2RlIHdpbGwgb3BlbiBldmVuIHRob3VnaCBpdCBpcyBub3RcbmRlZmluZWQgaW4gdGhlIGxvY2Fsc3RvcmFnZS5cbiovXG5cbmV4cG9ydCB0eXBlIENvbnRyb2xsZWRTdGF0ZSA9IHt8XG4gIGV4cGFuZGVkS2V5czogc3RyaW5nW10sXG58fTtcblxudHlwZSBQcm9wcyA9IHt8XG4gIGZpbGVzOiBGaWxlclJlY3Vyc2l2ZVN0YXRJbmZvLFxuICAuLi5Db250cm9sbGVkU3RhdGUsXG4gIGZpbHRlcj86IChwYXRoOiBzdHJpbmcsIGNoaWxkOiBGaWxlclJlY3Vyc2l2ZVN0YXRJbmZvKSA9PiBib29sZWFuLFxuICBvbkZpbGVBY3Rpb246IChhY3Rpb246IEZpbGVBY3Rpb24pID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+LFxuICBvblVwZGF0ZTogKHN0YXRlOiBDb250cm9sbGVkU3RhdGUpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+LFxufH07XG5cbi8qKlxuICogRGlzcGxheXMgYWxsIGZpbGVzIGFuZCBkaXJlY3RvcmllcyBpbiBhIHRyZWUsXG4gKiBhbmQgcHJvdmlkZXMgYWN0aW9ucyB0byBvcGVuLCBjcmVhdGUsIHJlbmFtZSwgbW92ZSwgZGVsZXRlIGZpbGVzIGV0Yy5cbiAqL1xuZnVuY3Rpb24gRmlsZVRyZWUoeyBmaWxlcywgZXhwYW5kZWRLZXlzLCBmaWx0ZXIsIG9uRmlsZUFjdGlvbiwgb25VcGRhdGUgfTogUHJvcHMpIHtcbiAgY29uc3QgW3NlbGVjdGVkS2V5cywgc2V0U2VsZWN0ZWRLZXlzXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG5cbiAgY29uc3Qgcm9vdERpdlJlZiA9IGhvb2tzLnVzZUVsZW1lbnRSZWY8J2Rpdic+KCk7XG4gIGNvbnN0IG1lbnVSZWYgPSBob29rcy51c2VFbGVtZW50UmVmPHR5cGVvZiBGaWxlTWVudT4oKTtcblxuICBmdW5jdGlvbiBzZXRFeHBhbmREaXJlY3RvcnkoZmlsZTogRmlsZVJlZmVyZW5jZSwgc3RhdGU6IGJvb2xlYW4gfCBudWxsKSB7XG4gICAgY29uc3QgbmV3RXhwYW5kZWRLZXlzID0gWy4uLmV4cGFuZGVkS2V5c107XG4gICAgY29uc3QgaW5kZXggPSBuZXdFeHBhbmRlZEtleXMuaW5kZXhPZihmaWxlLnBhdGgpO1xuICAgIGlmIChzdGF0ZSA9PT0gbnVsbCkge1xuICAgICAgLy8gdG9nZ2xlXG4gICAgICBpZiAoaW5kZXggPT09IC0xKSBuZXdFeHBhbmRlZEtleXMucHVzaChmaWxlLnBhdGgpO1xuICAgICAgZWxzZSBuZXdFeHBhbmRlZEtleXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gc2V0L3Jlc2V0XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbG9uZWx5LWlmXG4gICAgICBpZiAoaW5kZXggPT09IC0xICYmIHN0YXRlKSBuZXdFeHBhbmRlZEtleXMucHVzaChmaWxlLnBhdGgpO1xuICAgICAgZWxzZSBpZiAoaW5kZXggIT09IC0xICYmICFzdGF0ZSkgbmV3RXhwYW5kZWRLZXlzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICAgIG9uVXBkYXRlKHsgZXhwYW5kZWRLZXlzOiBuZXdFeHBhbmRlZEtleXMgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVGaWxlQ2xpY2soZXZlbnQ6IE1vdXNlRXZlbnQsIGZpbGU6IEZpbGVSZWZlcmVuY2UpIHtcbiAgICBzZXRTZWxlY3RlZEtleXMoW2ZpbGUucGF0aF0pO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVGaWxlUmlnaHRDbGljayhldmVudDogTW91c2VFdmVudCwgZmlsZTogRmlsZVJlZmVyZW5jZSkge1xuICAgIHNldFNlbGVjdGVkS2V5cyhbZmlsZS5wYXRoXSk7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICAgIGlmIChtZW51UmVmLmN1cnJlbnQgPT09IG51bGwpIHRocm93ICdyZWYgaXMgbnVsbCc7XG4gICAgbWVudVJlZi5jdXJyZW50LnNob3coeyBsZWZ0OiBldmVudC5jbGllbnRYIC0gMiwgdG9wOiBldmVudC5jbGllbnRZIC0gNCB9LCBmaWxlKTtcblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVGaWxlRG91YmxlQ2xpY2soZXZlbnQ6IE1vdXNlRXZlbnQsIGZpbGU6IEZpbGVSZWZlcmVuY2UpIHtcbiAgICBzZXRTZWxlY3RlZEtleXMoW2ZpbGUucGF0aF0pO1xuXG4gICAgaWYgKGZpbGUuZmlsZS5pc0RpcmVjdG9yeSgpKSBzZXRFeHBhbmREaXJlY3RvcnkoZmlsZSwgbnVsbCk7XG4gICAgZWxzZSBvbkZpbGVBY3Rpb24oeyBhY3Rpb246ICdPUEVOJywgZmlsZSB9KTtcblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVGaWxlS2V5RG93bihldmVudDogS2V5Ym9hcmRFdmVudCwgZmlsZTogRmlsZVJlZmVyZW5jZSkge1xuICAgIC8vIHdlIGRvbid0IGhhbmRsZSBhbnkgb2YgdGhlc2VcbiAgICBpZiAoZXZlbnQuYWx0S2V5IHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSB8fCBldmVudC5zaGlmdEtleSB8fCBldmVudC5pc0NvbXBvc2luZylcbiAgICAgIHJldHVybjtcblxuICAgIGlmIChmaWxlLmZpbGUuaXNEaXJlY3RvcnkoKSlcbiAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICAgIGNhc2UgJ0Fycm93TGVmdCc6XG4gICAgICAgICAgc2V0RXhwYW5kRGlyZWN0b3J5KGZpbGUsIGZhbHNlKTtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdBcnJvd1JpZ2h0JzpcbiAgICAgICAgICBzZXRFeHBhbmREaXJlY3RvcnkoZmlsZSwgdHJ1ZSk7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnICc6XG4gICAgICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgICAgICBzZXRFeHBhbmREaXJlY3RvcnkoZmlsZSwgbnVsbCk7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgIH1cbiAgICBlbHNlXG4gICAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xuICAgICAgICBjYXNlICcgJzpcbiAgICAgICAgY2FzZSAnRW50ZXInOlxuICAgICAgICAgIG9uRmlsZUFjdGlvbih7IGFjdGlvbjogJ09QRU4nLCBmaWxlIH0pO1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVGaWxlRHJvcCh7IGRyYWdOb2RlLCBub2RlLCBkcm9wVG9HYXAgfSkge1xuICAgIGNvbnN0IGZpbGUgPSB7XG4gICAgICBwYXRoOiBkcmFnTm9kZS5wcm9wcy5ldmVudEtleSxcbiAgICAgIGZpbGU6IGRyYWdOb2RlLnByb3BzLmZpbGUsXG4gICAgfTtcbiAgICBsZXQgZGVzdERpclBhdGggPSBub2RlLnByb3BzLmV2ZW50S2V5O1xuICAgIGlmIChkcm9wVG9HYXApIHtcbiAgICAgIGlmIChkZXN0RGlyUGF0aCA9PT0gJy4nKSByZXR1cm47XG4gICAgICBkZXN0RGlyUGF0aCArPSAnLy4uJztcbiAgICB9XG5cbiAgICBvbkZpbGVBY3Rpb24oeyBhY3Rpb246ICdNT1ZFJywgZmlsZSwgZGVzdERpclBhdGggfSk7XG4gIH1cblxuICBjb25zdCBlZmZlY3RpdmVGaWx0ZXI6IChwYXRoOiBzdHJpbmcsIGNoaWxkOiBGaWxlclJlY3Vyc2l2ZVN0YXRJbmZvKSA9PiBib29sZWFuID1cbiAgICBmaWx0ZXIgPz8gKCgpID0+IHRydWUpO1xuXG4gIGZ1bmN0aW9uIHJlbmRlckNoaWxkcmVuKHBhdGg6IHN0cmluZywgY2hpbGRyZW46IEZpbGVyUmVjdXJzaXZlU3RhdEluZm9bXSkge1xuICAgIHJldHVybiBjaGlsZHJlblxuICAgICAgLmZpbHRlcigoY2hpbGQpID0+IGVmZmVjdGl2ZUZpbHRlcihwYXRoLCBjaGlsZCkpXG4gICAgICAubWFwKChjaGlsZCkgPT5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgIHJlbmRlck5vZGUoYCR7cGF0aH0vJHtjaGlsZC5uYW1lfWAsIGNoaWxkKSxcbiAgICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXJOb2RlKHBhdGg6IHN0cmluZywgZmlsZTogRmlsZXJSZWN1cnNpdmVTdGF0SW5mbykge1xuICAgIGNvbnN0IGlzTGVhZiA9ICFmaWxlLmlzRGlyZWN0b3J5KCk7XG4gICAgY29uc3QgaXNFeHBhbmRlZCA9IGV4cGFuZGVkS2V5cy5pbmNsdWRlcyhwYXRoKTtcblxuICAgIGNvbnN0IFRoZUljb24gPSAoKCkgPT4ge1xuICAgICAgaWYgKGlzTGVhZikge1xuICAgICAgICBpZiAocGF0aCA9PT0gJy4vLm1ldGFkYXRhL2xheW91dCcpIHJldHVybiBNZXRhZGF0YUxheW91dEljb247XG4gICAgICAgIGlmIChwYXRoID09PSAnLi8ubWV0YWRhdGEvc2ltdWxhdG9yJykgcmV0dXJuIE1ldGFkYXRhU2ltdWxhdG9ySWNvbjtcbiAgICAgICAgaWYgKHBhdGggPT09ICcuLy5tZXRhZGF0YS90b29sYm94JykgcmV0dXJuIE1ldGFkYXRhVG9vbGJveEljb247XG4gICAgICAgIGlmIChwYXRoLnN0YXJ0c1dpdGgoJy4vLm1ldGFkYXRhL3BsdWdpbnMvJykgJiYgZmlsZS5uYW1lLmVuZHNXaXRoKCcuanMnKSlcbiAgICAgICAgICByZXR1cm4gTWV0YWRhdGFQbHVnaW5zSWNvbjtcbiAgICAgICAgaWYgKGZpbGUubmFtZS5lbmRzV2l0aCgnLmJsb2NrbHknKSkgcmV0dXJuIExhbmd1YWdlQmxvY2tseUljb247XG4gICAgICAgIGlmIChmaWxlLm5hbWUuZW5kc1dpdGgoJy5qcycpKSByZXR1cm4gTGFuZ3VhZ2VKYXZhc2NyaXB0SWNvbjtcbiAgICAgICAgaWYgKGZpbGUubmFtZS5lbmRzV2l0aCgnLnB5JykpIHJldHVybiBMYW5ndWFnZVB5dGhvbkljb247XG4gICAgICAgIGlmIChmaWxlLm5hbWUuZW5kc1dpdGgoJy5wbmcnKSB8fCBmaWxlLm5hbWUuZW5kc1dpdGgoJy5qcGcnKSB8fCBmaWxlLm5hbWUuZW5kc1dpdGgoJy5zdmcnKSlcbiAgICAgICAgICByZXR1cm4gSW1hZ2VGaWxlSWNvbjtcbiAgICAgICAgaWYgKGZpbGUubmFtZS5lbmRzV2l0aCgnLm1kJykpIHJldHVybiBNYXJrZG93bkZpbGVJY29uO1xuICAgICAgICBpZiAoZmlsZS5uYW1lLmVuZHNXaXRoKCcucGRmJykpIHJldHVybiBQZGZGaWxlSWNvbjtcbiAgICAgICAgcmV0dXJuIEZpbGVJY29uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzRXhwYW5kZWQpIHJldHVybiBGb2xkZXJPcGVuSWNvbjtcbiAgICAgICAgaWYgKHBhdGggPT09ICcuLy5tZXRhZGF0YS9hc3NldHMnKSByZXR1cm4gTWV0YWRhdGFBc3NldHNJY29uO1xuICAgICAgICByZXR1cm4gRm9sZGVySWNvbjtcbiAgICAgIH1cbiAgICB9KSgpO1xuXG4gICAgY29uc3QgYXR0cnMgPSB7XG4gICAgICBrZXk6IHBhdGgsXG4gICAgICBpc0xlYWYsXG4gICAgICB0aXRsZTogKFxuICAgICAgICAvLyBUT0RPIGZpZ3VyZSBvdXQgYWNjZXNzaWJpbGl0eVxuICAgICAgICA8c3BhblxuICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBoYW5kbGVGaWxlQ2xpY2soZSwgeyBwYXRoLCBmaWxlIH0pfVxuICAgICAgICAgIG9uQ29udGV4dE1lbnU9eyhlKSA9PiBoYW5kbGVGaWxlUmlnaHRDbGljayhlLCB7IHBhdGgsIGZpbGUgfSl9XG4gICAgICAgICAgb25Eb3VibGVDbGljaz17KGUpID0+IGhhbmRsZUZpbGVEb3VibGVDbGljayhlLCB7IHBhdGgsIGZpbGUgfSl9XG4gICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4gaGFuZGxlRmlsZUtleURvd24oZSwgeyBwYXRoLCBmaWxlIH0pfVxuICAgICAgICAgIHJvbGU9XCJ0cmVlaXRlbVwiXG4gICAgICAgICAgdGFiSW5kZXg9XCIwXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxUaGVJY29uIGNsYXNzTmFtZT17cy5maWxlSWNvbn0gLz5cbiAgICAgICAgICB7ZmlsZS5uYW1lfVxuICAgICAgICA8L3NwYW4+XG4gICAgICApLFxuICAgICAgZmlsZSxcbiAgICB9O1xuXG4gICAgaWYgKGlzTGVhZikge1xuICAgICAgcmV0dXJuIDxUcmVlTm9kZSB7Li4uYXR0cnN9IC8+O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyAkRmxvd0V4cGVjdEVycm9yXG4gICAgICBjb25zdCBkaXI6IEZpbGVyUmVjdXJzaXZlRGlyZWN0b3J5SW5mbyA9IGZpbGU7XG4gICAgICByZXR1cm4gPFRyZWVOb2RlIHsuLi5hdHRyc30+e3JlbmRlckNoaWxkcmVuKHBhdGgsIGRpci5jb250ZW50cyl9PC9UcmVlTm9kZT47XG4gICAgfVxuICB9XG5cbiAgdXNlU3R5bGVzKHNSY1RyZWUpO1xuICB1c2VTdHlsZXMocyk7XG4gIHJldHVybiAoXG4gICAgPGRpdiByZWY9e3Jvb3REaXZSZWZ9PlxuICAgICAgPFRyZWVcbiAgICAgICAgY2xhc3NOYW1lPVwiZmlsZS10cmVlXCJcbiAgICAgICAgc2hvd0xpbmVcbiAgICAgICAgc2hvd0ljb249e2ZhbHNlfVxuICAgICAgICBjaGVja2FibGU9e2ZhbHNlfVxuICAgICAgICBzZWxlY3RhYmxlXG4gICAgICAgIGRyYWdnYWJsZVxuICAgICAgICBleHBhbmRlZEtleXM9e2V4cGFuZGVkS2V5c31cbiAgICAgICAgb25FeHBhbmQ9e1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zaGFkb3dcbiAgICAgICAgICAoZXhwYW5kZWRLZXlzKSA9PiBvblVwZGF0ZSh7IGV4cGFuZGVkS2V5cyB9KVxuICAgICAgICB9XG4gICAgICAgIHNlbGVjdGVkS2V5cz17c2VsZWN0ZWRLZXlzfVxuICAgICAgICBvbkRyb3A9e2hhbmRsZUZpbGVEcm9wfVxuICAgICAgPlxuICAgICAgICB7cmVuZGVyTm9kZSgnLicsIGZpbGVzKX1cbiAgICAgIDwvVHJlZT5cbiAgICAgIDxGaWxlTWVudSByZWY9e21lbnVSZWZ9IG9uRmlsZUFjdGlvbj17b25GaWxlQWN0aW9ufSAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuZXhwb3J0IGRlZmF1bHQgRmlsZVRyZWU7XG4iLCJcbiAgICB2YXIgcmVmcyA9IDA7XG4gICAgdmFyIGNzcyA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTctcnVsZXMtMiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTctcnVsZXMtMyEuL0ZpbGVUcmVlLnNjc3NcIik7XG4gICAgdmFyIGluc2VydENzcyA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2lzb21vcnBoaWMtc3R5bGUtbG9hZGVyL2luc2VydENzcy5qc1wiKTtcbiAgICB2YXIgY29udGVudCA9IHR5cGVvZiBjc3MgPT09ICdzdHJpbmcnID8gW1ttb2R1bGUuaWQsIGNzcywgJyddXSA6IGNzcztcblxuICAgIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGNzcy5sb2NhbHMgfHwge307XG4gICAgZXhwb3J0cy5fZ2V0Q29udGVudCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gY29udGVudDsgfTtcbiAgICBleHBvcnRzLl9nZXRDc3MgPSBmdW5jdGlvbigpIHsgcmV0dXJuICcnICsgY3NzOyB9O1xuICAgIGV4cG9ydHMuX2luc2VydENzcyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHsgcmV0dXJuIGluc2VydENzcyhjb250ZW50LCBvcHRpb25zKSB9O1xuXG4gICAgLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuICAgIC8vIGh0dHBzOi8vd2VicGFjay5naXRodWIuaW8vZG9jcy9ob3QtbW9kdWxlLXJlcGxhY2VtZW50XG4gICAgLy8gT25seSBhY3RpdmF0ZWQgaW4gYnJvd3NlciBjb250ZXh0XG4gICAgaWYgKG1vZHVsZS5ob3QgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50KSB7XG4gICAgICB2YXIgcmVtb3ZlQ3NzID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS03LXJ1bGVzLTIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS03LXJ1bGVzLTMhLi9GaWxlVHJlZS5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBjc3MgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS03LXJ1bGVzLTIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS03LXJ1bGVzLTMhLi9GaWxlVHJlZS5zY3NzXCIpO1xuICAgICAgICBjb250ZW50ID0gdHlwZW9mIGNzcyA9PT0gJ3N0cmluZycgPyBbW21vZHVsZS5pZCwgY3NzLCAnJ11dIDogY3NzO1xuICAgICAgICByZW1vdmVDc3MgPSBpbnNlcnRDc3MoY29udGVudCwgeyByZXBsYWNlOiB0cnVlIH0pO1xuICAgICAgfSk7XG4gICAgICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHJlbW92ZUNzcygpOyB9KTtcbiAgICB9XG4gICIsIi8vIEBmbG93XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxudHlwZSBQcm9wVHlwZXMgPSB7fHx9O1xudHlwZSBTdGF0ZVR5cGVzID0ge3x8fTtcblxuY2xhc3MgRmlsZVVwbG9hZCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxQcm9wVHlwZXMsIFN0YXRlVHlwZXM+IHtcbiAgaW5wdXRSZWY6IFJlZk9iamVjdDwnaW5wdXQnPiA9IFJlYWN0LmNyZWF0ZVJlZigpO1xuXG4gIGFzeW5jIHNob3coKTogUHJvbWlzZTxGaWxlW10+IHtcbiAgICByZXR1cm4gLyogYXdhaXQgKi8gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcbiAgICAgIGlmICh0aGlzLmlucHV0UmVmLmN1cnJlbnQgPT09IG51bGwpIHRocm93ICdyZWYgaXMgbnVsbCc7XG5cbiAgICAgIHRoaXMuaW5wdXRSZWYuY3VycmVudC52YWx1ZSA9ICcnO1xuICAgICAgdGhpcy5pbnB1dFJlZi5jdXJyZW50LmNsaWNrKCk7XG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAnZm9jdXMnLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgLy8gd2FpdCBhIGZldyBtaWxsaXMsIGJlY2F1c2UgYXQgbGVhc3QgaW4gRkZcbiAgICAgICAgICAvLyB0aGUgb25Gb2N1cyBoYXBwZW5zIGJlZm9yZSB0aGUgZmlsZSBjaGFuZ2UuLi5cbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlucHV0UmVmLmN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1wcm9taXNlLXJlamVjdC1lcnJvcnNcbiAgICAgICAgICAgICAgcmVqZWN0KCdyZWYgaXMgbnVsbCcpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc29sdmUodGhpcy5pbnB1dFJlZi5jdXJyZW50LmZpbGVzKTtcbiAgICAgICAgICB9LCA1MCk7XG4gICAgICAgIH0sXG4gICAgICAgIHsgb25jZTogdHJ1ZSB9LFxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPGlucHV0IHJlZj17dGhpcy5pbnB1dFJlZn0gdHlwZT1cImZpbGVcIiBzdHlsZT17eyBkaXNwbGF5OiAnbm9uZScgfX0gYXJpYS1oaWRkZW4gLz47XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRmlsZVVwbG9hZDtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGRlZmluZU1lc3NhZ2VzLCBGb3JtYXR0ZWRNZXNzYWdlIGFzIE0gfSBmcm9tICdyZWFjdC1pbnRsJztcblxuaW1wb3J0IFRleHRGaWVsZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UZXh0RmllbGQnO1xuXG5pbXBvcnQgU2ltcGxlRGlhbG9nIGZyb20gJy4uLy4uL21pc2MvU2ltcGxlRGlhbG9nJztcblxuaW1wb3J0IHR5cGUgeyBEaXJSZWZlcmVuY2UsIEZpbGVUeXBlLCBGaWxlRGVzYyB9IGZyb20gJy4nO1xuXG5jb25zdCBtZXNzYWdlcyA9IGRlZmluZU1lc3NhZ2VzKHtcbiAgdGl0bGU6IHtcbiAgICBpZDogJ2FwcC5pZGUuY3JlYXRlX2ZpbGVfZGlhbG9nLnRpdGxlJyxcbiAgICBkZXNjcmlwdGlvbjogJ1RpdGxlIGZvciB0aGUgZmlsZSBjcmVhdGlvbiBkaWFsb2cnLFxuICAgIGRlZmF1bHRNZXNzYWdlOiAnQ3JlYXRlIG5ldyB7dHlwZSwgc2VsZWN0LCBGSUxFIHtmaWxlfSBESVJFQ1RPUlkge2ZvbGRlcn19JyxcbiAgfSxcbiAgZGVzY3JpcHRpb246IHtcbiAgICBpZDogJ2FwcC5pZGUuY3JlYXRlX2ZpbGVfZGlhbG9nLmRlc2NyaXB0aW9uJyxcbiAgICBkZXNjcmlwdGlvbjogJ1RleHQgZm9yIHRoZSBmaWxlIGNyZWF0aW9uIGRpYWxvZycsXG4gICAgZGVmYXVsdE1lc3NhZ2U6IFwiUGxlYXNlIGVudGVyIHRoZSBuZXcge3R5cGUsIHNlbGVjdCwgRklMRSB7ZmlsZSdzfSBESVJFQ1RPUlkge2ZvbGRlcidzfX0gbmFtZS5cIixcbiAgfSxcbn0pO1xuXG50eXBlIFNpbXBsZURpYWxvZ1Byb3BzID0gUmVhY3QuRWxlbWVudFByb3BzPHR5cGVvZiBTaW1wbGVEaWFsb2c+O1xuXG4vLyB0aGlzIHR5cGUgaGFzIGFsbCBwcm9wZXJ0aWVzIHRoYXQgYXJlIGdlbmVyYXRlZCBieSBtb3VudFNpbXBsZURpYWxvZygpXG50eXBlIE1vdW50ZWRTaW1wbGVEaWFsb2dQcm9wcyA9ICREaWZmPFxuICBTaW1wbGVEaWFsb2dQcm9wcyxcbiAgLy8gdGhlc2UgYXJlIHRoZSBvbmVzIHRoYXQgYXJlbid0XG4gIHt8XG4gICAgaWQ6ICRQcm9wZXJ0eVR5cGU8U2ltcGxlRGlhbG9nUHJvcHMsICdpZCc+LFxuICB8fSxcbj47XG5cbnR5cGUgQ3JlYXRlRmlsZURpYWxvZ0hvb2sgPSB7fFxuICBzaG93KHBhcmVudERpcjogRGlyUmVmZXJlbmNlLCBkZXNjOiBGaWxlRGVzYyk6IHZvaWQsXG4gIG1vdW50U2ltcGxlRGlhbG9nKCk6IE1vdW50ZWRTaW1wbGVEaWFsb2dQcm9wcyxcbnx9O1xuXG50eXBlIENvbmZpZyA9IHt8XG4gIHBhcmVudERpcjogRGlyUmVmZXJlbmNlLFxuICBkZXNjOiBGaWxlRGVzYyxcbnx9O1xuXG50eXBlIEZpbGVOYW1lU3RhdGUgPSB7fFxuICBhY3R1YWxOZXdGaWxlTmFtZTogc3RyaW5nLFxuICB2YWxpZDogYm9vbGVhbixcbnx9O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VDcmVhdGVGaWxlRGlhbG9nKFxuICBvbkNyZWF0ZTogKFxuICAgIHBhcmVudERpcjogRGlyUmVmZXJlbmNlLFxuICAgIG5ld0ZpbGVOYW1lOiBzdHJpbmcsXG4gICAgdHlwZTogRmlsZVR5cGUsXG4gICkgPT4gYm9vbGVhbiB8IFByb21pc2U8Ym9vbGVhbj4sXG4pOiBDcmVhdGVGaWxlRGlhbG9nSG9vayB7XG4gIGNvbnN0IFtvcGVuLCBzZXRPcGVuXSA9IFJlYWN0LnVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2NvbmZpZywgc2V0Q29uZmlnXSA9IFJlYWN0LnVzZVN0YXRlPENvbmZpZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbmV3RmlsZU5hbWUsIHNldE5ld0ZpbGVOYW1lXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZz4oJycpO1xuXG4gIGZ1bmN0aW9uIHNob3cocGFyZW50RGlyOiBEaXJSZWZlcmVuY2UsIGRlc2M6IEZpbGVEZXNjKSB7XG4gICAgc2V0T3Blbih0cnVlKTtcbiAgICBzZXRDb25maWcoeyBwYXJlbnREaXIsIGRlc2MgfSk7XG4gICAgc2V0TmV3RmlsZU5hbWUoJycpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25DYW5jZWwoKSB7XG4gICAgc2V0T3BlbihmYWxzZSk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkNoYW5nZShldmVudCkge1xuICAgIGNvbnN0IG5hbWUgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgY29uc3QgbmFtZUNsZWFuID0gbmFtZS5yZXBsYWNlKC9bXi1cXHcjJCUoKS4sOjsgXS9nLCAnJyk7XG4gICAgc2V0TmV3RmlsZU5hbWUobmFtZUNsZWFuKTtcbiAgfVxuXG4gIGNvbnN0IFtmaWxlTmFtZVN0YXRlLCBzZXRGaWxlTmFtZVN0YXRlXSA9IFJlYWN0LnVzZVN0YXRlPEZpbGVOYW1lU3RhdGU+KHtcbiAgICBhY3R1YWxOZXdGaWxlTmFtZTogJycsXG4gICAgdmFsaWQ6IGZhbHNlLFxuICB9KTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY29uZmlnID09PSBudWxsKSByZXR1cm47XG5cbiAgICBjb25zdCB7IHBhcmVudERpciwgZGVzYyB9ID0gY29uZmlnO1xuXG4gICAgY29uc3QgYWN0dWFsTmV3RmlsZU5hbWUgPVxuICAgICAgZGVzYy50eXBlID09PSAnRElSRUNUT1JZJyB8fCBuZXdGaWxlTmFtZS5lbmRzV2l0aChkZXNjLmV4dGVuc2lvbilcbiAgICAgICAgPyBuZXdGaWxlTmFtZVxuICAgICAgICA6IGAke25ld0ZpbGVOYW1lfSR7ZGVzYy5leHRlbnNpb259YDtcbiAgICBjb25zdCB2YWxpZCA9XG4gICAgICBuZXdGaWxlTmFtZSAhPT0gJycgJiYgcGFyZW50RGlyLmZpbGUuY29udGVudHMuZXZlcnkoKGYpID0+IGYubmFtZSAhPT0gYWN0dWFsTmV3RmlsZU5hbWUpO1xuICAgIHNldEZpbGVOYW1lU3RhdGUoe1xuICAgICAgYWN0dWFsTmV3RmlsZU5hbWUsXG4gICAgICB2YWxpZCxcbiAgICB9KTtcbiAgfSwgW2NvbmZpZywgbmV3RmlsZU5hbWVdKTtcblxuICBhc3luYyBmdW5jdGlvbiBvbkNvbmZpcm0oKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcbiAgICBpZiAoIW9wZW4pIHRocm93ICdkaWFsb2cgaXMgbm90IHNob3duJztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICAgIGlmIChjb25maWcgPT09IG51bGwpIHRocm93ICd1bnJlYWNoYWJsZSc7XG5cbiAgICBjb25zdCB7IHBhcmVudERpciwgZGVzYyB9ID0gY29uZmlnO1xuICAgIGNvbnN0IHsgYWN0dWFsTmV3RmlsZU5hbWUgfSA9IGZpbGVOYW1lU3RhdGU7XG5cbiAgICBjb25zdCBzdWNjZXNzID0gYXdhaXQgb25DcmVhdGUocGFyZW50RGlyLCBhY3R1YWxOZXdGaWxlTmFtZSwgZGVzYy50eXBlKTtcbiAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgc2V0T3BlbihmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZGVzYyA9IGNvbmZpZz8uZGVzYyA/PyB7IHR5cGU6ICdESVJFQ1RPUlknIH07XG4gIGNvbnN0IHsgdHlwZSB9ID0gZGVzYztcbiAgY29uc3QgeyB2YWxpZCB9ID0gZmlsZU5hbWVTdGF0ZTtcblxuICBjb25zdCBwbGFjZWhvbGRlciA9IGRlc2MudHlwZSA9PT0gJ0ZJTEUnID8gYGZpbGUke2Rlc2MuZXh0ZW5zaW9ufWAgOiAnZm9sZGVyJztcblxuICByZXR1cm4ge1xuICAgIHNob3csXG4gICAgbW91bnRTaW1wbGVEaWFsb2coKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvcGVuLFxuICAgICAgICB2YWxpZCxcbiAgICAgICAgdGl0bGU6IDxNIHsuLi5tZXNzYWdlcy50aXRsZX0gdmFsdWVzPXt7IHR5cGUgfX0gLz4sXG4gICAgICAgIGRlc2NyaXB0aW9uOiA8TSB7Li4ubWVzc2FnZXMuZGVzY3JpcHRpb259IHZhbHVlcz17eyB0eXBlIH19IC8+LFxuICAgICAgICBhY3Rpb25zOiAnT0tfQ0FOQ0VMJyxcbiAgICAgICAgb25DYW5jZWwsXG4gICAgICAgIG9uQ29uZmlybSxcbiAgICAgICAgY2hpbGRyZW46IChcbiAgICAgICAgICA8VGV4dEZpZWxkXG4gICAgICAgICAgICBhdXRvRm9jdXNcbiAgICAgICAgICAgIG1hcmdpbj1cImRlbnNlXCJcbiAgICAgICAgICAgIGlkPVwibmFtZVwiXG4gICAgICAgICAgICBsYWJlbD17cGxhY2Vob2xkZXJ9XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICB2YWx1ZT17bmV3RmlsZU5hbWV9XG4gICAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAgICAgICBlcnJvcj17IXZhbGlkfVxuICAgICAgICAgICAgZnVsbFdpZHRoXG4gICAgICAgICAgLz5cbiAgICAgICAgKSxcbiAgICAgIH07XG4gICAgfSxcbiAgfTtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGRlZmluZU1lc3NhZ2VzLCBGb3JtYXR0ZWRNZXNzYWdlIGFzIE0gfSBmcm9tICdyZWFjdC1pbnRsJztcblxuaW1wb3J0IFNpbXBsZURpYWxvZyBmcm9tICcuLi8uLi9taXNjL1NpbXBsZURpYWxvZyc7XG5cbmltcG9ydCB0eXBlIHsgRmlsZVJlZmVyZW5jZSB9IGZyb20gJy4nO1xuXG5jb25zdCBtZXNzYWdlcyA9IGRlZmluZU1lc3NhZ2VzKHtcbiAgdGl0bGU6IHtcbiAgICBpZDogJ2FwcC5pZGUuZGVsZXRlX2ZpbGVfZGlhbG9nLnRpdGxlJyxcbiAgICBkZXNjcmlwdGlvbjogJ1RpdGxlIGZvciB0aGUgZmlsZSBkZWxldGlvbiBkaWFsb2cnLFxuICAgIGRlZmF1bHRNZXNzYWdlOiAnQ29uZmlybSBkZWxldGlvbicsXG4gIH0sXG4gIGRlc2NyaXB0aW9uOiB7XG4gICAgaWQ6ICdhcHAuaWRlLmRlbGV0ZV9maWxlX2RpYWxvZy5kZXNjcmlwdGlvbicsXG4gICAgZGVzY3JpcHRpb246ICdUZXh0IGZvciB0aGUgZmlsZSBkZWxldGlvbiBkaWFsb2cnLFxuICAgIGRlZmF1bHRNZXNzYWdlOlxuICAgICAgJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUge3R5cGUsIHNlbGVjdCwgRklMRSB7ZmlsZX0gRElSRUNUT1JZIHtmb2xkZXJ9fSBcIntuYW1lfVwiPycsXG4gIH0sXG59KTtcblxudHlwZSBTaW1wbGVEaWFsb2dQcm9wcyA9IFJlYWN0LkVsZW1lbnRQcm9wczx0eXBlb2YgU2ltcGxlRGlhbG9nPjtcblxuLy8gdGhpcyB0eXBlIGhhcyBhbGwgcHJvcGVydGllcyB0aGF0IGFyZSBnZW5lcmF0ZWQgYnkgbW91bnRTaW1wbGVEaWFsb2coKVxudHlwZSBNb3VudGVkU2ltcGxlRGlhbG9nUHJvcHMgPSAkRGlmZjxcbiAgU2ltcGxlRGlhbG9nUHJvcHMsXG4gIC8vIHRoZXNlIGFyZSB0aGUgb25lcyB0aGF0IGFyZW4ndFxuICB7fFxuICAgIGlkOiAkUHJvcGVydHlUeXBlPFNpbXBsZURpYWxvZ1Byb3BzLCAnaWQnPixcbiAgfH0sXG4+O1xuXG50eXBlIERlbGV0ZUZpbGVEaWFsb2dIb29rID0ge3xcbiAgc2hvdyhmaWxlOiBGaWxlUmVmZXJlbmNlKTogdm9pZCxcbiAgbW91bnRTaW1wbGVEaWFsb2coKTogTW91bnRlZFNpbXBsZURpYWxvZ1Byb3BzLFxufH07XG5cbnR5cGUgQ29uZmlnID0ge3xcbiAgZmlsZTogRmlsZVJlZmVyZW5jZSxcbnx9O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VEZWxldGVGaWxlRGlhbG9nKFxuICBvbkRlbGV0ZTogKGZpbGU6IEZpbGVSZWZlcmVuY2UpID0+IGJvb2xlYW4gfCBQcm9taXNlPGJvb2xlYW4+LFxuKTogRGVsZXRlRmlsZURpYWxvZ0hvb2sge1xuICBjb25zdCBbb3Blbiwgc2V0T3Blbl0gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtjb25maWcsIHNldENvbmZpZ10gPSBSZWFjdC51c2VTdGF0ZTxDb25maWcgfCBudWxsPihudWxsKTtcblxuICBmdW5jdGlvbiBzaG93KGZpbGU6IEZpbGVSZWZlcmVuY2UpIHtcbiAgICBzZXRPcGVuKHRydWUpO1xuICAgIHNldENvbmZpZyh7IGZpbGUgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkNhbmNlbCgpIHtcbiAgICBzZXRPcGVuKGZhbHNlKTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIG9uQ29uZmlybSgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICAgIGlmICghb3BlbikgdGhyb3cgJ2RpYWxvZyBpcyBub3Qgc2hvd24nO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gICAgaWYgKGNvbmZpZyA9PT0gbnVsbCkgdGhyb3cgJ3VucmVhY2hhYmxlJztcblxuICAgIGNvbnN0IHsgZmlsZSB9ID0gY29uZmlnO1xuXG4gICAgLy8gd2hldGhlciB0aGUgZGVsZXRpb24gc3VjY2VlZGVkIG9yIG5vdCwgd2Ugd2FudCB0byBoaWRlIHRoZSBkaWFsb2cuXG4gICAgLy8gVGh1cywgaWdub3JlIHRoZSByZXN1bHQgb2Ygb25EZWxldGVcbiAgICBhd2FpdCBvbkRlbGV0ZShmaWxlKTtcblxuICAgIC8vIHdlIGRvbid0IHNldCB0aGUgZmlsZSB0byBudWxsIGJlY2F1c2UgdGhhdCByZXN1bHRzIGluIGEgZGlzcGxheSBnbGl0Y2g6XG4gICAgLy8gdGhlIGhpZGUgYW5pbWF0aW9uIHdpbGwgbGVhdmUgdGhlIGZpbGUgbmFtZSB2aXNpYmxlIGZvciBhIHNwbGl0IHNlY29uZFxuICAgIHNldE9wZW4oZmFsc2UpO1xuICB9XG5cbiAgY29uc3QgZmlsZSA9IGNvbmZpZz8uZmlsZS5maWxlO1xuICBjb25zdCBuYW1lID0gZmlsZT8ubmFtZSA/PyAnJztcbiAgY29uc3QgdHlwZSA9IGZpbGU/LmlzRGlyZWN0b3J5KCkgPz8gZmFsc2UgPyAnRElSRUNUT1JZJyA6ICdGSUxFJztcblxuICByZXR1cm4ge1xuICAgIHNob3csXG4gICAgbW91bnRTaW1wbGVEaWFsb2coKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvcGVuLFxuICAgICAgICB2YWxpZDogdHJ1ZSxcbiAgICAgICAgdGl0bGU6IDxNIHsuLi5tZXNzYWdlcy50aXRsZX0gLz4sXG4gICAgICAgIGRlc2NyaXB0aW9uOiA8TSB7Li4ubWVzc2FnZXMuZGVzY3JpcHRpb259IHZhbHVlcz17eyB0eXBlLCBuYW1lIH19IC8+LFxuICAgICAgICBhY3Rpb25zOiAnT0tfYXV0b2ZvY3VzX0NBTkNFTCcsXG4gICAgICAgIG9uQ2FuY2VsLFxuICAgICAgICBvbkNvbmZpcm0sXG4gICAgICB9O1xuICAgIH0sXG4gIH07XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCAqIGFzIGhvb2tzIGZyb20gJy4uLy4uL21pc2MvaG9va3MnO1xuXG4vLyB0aGlzIHR5cGUgaGFzIGFsbCBwcm9wZXJ0aWVzIHRoYXQgYXJlIGdlbmVyYXRlZCBieSBtb3VudExpbmsoKVxudHlwZSBNb3VudGVkTGlua1Byb3BzID0ge3xcbiAgcmVmOiBSZWZPYmplY3Q8J2EnPixcbiAgaHJlZjogc3RyaW5nIHwgdm9pZCxcbiAgZG93bmxvYWQ6IHN0cmluZyB8IHZvaWQsXG4gIHN0eWxlOiB7IC4uLiB9LFxuICAnYXJpYS1oaWRkZW4nOiBib29sZWFuLFxufH07XG5cbnR5cGUgRmlsZURvd25sb2FkSG9vayA9IHt8XG4gIHNob3cobmFtZTogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcpOiB2b2lkLFxuICBtb3VudExpbmsoKTogTW91bnRlZExpbmtQcm9wcyxcbnx9O1xuXG50eXBlIENvbmZpZyA9IHt8XG4gIG5hbWU6IHN0cmluZyxcbiAgb2JqZWN0VVJMOiBzdHJpbmcsXG58fTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlRmlsZURvd25sb2FkKCk6IEZpbGVEb3dubG9hZEhvb2sge1xuICBjb25zdCBbY29uZmlnLCBzZXRDb25maWddID0gUmVhY3QudXNlU3RhdGU8Q29uZmlnIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGxpbmtSZWYgPSBob29rcy51c2VFbGVtZW50UmVmPCdhJz4oKTtcblxuICAvLyBhZnRlciBzZXR0aW5nIHRoZSBjb25maWcsIHNob3cgdGhlIGRvd25sb2FkIHdpbmRvd1xuICAvLyB3aGVuZXZlciB0aGUgY29uZmlnIGlzIGNoYW5nZWQsIHJldm9rZSB0aGUgb2xkIG9iamVjdFVSTFxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjb25maWcgPT09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICAgIGlmIChsaW5rUmVmLmN1cnJlbnQgPT09IG51bGwpIHRocm93ICdyZWYgaXMgbnVsbCc7XG5cbiAgICAvLyBieSB0aGUgdGltZSB0aGUgZWZmZWN0IGlzIGNhbGxlZCwgaXQgc2hvdWxkIGhhdmUgdGhlIGN1cnJlbnQgb2JqZWN0VVJMXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcbiAgICBpZiAobGlua1JlZi5jdXJyZW50LmhyZWYgIT09IGNvbmZpZy5vYmplY3RVUkwpIHRocm93ICd1bnJlYWNoYWJsZSc7XG5cbiAgICBsaW5rUmVmLmN1cnJlbnQuY2xpY2soKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGNvbmZpZy5vYmplY3RVUkwpO1xuICAgIH07XG4gIH0sIFtjb25maWcsIGxpbmtSZWZdKTtcblxuICBmdW5jdGlvbiBzaG93KG5hbWU6IHN0cmluZywgY29udGVudDogc3RyaW5nKSB7XG4gICAgY29uc3Qgb2JqZWN0VVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbY29udGVudF0pKTtcbiAgICBzZXRDb25maWcoeyBuYW1lLCBvYmplY3RVUkwgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHNob3csXG4gICAgbW91bnRMaW5rKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVmOiBsaW5rUmVmLFxuICAgICAgICBocmVmOiBjb25maWc/Lm9iamVjdFVSTCxcbiAgICAgICAgZG93bmxvYWQ6IGNvbmZpZz8ubmFtZSxcbiAgICAgICAgc3R5bGU6IHsgZGlzcGxheTogJ25vbmUnIH0sXG4gICAgICAgICdhcmlhLWhpZGRlbic6IHRydWUsXG4gICAgICB9O1xuICAgIH0sXG4gIH07XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBkZWZpbmVNZXNzYWdlcywgRm9ybWF0dGVkTWVzc2FnZSBhcyBNIH0gZnJvbSAncmVhY3QtaW50bCc7XG5cbmltcG9ydCBUZXh0RmllbGQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVGV4dEZpZWxkJztcblxuaW1wb3J0IFNpbXBsZURpYWxvZyBmcm9tICcuLi8uLi9taXNjL1NpbXBsZURpYWxvZyc7XG5cbmltcG9ydCB0eXBlIHsgRmlsZVJlZmVyZW5jZSB9IGZyb20gJy4nO1xuXG5jb25zdCBtZXNzYWdlcyA9IGRlZmluZU1lc3NhZ2VzKHtcbiAgdGl0bGU6IHtcbiAgICBpZDogJ2FwcC5pZGUucmVuYW1lX2ZpbGVfZGlhbG9nLnRpdGxlJyxcbiAgICBkZXNjcmlwdGlvbjogJ1RpdGxlIGZvciB0aGUgZmlsZSByZW5hbWUgZGlhbG9nJyxcbiAgICBkZWZhdWx0TWVzc2FnZTogJ1JlbmFtZSB7dHlwZSwgc2VsZWN0LCBGSUxFIHtmaWxlfSBESVJFQ1RPUlkge2ZvbGRlcn19JyxcbiAgfSxcbiAgZGVzY3JpcHRpb246IHtcbiAgICBpZDogJ2FwcC5pZGUucmVuYW1lX2ZpbGVfZGlhbG9nLmRlc2NyaXB0aW9uJyxcbiAgICBkZXNjcmlwdGlvbjogJ1RleHQgZm9yIHRoZSBmaWxlIHJlbmFtZSBkaWFsb2cnLFxuICAgIGRlZmF1bHRNZXNzYWdlOiBcIlBsZWFzZSBlbnRlciB0aGUge3R5cGUsIHNlbGVjdCwgRklMRSB7ZmlsZSdzfSBESVJFQ1RPUlkge2ZvbGRlcidzfX0gbmV3IG5hbWUuXCIsXG4gIH0sXG59KTtcblxudHlwZSBTaW1wbGVEaWFsb2dQcm9wcyA9IFJlYWN0LkVsZW1lbnRQcm9wczx0eXBlb2YgU2ltcGxlRGlhbG9nPjtcblxuLy8gdGhpcyB0eXBlIGhhcyBhbGwgcHJvcGVydGllcyB0aGF0IGFyZSBnZW5lcmF0ZWQgYnkgbW91bnRTaW1wbGVEaWFsb2coKVxudHlwZSBNb3VudGVkU2ltcGxlRGlhbG9nUHJvcHMgPSAkRGlmZjxcbiAgU2ltcGxlRGlhbG9nUHJvcHMsXG4gIC8vIHRoZXNlIGFyZSB0aGUgb25lcyB0aGF0IGFyZW4ndFxuICB7fFxuICAgIGlkOiAkUHJvcGVydHlUeXBlPFNpbXBsZURpYWxvZ1Byb3BzLCAnaWQnPixcbiAgfH0sXG4+O1xuXG50eXBlIFJlbmFtZUZpbGVEaWFsb2dIb29rID0ge3xcbiAgc2hvdyhmaWxlOiBGaWxlUmVmZXJlbmNlLCBzaWJsaW5nTmFtZXM6IHN0cmluZ1tdKTogdm9pZCxcbiAgbW91bnRTaW1wbGVEaWFsb2coKTogTW91bnRlZFNpbXBsZURpYWxvZ1Byb3BzLFxufH07XG5cbnR5cGUgQ29uZmlnID0ge3xcbiAgZmlsZTogRmlsZVJlZmVyZW5jZSxcbiAgc2libGluZ05hbWVzOiBzdHJpbmdbXSxcbnx9O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VSZW5hbWVGaWxlRGlhbG9nKFxuICBvblJlbmFtZTogKGZpbGU6IEZpbGVSZWZlcmVuY2UsIG5ld0ZpbGVOYW1lOiBzdHJpbmcpID0+IGJvb2xlYW4gfCBQcm9taXNlPGJvb2xlYW4+LFxuKTogUmVuYW1lRmlsZURpYWxvZ0hvb2sge1xuICBjb25zdCBbb3Blbiwgc2V0T3Blbl0gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtjb25maWcsIHNldENvbmZpZ10gPSBSZWFjdC51c2VTdGF0ZTxDb25maWcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW25ld0ZpbGVOYW1lLCBzZXROZXdGaWxlTmFtZV0gPSBSZWFjdC51c2VTdGF0ZTxzdHJpbmc+KCcnKTtcblxuICBmdW5jdGlvbiBzaG93KGZpbGU6IEZpbGVSZWZlcmVuY2UsIHNpYmxpbmdOYW1lczogc3RyaW5nW10pIHtcbiAgICBzZXRPcGVuKHRydWUpO1xuICAgIHNldENvbmZpZyh7IGZpbGUsIHNpYmxpbmdOYW1lcyB9KTtcbiAgICBzZXROZXdGaWxlTmFtZShmaWxlLmZpbGUubmFtZSk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkNhbmNlbCgpIHtcbiAgICBzZXRPcGVuKGZhbHNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgY29uc3QgbmFtZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICBjb25zdCBuYW1lQ2xlYW4gPSBuYW1lLnJlcGxhY2UoL1teLVxcdyMkJSgpLiw6OyBdL2csICcnKTtcbiAgICBzZXROZXdGaWxlTmFtZShuYW1lQ2xlYW4pO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIG9uQ29uZmlybSgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICAgIGlmICghb3BlbikgdGhyb3cgJ2RpYWxvZyBpcyBub3Qgc2hvd24nO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gICAgaWYgKGNvbmZpZyA9PT0gbnVsbCkgdGhyb3cgJ3VucmVhY2hhYmxlJztcblxuICAgIGNvbnN0IHsgZmlsZSB9ID0gY29uZmlnO1xuXG4gICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IG9uUmVuYW1lKGZpbGUsIG5ld0ZpbGVOYW1lKTtcbiAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgc2V0T3BlbihmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgdHlwZSA9IGNvbmZpZz8uZmlsZS5maWxlLmlzRGlyZWN0b3J5KCkgPz8gZmFsc2UgPyAnRElSRUNUT1JZJyA6ICdGSUxFJztcbiAgY29uc3Qgc2libGluZ05hbWVzID0gY29uZmlnPy5zaWJsaW5nTmFtZXMgPz8gW107XG5cbiAgY29uc3QgdmFsaWQgPSBuZXdGaWxlTmFtZSAhPT0gJycgJiYgc2libGluZ05hbWVzLmV2ZXJ5KChuYW1lKSA9PiBuYW1lICE9PSBuZXdGaWxlTmFtZSk7XG5cbiAgcmV0dXJuIHtcbiAgICBzaG93LFxuICAgIG1vdW50U2ltcGxlRGlhbG9nKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb3BlbixcbiAgICAgICAgdmFsaWQsXG4gICAgICAgIHRpdGxlOiA8TSB7Li4ubWVzc2FnZXMudGl0bGV9IHZhbHVlcz17eyB0eXBlIH19IC8+LFxuICAgICAgICBkZXNjcmlwdGlvbjogPE0gey4uLm1lc3NhZ2VzLmRlc2NyaXB0aW9ufSB2YWx1ZXM9e3sgdHlwZSB9fSAvPixcbiAgICAgICAgYWN0aW9uczogJ09LX0NBTkNFTCcsXG4gICAgICAgIG9uQ2FuY2VsLFxuICAgICAgICBvbkNvbmZpcm0sXG4gICAgICAgIGNoaWxkcmVuOiAoXG4gICAgICAgICAgPFRleHRGaWVsZFxuICAgICAgICAgICAgYXV0b0ZvY3VzXG4gICAgICAgICAgICBtYXJnaW49XCJkZW5zZVwiXG4gICAgICAgICAgICBpZD1cIm5hbWVcIlxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgdmFsdWU9e25ld0ZpbGVOYW1lfVxuICAgICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgICAgICAgZXJyb3I9eyF2YWxpZH1cbiAgICAgICAgICAgIGZ1bGxXaWR0aFxuICAgICAgICAgIC8+XG4gICAgICAgICksXG4gICAgICB9O1xuICAgIH0sXG4gIH07XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdXNlU3R5bGVzIGZyb20gJ2lzb21vcnBoaWMtc3R5bGUtbG9hZGVyL3VzZVN0eWxlcyc7XG5pbXBvcnQgeyBtYWtlU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL3N0eWxlcyc7XG5pbXBvcnQgeyBkZWZpbmVNZXNzYWdlcywgRm9ybWF0dGVkTWVzc2FnZSBhcyBNIH0gZnJvbSAncmVhY3QtaW50bCc7XG5cbmltcG9ydCBCdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQnV0dG9uJztcbmltcG9ydCBHcmlkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWQnO1xuaW1wb3J0IE1lbnUgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvTWVudSc7XG5pbXBvcnQgUGFwZXIgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvUGFwZXInO1xuaW1wb3J0IEljb25CdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvSWNvbkJ1dHRvbic7XG5pbXBvcnQgVG9vbHRpcCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9Ub29sdGlwJztcblxuaW1wb3J0IHsgdXNlUG9wdXBTdGF0ZSwgYmluZFRyaWdnZXIsIGJpbmRNZW51IH0gZnJvbSAnbWF0ZXJpYWwtdWktcG9wdXAtc3RhdGUvaG9va3MnO1xuXG5pbXBvcnQgZmlsZXIsIHsgZnMgfSBmcm9tICdmaWxlcic7XG5cbmltcG9ydCBGbGV4TGF5b3V0IGZyb20gJ2ZsZXhsYXlvdXQtcmVhY3QnO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNzcy1tb2R1bGVzL25vLXVudXNlZC1jbGFzc1xuaW1wb3J0IEZsZXhMYXlvdXRUaGVtZSBmcm9tICcuL2ZsZXhfbGF5b3V0X2lkZS5jc3MnO1xuXG5pbXBvcnQgeyBSZXN0b3JlTGF5b3V0SWNvbiwgU2V0dGluZ3NJY29uLCBDb25zb2xlSWNvbiwgU2ltdWxhdG9ySWNvbiB9IGZyb20gJy4uLy4uL21pc2MvcGFsZXR0ZSc7XG5pbXBvcnQgKiBhcyBob29rcyBmcm9tICcuLi8uLi9taXNjL2hvb2tzJztcbmltcG9ydCBTaW1wbGVEaWFsb2cgZnJvbSAnLi4vLi4vbWlzYy9TaW1wbGVEaWFsb2cnO1xuXG5pbXBvcnQgQ29uc29sZSwgeyB0eXBlIENvbnNvbGVUeXBlIH0gZnJvbSAnLi4vQ29uc29sZSc7XG5pbXBvcnQgRWRpdG9yIGZyb20gJy4uL0VkaXRvcic7XG5pbXBvcnQgRmlsZVRyZWUsIHtcbiAgdHlwZSBEaXJSZWZlcmVuY2UsXG4gIHR5cGUgRmlsZVJlZmVyZW5jZSxcbiAgdHlwZSBGaWxlQWN0aW9uLFxuICB0eXBlIEZpbGVUeXBlLFxufSBmcm9tICcuLi9GaWxlVHJlZSc7XG5pbXBvcnQgTWFya2Rvd24gZnJvbSAnLi4vTWFya2Rvd24nO1xuaW1wb3J0IElmcmFtZVZpZXdlciBmcm9tICcuLi9JZnJhbWVWaWV3ZXInO1xuaW1wb3J0IFNpbXVsYXRvciwgeyB0eXBlIFNpbXVsYXRvclR5cGUgfSBmcm9tICcuLi9TaW11bGF0b3InO1xuaW1wb3J0IFNpbXVsYXRvckVkaXRvciwgeyBnZW5lcmF0ZUNvbmZpZ0Zyb21YbWwgfSBmcm9tICcuLi9TaW11bGF0b3JFZGl0b3InO1xuaW1wb3J0IFZpc3VhbEVkaXRvciBmcm9tICcuLi9WaXN1YWxFZGl0b3InO1xuaW1wb3J0IHsgU2ltdWxhdGlvbiwgc2NoZW1hIGFzIHNpbXVsYXRpb25TY2hlbWEgfSBmcm9tICcuLi9TaW11bGF0b3Ivc2ltdWxhdGlvbic7XG5cbmltcG9ydCB7XG4gIHR5cGUgRmlsZXJSZWN1cnNpdmVTdGF0SW5mbyxcbiAgdHlwZSBGaWxlclJlY3Vyc2l2ZURpcmVjdG9yeUluZm8sXG4gIGdldERlc2NlbmRhbnQsXG59IGZyb20gJy4uLy4uLy4uL2NvcmUvc3RvcmUvcHJvamVjdHMnO1xuXG5pbXBvcnQgdXNlQ3JlYXRlRmlsZURpYWxvZyBmcm9tICcuLi9GaWxlVHJlZS91c2VDcmVhdGVGaWxlRGlhbG9nJztcbmltcG9ydCB1c2VSZW5hbWVGaWxlRGlhbG9nIGZyb20gJy4uL0ZpbGVUcmVlL3VzZVJlbmFtZUZpbGVEaWFsb2cnO1xuaW1wb3J0IHVzZURlbGV0ZUZpbGVEaWFsb2cgZnJvbSAnLi4vRmlsZVRyZWUvdXNlRGVsZXRlRmlsZURpYWxvZyc7XG5pbXBvcnQgRmlsZVVwbG9hZCBmcm9tICcuLi9GaWxlVHJlZS9GaWxlVXBsb2FkJztcbmltcG9ydCB1c2VGaWxlRG93bmxvYWQgZnJvbSAnLi4vRmlsZVRyZWUvdXNlRmlsZURvd25sb2FkJztcbmltcG9ydCBFeGVjdXRvciBmcm9tICcuLi9FeGVjdXRvcic7XG5pbXBvcnQgaW5pdE1pc2NTZGsgZnJvbSAnLi4vLi4vLi4vc2RrL21pc2MnO1xuaW1wb3J0IGluaXRIZWRnZWhvZ1NkayBmcm9tICcuLi8uLi8uLi9zZGsvaGVkZ2Vob2cnO1xuaW1wb3J0IFBsdWdpbk1hbmFnZXIgZnJvbSAnLi4vLi4vLi4vc2RrL1BsdWdpbk1hbmFnZXInO1xuXG5pbXBvcnQgdXNlUHJvamVjdEluZm8gZnJvbSAnLi91c2VQcm9qZWN0SW5mbyc7XG5pbXBvcnQgdXNlUHJvamVjdENhY2hlIGZyb20gJy4vdXNlUHJvamVjdENhY2hlJztcbmltcG9ydCB1c2VQZXJzaXN0ZW50U3RhdGUgZnJvbSAnLi91c2VQZXJzaXN0ZW50U3RhdGUnO1xuaW1wb3J0IHVzZUxheW91dE1vZGVsLCB7IERFRkFVTFRfTEFZT1VUX1NUQVRFIH0gZnJvbSAnLi91c2VMYXlvdXRNb2RlbCc7XG5cbmNvbnN0IG1lc3NhZ2VzID0gZGVmaW5lTWVzc2FnZXMoe1xuICBzaW11bGF0b3JUb29sdGlwOiB7XG4gICAgaWQ6ICdhcHAuaWRlLnRvb2xiYXIuc2ltdWxhdG9yX3Rvb2x0aXAnLFxuICAgIGRlc2NyaXB0aW9uOiAnVG9vbHRpcCBmb3IgdGhlIFNpbXVsYXRvciB0b29sYmFyIGJ1dHRvbicsXG4gICAgZGVmYXVsdE1lc3NhZ2U6ICdTaW11bGF0b3InLFxuICB9LFxuICBjb25zb2xlVG9vbHRpcDoge1xuICAgIGlkOiAnYXBwLmlkZS50b29sYmFyLmNvbnNvbGVfdG9vbHRpcCcsXG4gICAgZGVzY3JpcHRpb246ICdUb29sdGlwIGZvciB0aGUgQ29uc29sZSB0b29sYmFyIGJ1dHRvbicsXG4gICAgZGVmYXVsdE1lc3NhZ2U6ICdDb25zb2xlJyxcbiAgfSxcbiAgcmVzdG9yZUxheW91dFRvb2x0aXA6IHtcbiAgICBpZDogJ2FwcC5pZGUudG9vbGJhci5yZXN0b3JlX2xheW91dF90b29sdGlwJyxcbiAgICBkZXNjcmlwdGlvbjogJ1Rvb2x0aXAgZm9yIHRoZSBSZXN0b3JlIExheW91dCB0b29sYmFyIGJ1dHRvbicsXG4gICAgZGVmYXVsdE1lc3NhZ2U6ICdSZXN0b3JlIGxheW91dCcsXG4gIH0sXG4gIHByb2plY3RTZXR0aW5nc1Rvb2x0aXA6IHtcbiAgICBpZDogJ2FwcC5pZGUudG9vbGJhci5wcm9qZWN0X3NldHRpbmdzX3Rvb2x0aXAnLFxuICAgIGRlc2NyaXB0aW9uOiAnVG9vbHRpcCBmb3IgdGhlIHByb2plY3Qgc2V0dGluZ3MgdG9vbGJhciBtZW51IGJ1dHRvbicsXG4gICAgZGVmYXVsdE1lc3NhZ2U6ICdQcm9qZWN0IHNldHRpbmdzJyxcbiAgfSxcbiAgc2hvd0hpZGVNZXRhZGF0YToge1xuICAgIGlkOiAnYXBwLmlkZS50b29sYmFyLnByb2plY3Rfc2V0dGluZ3Muc2hvd19oaWRlX21ldGFkYXRhJyxcbiAgICBkZXNjcmlwdGlvbjogJ01lbnUgaXRlbSB0ZXh0IGZvciBzaG93aW5nL2hpZGluZyB0aGUgLm1ldGFkYXRhIGZvbGRlcicsXG4gICAgZGVmYXVsdE1lc3NhZ2U6ICd7YWN0aW9uLCBzZWxlY3QsIFNIT1cge1Nob3d9IEhJREUge0hpZGV9fSBNZXRhZGF0YScsXG4gIH0sXG4gIGNyZWF0ZU1ldGFkYXRhOiB7XG4gICAgaWQ6ICdhcHAuaWRlLnRvb2xiYXIucHJvamVjdF9zZXR0aW5ncy5jcmVhdGVfbWV0YWRhdGEnLFxuICAgIGRlc2NyaXB0aW9uOiAnTWVudSBpdGVtIHRleHQgZm9yIGNyZWF0aW5nIHRoZSAubWV0YWRhdGEgZm9sZGVyJyxcbiAgICBkZWZhdWx0TWVzc2FnZTogJ0NyZWF0ZSBNZXRhZGF0YSBmb2xkZXInLFxuICB9LFxufSk7XG5cbmNvbnN0IHNoID0gbmV3IGZzLlNoZWxsKCk7XG5cbnR5cGUgT3Blbk9yRm9jdXNUYWJPcHRpb25zID0ge3xcbiAgbG9jYXRpb24/OiBGbGV4TGF5b3V0LkRvY2tMb2NhdGlvbixcbiAgYWx3YXlzTmV3VGFic2V0PzogYm9vbGVhbixcbnx9O1xuXG5jb25zdCBTcXVhcmVQYXBlciA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFJlYWN0LkVsZW1lbnRDb25maWc8dHlwZW9mIFBhcGVyPixcbiAgUmVhY3QuRWxlbWVudDx0eXBlb2YgUGFwZXI+LFxuPigocHJvcHMsIHJlZikgPT4gPFBhcGVyIHJlZj17cmVmfSBzcXVhcmUgey4uLnByb3BzfSAvPik7XG5cbmNvbnN0IHVzZVN0eWxlc01hdGVyaWFsID0gbWFrZVN0eWxlcygodGhlbWUpID0+ICh7XG4gIHJvb3Q6IHtcbiAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgfSxcbiAgbmF2VG9vbGJhcjoge1xuICAgIHBhZGRpbmc6IHRoZW1lLnNwYWNpbmcoMSksXG4gICAgcGFkZGluZ0JvdHRvbTogMCxcbiAgfSxcbiAgZWRpdG9yQ29udGFpbmVyOiB7XG4gICAgZmxleDogJzEgYXV0bycsXG4gICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gIH0sXG59KSk7XG5cbmV4cG9ydCB0eXBlIEV4ZWN1dGlvbkFjdGlvbiA9XG4gIHwge3wgYWN0aW9uOiAnRVhFQ1VURScsIGNvZGU6IHN0cmluZyB8fVxuICB8IHt8IGFjdGlvbjogJ1RFUk1JTkFURScsIHJlc2V0OiBib29sZWFuIHx9XG4gIHwge3wgYWN0aW9uOiAnUkVTRVQnIHx9O1xuXG50eXBlIFByb3BzID0ge3xcbiAgcHJvamVjdE5hbWU6IHN0cmluZyxcbnx9O1xuXG4vKipcbiAqIFRoZSBtYWluIHZpZXcgb2YgdGhlIEhlZGdlaG9nIElERS5cbiAqXG4gKiBUaGlzIGNvbXBvbmVudCBjb21iaW5lcyBtYW5hZ2luZyBvZiB0cmFuc2llbnQgKHdoYXQgcHJvZ3JhbXMgYXJlIHJ1bm5pbmcgZXRjLilcbiAqIGFuZCBwZXJzaXN0ZWQgKHdoYXQgZmlsZXMgYXJlIG9wZW4gZXRjLikgc3RhdGVcbiAqIHdpdGggVUkgZm9yIGFsbCB0aGUgdXN1YWwgcGFydHMgb2YgYW4gSURFOiBhIGZpbGUgdHJlZSwgYSBzdXJmYWNlIGZvciBmaWxlIHRhYnMsXG4gKiBhbmQgaW4gdGhpcyBjYXNlIGEgY29uc29sZSBhbG9uZyB3aXRoIGEgc2ltdWxhdGlvbiBlbnZpcm9ubWVudC5cbiAqL1xuZnVuY3Rpb24gSWRlKHsgcHJvamVjdE5hbWUgfTogUHJvcHMpIHtcbiAgY29uc3QgcHJvamVjdCA9IHVzZVByb2plY3RJbmZvKHByb2plY3ROYW1lKTtcbiAgY29uc3QgW3BsdWdpbnNMb2FkZWQsIHNldFBsdWdpbnNMb2FkZWRdID0gUmVhY3QudXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbcnVubmluZywgc2V0UnVubmluZ10gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG5cbiAgY29uc3QgW3Byb2plY3RDYWNoZSwgcmVmcmVzaFByb2plY3RdID0gdXNlUHJvamVjdENhY2hlKHByb2plY3QpO1xuICBjb25zdCBbc3RhdGUsIGRpc3BhdGNoXSA9IHVzZVBlcnNpc3RlbnRTdGF0ZShwcm9qZWN0Py51aWQgPz8gbnVsbCk7XG4gIGNvbnN0IGNvbnNvbGVSZWYgPSBob29rcy51c2VFbGVtZW50UmVmPHR5cGVvZiBDb25zb2xlPigpO1xuICBjb25zdCBzaW11bGF0b3JSZWYgPSBob29rcy51c2VFbGVtZW50UmVmPHR5cGVvZiBTaW11bGF0b3I+KCk7XG4gIGNvbnN0IGV4ZWN1dG9yUmVmID0gaG9va3MudXNlRWxlbWVudFJlZjx0eXBlb2YgRXhlY3V0b3I+KCk7XG5cbiAgY29uc3QgZmlsZVVwbG9hZFJlZiA9IGhvb2tzLnVzZUVsZW1lbnRSZWY8dHlwZW9mIEZpbGVVcGxvYWQ+KCk7XG5cbiAgY29uc3QgcGx1Z2luTWFuYWdlclJlZiA9IFJlYWN0LnVzZVJlZjxQbHVnaW5NYW5hZ2VyIHwgbnVsbD4obnVsbCk7XG5cbiAgbGV0IGluaXRpYWxMYXlvdXRTdGF0ZSA9IHN0YXRlPy5sYXlvdXRTdGF0ZSA/PyBudWxsO1xuICBpZiAoaW5pdGlhbExheW91dFN0YXRlID09PSBERUZBVUxUX0xBWU9VVF9TVEFURSkge1xuICAgIGlmIChwcm9qZWN0Q2FjaGUgPT09IG51bGwpIHtcbiAgICAgIC8vIGRlbGF5IGNyZWF0aW9uIG9mIHRoZSBsYXlvdXQgbW9kZWwgdW50aWwgdGhlIGNhY2hlIGlzIHJlYWR5XG4gICAgICBpbml0aWFsTGF5b3V0U3RhdGUgPSBudWxsO1xuICAgIH0gZWxzZSBpZiAocHJvamVjdENhY2hlLmxheW91dEpzb24gIT09IG51bGwpIHtcbiAgICAgIC8vIHVzZSB0aGUgc3RvcmVkIGxheW91dCBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0IGxheW91dFxuICAgICAgaW5pdGlhbExheW91dFN0YXRlID0gSlNPTi5wYXJzZShwcm9qZWN0Q2FjaGUubGF5b3V0SnNvbik7XG4gICAgfVxuICAgIC8vIGZhbGx0aHJvdWdoOiBubyBzdG9yZWQgbGF5b3V0LCBqdXN0IHVzZSB0aGUgZGVmYXVsdCBsYXlvdXRcbiAgfVxuICBjb25zdCBbbGF5b3V0TW9kZWwsIHNldExheW91dFN0YXRlLCBsYXlvdXRQcm9wc10gPSB1c2VMYXlvdXRNb2RlbChcbiAgICBpbml0aWFsTGF5b3V0U3RhdGUsXG4gICAgKGxheW91dFN0YXRlKSA9PiB7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6ICdMQVlPVVQnLCBsYXlvdXRTdGF0ZSB9KTtcbiAgICB9LFxuICApO1xuXG4gIC8vIGNyZWF0ZSBuZXcgcGx1Z2luIG1hbmFnZXIgd2hlbiByZWFkeSwgYnV0IG9ubHkgb25jZVxuICBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplUGx1Z2luTWFuYWdlcigpIHtcbiAgICBpZiAocHJvamVjdCA9PT0gbnVsbCB8fCBsYXlvdXRNb2RlbCA9PT0gbnVsbCB8fCBleGVjdXRvclJlZi5jdXJyZW50ID09PSBudWxsIHx8IHBsdWdpbnNMb2FkZWQpXG4gICAgICByZXR1cm47XG5cbiAgICBjb25zdCBwbHVnaW5NYW5hZ2VyID0gbmV3IFBsdWdpbk1hbmFnZXIoZXhlY3V0b3JSZWYuY3VycmVudCwgcHJpbnQsIGdldElucHV0LCBnZXRTaW11bGF0aW9uKTtcbiAgICBhd2FpdCBwbHVnaW5NYW5hZ2VyLmluaXRTZGsoKTtcbiAgICBhd2FpdCBwbHVnaW5NYW5hZ2VyLmxvYWRGcm9tUHJvamVjdE1ldGFkYXRhKHByb2plY3QpO1xuICAgIHBsdWdpbk1hbmFnZXJSZWYuY3VycmVudCA9IHBsdWdpbk1hbmFnZXI7XG4gICAgc2V0UGx1Z2luc0xvYWRlZCh0cnVlKTtcbiAgfVxuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaW5pdGlhbGl6ZVBsdWdpbk1hbmFnZXIoKTtcbiAgfSwgW3Byb2plY3QsIGxheW91dE1vZGVsLCBwbHVnaW5zTG9hZGVkXSk7XG5cbiAgLy8gdXNlcyB1c2VDYWxsYmFjayBiZWNhdXNlIG90aGVyd2lzZSBlYWNoIHJlbmRlciByZXNldHMgdGhlIHJlZi5cbiAgLy8gKHRoZSByZWYgY291bGQgYmUgcmVnaXN0ZXJlZCB3aXRoIGEgbmV3IGNhbGxiYWNrLFxuICAvLyBzbyB0aGUgY2FsbGJhY2sgbmVlZHMgdG8gYmUgc3RhYmxlKVxuICBjb25zdCBhdHRhY2hFeGVjdXRvciA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIChleGVjdXRvcikgPT4ge1xuICAgICAgZXhlY3V0b3JSZWYuY3VycmVudCA9IGV4ZWN1dG9yO1xuICAgICAgaW5pdGlhbGl6ZVBsdWdpbk1hbmFnZXIoKTtcbiAgICB9LFxuICAgIFtleGVjdXRvclJlZiwgcHJvamVjdCwgbGF5b3V0TW9kZWwsIHBsdWdpbnNMb2FkZWRdLFxuICApO1xuXG4gIC8vIGxvYWQgdGhlIHByb2plY3QncyBzaW11bGF0b3IgY29uZmlnIGlmIGl0IG9yIHRoZSBzaW11bGF0b3IgY2hhbmdlc1xuICBjb25zdCBzaW11bGF0b3JYbWwgPSBwcm9qZWN0Q2FjaGU/LnNpbXVsYXRvclhtbCA/PyBudWxsO1xuICBjb25zdCBhc3NldHMgPSBwcm9qZWN0Q2FjaGU/LmFzc2V0cyA/PyBudWxsO1xuXG4gIGZ1bmN0aW9uIHJlZnJlc2hTaW11bGF0b3JGcm9tQ29uZmlnKGNvbmZpZzogc2ltdWxhdGlvblNjaGVtYS5TaW11bGF0aW9uIHwgbnVsbCkge1xuICAgIGlmIChzaW11bGF0b3JSZWYuY3VycmVudCA9PT0gbnVsbCB8fCBjb25maWcgPT09IG51bGwgfHwgYXNzZXRzID09PSBudWxsKSByZXR1cm47XG5cbiAgICBzaW11bGF0b3JSZWYuY3VycmVudC5zaW11bGF0aW9uLmpzb25Jbml0KGNvbmZpZywgYXNzZXRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlZnJlc2hTaW11bGF0b3IoKSB7XG4gICAgaWYgKHNpbXVsYXRvclhtbCA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgY29uc3QgY29uZmlnID0gZ2VuZXJhdGVDb25maWdGcm9tWG1sKHNpbXVsYXRvclhtbCk7XG4gICAgcmVmcmVzaFNpbXVsYXRvckZyb21Db25maWcoY29uZmlnKTtcbiAgfVxuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmVmcmVzaFNpbXVsYXRvcigpO1xuICB9LCBbc2ltdWxhdG9yWG1sLCBhc3NldHNdKTtcblxuICAvLyB1c2VzIHVzZUNhbGxiYWNrIGJlY2F1c2Ugb3RoZXJ3aXNlIGVhY2ggcmVuZGVyIHJlc2V0cyB0aGUgcmVmLlxuICAvLyAodGhlIHJlZiBjb3VsZCBiZSByZWdpc3RlcmVkIHdpdGggYSBuZXcgY2FsbGJhY2ssXG4gIC8vIHNvIHRoZSBjYWxsYmFjayBuZWVkcyB0byBiZSBzdGFibGUpXG4gIGNvbnN0IGF0dGFjaFNpbXVsYXRvciA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIChzaW0pID0+IHtcbiAgICAgIHNpbXVsYXRvclJlZi5jdXJyZW50ID0gc2ltO1xuICAgICAgcmVmcmVzaFNpbXVsYXRvcigpO1xuICAgIH0sXG4gICAgW3NpbXVsYXRvclJlZiwgc2ltdWxhdG9yWG1sXSxcbiAgKTtcblxuICBmdW5jdGlvbiBnZXRGaWxlKHBhdGg6IHN0cmluZyk6IEZpbGVSZWZlcmVuY2Uge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gICAgaWYgKHByb2plY3RDYWNoZSA9PT0gbnVsbCkgdGhyb3cgJ3VucmVhY2hhYmxlJztcblxuICAgIGNvbnN0IGZyYWdtZW50cyA9ICgoKSA9PiB7XG4gICAgICAvLyB0aGUgcm9vdCBwYXRoIGlzIHRoZSBvbmUgcGF0aCB3aGVyZSBhIHRyYWlsaW5nIHNsYXNoIGlzIGNvcnJlY3QuXG4gICAgICAvLyBob3dldmVyLCB0aGlzIGNvbmZ1c2VzIG91ciB1c2Ugb2YgYHNwbGl0YCwgc28gaGFuZGxlIGl0IGFzIGEgc3BlY2lhbCBjYXNlXG4gICAgICBpZiAocGF0aCA9PT0gJy4vJykgcmV0dXJuIFtdO1xuXG4gICAgICBjb25zdCBbX3Jvb3QsIC4uLmZyYWdtZW50c10gPSBwYXRoLnNwbGl0KCcvJyk7XG4gICAgICByZXR1cm4gZnJhZ21lbnRzO1xuICAgIH0pKCk7XG5cbiAgICBjb25zdCBmaWxlID0gZ2V0RGVzY2VuZGFudChwcm9qZWN0Q2FjaGUuZmlsZXMsIC4uLmZyYWdtZW50cyk7XG4gICAgcmV0dXJuIHsgcGF0aCwgZmlsZSB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Tm9kZXMoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcbiAgICBpZiAobGF5b3V0TW9kZWwgPT09IG51bGwpIHRocm93ICdsYXlvdXRNb2RlbCBpcyBudWxsJztcblxuICAgIGNvbnN0IG5vZGVzID0ge307XG5cbiAgICBsYXlvdXRNb2RlbC52aXNpdE5vZGVzKChub2RlKSA9PiB7XG4gICAgICBub2Rlc1tub2RlLmdldElkKCldID0gbm9kZTtcbiAgICB9KTtcblxuICAgIHJldHVybiBub2RlcztcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5PckZvY3VzVGFiKG5vZGVKc29uLCBvcHRpb25zPzogT3Blbk9yRm9jdXNUYWJPcHRpb25zKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcbiAgICBpZiAobGF5b3V0TW9kZWwgPT09IG51bGwpIHRocm93ICdsYXlvdXRNb2RlbCBpcyBudWxsJztcblxuICAgIGNvbnN0IHsgaWQgfSA9IG5vZGVKc29uO1xuXG4gICAgY29uc3Qgbm9kZXMgPSBnZXROb2RlcygpO1xuICAgIGlmIChpZCBpbiBub2Rlcykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcbiAgICAgIGlmIChub2Rlc1tpZF0uZ2V0VHlwZSgpICE9PSAndGFiJykgdGhyb3cgYCcke2lkfScgaXMgbm90IGEgdGFiYDtcblxuICAgICAgLy8gdGhlIHRhYiBleGlzdHMsIHNlbGVjdCBpdFxuICAgICAgbGF5b3V0TW9kZWwuZG9BY3Rpb24oRmxleExheW91dC5BY3Rpb25zLnNlbGVjdFRhYihpZCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBjcmVhdGUgdGhlIHRhYi5cbiAgICAgIGNvbnN0IHsgbG9jYXRpb24sIGFsd2F5c05ld1RhYnNldCB9ID0ge1xuICAgICAgICBsb2NhdGlvbjogRmxleExheW91dC5Eb2NrTG9jYXRpb24uUklHSFQsXG4gICAgICAgIGFsd2F5c05ld1RhYnNldDogZmFsc2UsXG4gICAgICAgIC4uLihvcHRpb25zID8/IHt9KSxcbiAgICAgIH07XG5cbiAgICAgIGxldCB0YXJnZXRUYWJzZXQ7XG4gICAgICBpZiAoYWx3YXlzTmV3VGFic2V0KSB7XG4gICAgICAgIHRhcmdldFRhYnNldCA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB3aGF0J3MgdGhlIGFjdGl2ZSB0YWJzZXQ/XG4gICAgICAgIGNvbnN0IGFjdGl2ZSA9IGxheW91dE1vZGVsLmdldEFjdGl2ZVRhYnNldCgpO1xuXG4gICAgICAgIC8vIHRoZSBhY3RpdmUgdGFic2V0IG1heSBiZSB1bmRlZmluZWQgb3IgYSB0YWJzZXQgdGhhdCB3YXMgYWxyZWFkeSByZW1vdmVkLCBoYW5kbGUgdGhhdFxuICAgICAgICBpZiAoXG4gICAgICAgICAgYWN0aXZlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICBhY3RpdmUuZ2V0SWQoKSBpbiBub2RlcyAmJlxuICAgICAgICAgIG5vZGVzW2FjdGl2ZS5nZXRJZCgpXS5nZXRUeXBlKCkgPT09ICd0YWJzZXQnXG4gICAgICAgICkge1xuICAgICAgICAgIHRhcmdldFRhYnNldCA9IGFjdGl2ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YXJnZXRUYWJzZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0YXJnZXRUYWJzZXQgIT09IG51bGwpIHtcbiAgICAgICAgLy8gdGhlcmUncyBhIHRhcmdldCB0YWJzZXQ7IHB1dCB0aGUgbmV3IHRhYiB0aGVyZVxuICAgICAgICBsYXlvdXRNb2RlbC5kb0FjdGlvbihcbiAgICAgICAgICBGbGV4TGF5b3V0LkFjdGlvbnMuYWRkTm9kZShcbiAgICAgICAgICAgIG5vZGVKc29uLFxuICAgICAgICAgICAgdGFyZ2V0VGFic2V0LmdldElkKCksXG4gICAgICAgICAgICBGbGV4TGF5b3V0LkRvY2tMb2NhdGlvbi5DRU5URVIsXG4gICAgICAgICAgICAtMSxcbiAgICAgICAgICApLFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcHV0IHRoZSBuZXcgdGFiIGludG8gdGhlIHJvb3QgdGFic2V0LCBhdCB0aGUgcHJlZmVycmVkIGxvY2F0aW9uLlxuICAgICAgICBsYXlvdXRNb2RlbC5kb0FjdGlvbihcbiAgICAgICAgICBGbGV4TGF5b3V0LkFjdGlvbnMuYWRkTm9kZShub2RlSnNvbiwgbGF5b3V0TW9kZWwuZ2V0Um9vdCgpLmdldElkKCksIGxvY2F0aW9uLCAtMSksXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VUYWJzRm9yRmlsZShmaWxlOiBGaWxlUmVmZXJlbmNlKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcbiAgICBpZiAobGF5b3V0TW9kZWwgPT09IG51bGwpIHRocm93ICdsYXlvdXRNb2RlbCBpcyBudWxsJztcblxuICAgIC8vIGxpc3QgYWxsIGZpbGUgcGF0aHMgYmVsb3cgdGhlIGdpdmVuIGZpbGUvZGlyZWN0b3J5XG4gICAgY29uc3QgcGF0aHNUb0Nsb3NlID0gW107XG4gICAgZnVuY3Rpb24gbGlzdFBhdGhzKGN1cnJlbnQ6IEZpbGVSZWZlcmVuY2UpIHtcbiAgICAgIGlmIChjdXJyZW50LmZpbGUuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgICAvLyAkRmxvd0V4cGVjdEVycm9yXG4gICAgICAgIGNvbnN0IGRpcjogRGlyUmVmZXJlbmNlID0gY3VycmVudDtcbiAgICAgICAgZGlyLmZpbGUuY29udGVudHMuZm9yRWFjaCgoY2hpbGQpID0+XG4gICAgICAgICAgbGlzdFBhdGhzKHsgcGF0aDogYCR7ZGlyLnBhdGh9LyR7Y2hpbGQubmFtZX1gLCBmaWxlOiBjaGlsZCB9KSxcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhdGhzVG9DbG9zZS5wdXNoKGN1cnJlbnQucGF0aCk7XG4gICAgICB9XG4gICAgfVxuICAgIGxpc3RQYXRocyhmaWxlKTtcblxuICAgIC8vIGNsb3NlIHRob3NlIHBhdGhzIHRoYXQgYXJlIG9wZW5cbiAgICBjb25zdCBub2RlcyA9IGdldE5vZGVzKCk7XG4gICAgcGF0aHNUb0Nsb3NlLmZvckVhY2goKHBhdGgpID0+IHtcbiAgICAgIGlmIChwYXRoIGluIG5vZGVzKSB7XG4gICAgICAgIGxheW91dE1vZGVsLmRvQWN0aW9uKEZsZXhMYXlvdXQuQWN0aW9ucy5kZWxldGVUYWIocGF0aCkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gd2FpdEZvclNpbXVsYXRvcigpOiBQcm9taXNlPFNpbXVsYXRvclR5cGU+IHtcbiAgICByZXR1cm4gLyogYXdhaXQgKi8gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGZ1bmN0aW9uIHRyeUl0KCkge1xuICAgICAgICBpZiAoc2ltdWxhdG9yUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICByZXNvbHZlKHNpbXVsYXRvclJlZi5jdXJyZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KHRyeUl0LCAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdHJ5SXQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFNpbXVsYXRvcigpIHtcbiAgICBvcGVuT3JGb2N1c1RhYih7XG4gICAgICBpZDogJ3NpbScsXG4gICAgICB0eXBlOiAndGFiJyxcbiAgICAgIGNvbXBvbmVudDogJ3NpbXVsYXRvcicsXG4gICAgICBuYW1lOiAnU2ltdWxhdG9yJyxcbiAgICB9KTtcbiAgICB3YWl0Rm9yU2ltdWxhdG9yKCkudGhlbigocykgPT4ge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcbiAgICAgIGlmIChwbHVnaW5NYW5hZ2VyUmVmLmN1cnJlbnQgPT09IG51bGwpIHRocm93ICdyZWYgaXMgbnVsbCc7XG5cbiAgICAgIC8vIFRPRE8gdGhpcyBpcyB0aGUgb25seSBwbGFjZSB3aGVyZSBzaW11bGF0aW9uQWRkZWQgaXMgY2FsbGVkLFxuICAgICAgLy8gYW5kIGl0IHVzdWFsbHkgb25seSBoYXBwZW5zIHRocm91Z2ggZ2V0U2ltdWxhdGlvbiB0aHJvdWdoIG9uZVxuICAgICAgLy8gb2YgdGhlIFNES3MsIGUuZy4gdGhlIEhlZGdlaG9nIFNESyB3aGVuIGNvbnRyb2xsaW5nIHRoZSByb2JvdC5cbiAgICAgIC8vIFRoYXQgbWVhbnMgZm9yIGEgc2lnbmlmaWNhbnQgcG9ydGlvbiBvZiB0aGUgSURFcyBsaWZlLFxuICAgICAgLy8gdGhlIHBsdWdpbiBtYW5hZ2VyIGRvZXMgbm90IGtub3cgYWJvdXQgdGhlIHNpbXVsYXRvcixcbiAgICAgIC8vIGp1c3QgYmVjYXVzZSBubyBTREsgY2FsbGVkIGdldFNpbXVsYXRpb24geWV0LlxuXG4gICAgICAvLyB0aGUgd2hvbGUgd2FpdEZvclNpbXVsYXRvciBjYWxsIGNvdWxkIGJlIGF2b2lkZWQgd2hlbiB0aGVcbiAgICAgIC8vIHNpbXVsYXRvciBoYXMgYWxyZWFkeSBiZWVuIG9wZW4sICppZiogd2UgY29ycmVjdGVkIHRoZVxuICAgICAgLy8gbGlmZWN5Y2xlIGFuZCBtYWRlIHN1cmUgdGhlIHBsdWdpbiBtYW5hZ2VyIGlzIGF3YXJlIG9mIHRoZVxuICAgICAgLy8gc2ltdWxhdG9yIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgIHBsdWdpbk1hbmFnZXJSZWYuY3VycmVudC5zaW11bGF0aW9uQWRkZWQocy5zaW11bGF0aW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGdldFNpbXVsYXRpb24oKTogUHJvbWlzZTxTaW11bGF0aW9uPiB7XG4gICAgYWRkU2ltdWxhdG9yKCk7XG4gICAgcmV0dXJuIChhd2FpdCB3YWl0Rm9yU2ltdWxhdG9yKCkpLnNpbXVsYXRpb247XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiB3YWl0Rm9yQ29uc29sZSgpOiBQcm9taXNlPENvbnNvbGVUeXBlPiB7XG4gICAgcmV0dXJuIC8qIGF3YWl0ICovIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBmdW5jdGlvbiB0cnlJdCgpIHtcbiAgICAgICAgaWYgKGNvbnNvbGVSZWYuY3VycmVudCkge1xuICAgICAgICAgIHJlc29sdmUoY29uc29sZVJlZi5jdXJyZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KHRyeUl0LCAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdHJ5SXQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZENvbnNvbGUoKSB7XG4gICAgb3Blbk9yRm9jdXNUYWIoXG4gICAgICB7XG4gICAgICAgIGlkOiAnY29uc29sZScsXG4gICAgICAgIHR5cGU6ICd0YWInLFxuICAgICAgICBjb21wb25lbnQ6ICdjb25zb2xlJyxcbiAgICAgICAgbmFtZTogJ0NvbnNvbGUnLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbG9jYXRpb246IEZsZXhMYXlvdXQuRG9ja0xvY2F0aW9uLkJPVFRPTSxcbiAgICAgICAgYWx3YXlzTmV3VGFic2V0OiB0cnVlLFxuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gcHJpbnQodGV4dDogc3RyaW5nLCBzdHJlYW06IHN0cmluZykge1xuICAgIGFkZENvbnNvbGUoKTtcbiAgICAoYXdhaXQgd2FpdEZvckNvbnNvbGUoKSkucHJpbnQodGV4dCwgc3RyZWFtKTtcbiAgfVxuXG4gIGNvbnN0IGlucHV0UmVzb2x2ZVJlZiA9IFJlYWN0LnVzZVJlZjwoKHN0cmluZykgPT4gdm9pZCkgfCBudWxsPihudWxsKTtcbiAgYXN5bmMgZnVuY3Rpb24gZ2V0SW5wdXQoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBpZiAoaW5wdXRSZXNvbHZlUmVmLmN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgndGhlcmUgYWxyZWFkeSBpcyBhIHBlbmRpbmcgaW5wdXQgcmVxdWVzdCcpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgX3JlamVjdCkgPT4ge1xuICAgICAgaW5wdXRSZXNvbHZlUmVmLmN1cnJlbnQgPSByZXNvbHZlO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQ29uc29sZUlucHV0KGlucHV0OiBzdHJpbmcpIHtcbiAgICBjb25zdCBpZGVDb25zb2xlID0gY29uc29sZVJlZi5jdXJyZW50O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gICAgaWYgKGlkZUNvbnNvbGUgPT09IG51bGwpIHRocm93ICdyZWYgaXMgbnVsbCc7XG5cbiAgICBpZihpbnB1dFJlc29sdmVSZWYuY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgaW5wdXRSZXNvbHZlUmVmLmN1cnJlbnQoaW5wdXQpO1xuICAgICAgaW5wdXRSZXNvbHZlUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIH1lbHNlIGlmIChpbnB1dCA9PT0gJy9jJyB8fCBpbnB1dCA9PT0gJy9jbGVhcicpIHtcbiAgICAgIGlkZUNvbnNvbGUuY2xlYXIoKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVFeGVjdXRlKGNvZGU6IHN0cmluZykge1xuICAgIGNvbnN0IGV4ZWN1dG9yID0gZXhlY3V0b3JSZWYuY3VycmVudDtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICAgIGlmIChleGVjdXRvciA9PT0gbnVsbCkgdGhyb3cgJ3JlZiBpcyBudWxsJztcblxuICAgIGNvbnN0IHBsdWdpbk1hbmFnZXIgPSBwbHVnaW5NYW5hZ2VyUmVmLmN1cnJlbnQ7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcbiAgICBpZiAocGx1Z2luTWFuYWdlciA9PT0gbnVsbCkgdGhyb3cgJ3JlZiBpcyBudWxsJztcblxuICAgIGNvbnN0IHNkayA9IHtcbiAgICAgIG1pc2M6IGF3YWl0IGluaXRNaXNjU2RrKHtcbiAgICAgICAgcHJpbnQsXG4gICAgICAgIGdldElucHV0LFxuICAgICAgICBvbkV4aXQ6IGhhbmRsZVRlcm1pbmF0ZSxcbiAgICAgICAgcGx1Z2luTWFuYWdlcixcbiAgICAgICAgZXhlY3V0b3IsXG4gICAgICB9KSxcbiAgICAgIGhlZGdlaG9nOiBhd2FpdCBpbml0SGVkZ2Vob2dTZGsoe1xuICAgICAgICBnZXRTaW11bGF0aW9uLFxuICAgICAgfSksXG4gICAgfTtcblxuICAgIGV4ZWN1dG9yLmFkZFRhc2soe1xuICAgICAgLy8ganVzdCBzb21lIGtleSB0aGF0IGlzIHVubGlrZWx5IHRvIGNvbGxpZGUgd2l0aCBhIHBsdWdpblxuICAgICAgLy8gcGx1Z2lucyBhcmUgbG9va2VkIHVwIGJ5IHRoZSAuanMgZmlsZSBleHRlbnNpb24sIHNvIHRoaXMgc2hvdWxkIGJlIHNhZmVcbiAgICAgIG5hbWU6ICckdXNlci1wcm9ncmFtJyxcbiAgICAgIGNvZGUsXG4gICAgICBhcGk6IHtcbiAgICAgICAgLi4uc2RrLm1pc2MuaGFuZGxlcnMsXG4gICAgICAgIC4uLnNkay5oZWRnZWhvZy5oYW5kbGVycyxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgc2V0UnVubmluZyh0cnVlKTtcblxuICAgIHBsdWdpbk1hbmFnZXIuZ2V0U2RrKCkubWlzYy5lbWl0KGV4ZWN1dG9yLCAncHJvZ3JhbUV4ZWN1dGUnLCBudWxsKTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVRlcm1pbmF0ZShlcnJvcjogc3RyaW5nIHwgdm9pZCkge1xuICAgIGNvbnN0IGV4ZWN1dG9yID0gZXhlY3V0b3JSZWYuY3VycmVudDtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICAgIGlmIChleGVjdXRvciA9PT0gbnVsbCkgdGhyb3cgJ3JlZiBpcyBudWxsJztcblxuICAgIGNvbnN0IHBsdWdpbk1hbmFnZXIgPSBwbHVnaW5NYW5hZ2VyUmVmLmN1cnJlbnQ7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcbiAgICBpZiAocGx1Z2luTWFuYWdlciA9PT0gbnVsbCkgdGhyb3cgJ3JlZiBpcyBudWxsJztcblxuICAgIGV4ZWN1dG9yLnJlbW92ZVRhc2soJyR1c2VyLXByb2dyYW0nKTtcbiAgICBzZXRSdW5uaW5nKGZhbHNlKTtcbiAgICBwbHVnaW5NYW5hZ2VyLmdldFNkaygpLm1pc2MuZW1pdChleGVjdXRvciwgJ3Byb2dyYW1UZXJtaW5hdGUnLCB7IGVycm9yIH0pO1xuXG4gICAgY29uc3Qgc2ltdWxhdG9yID0gc2ltdWxhdG9yUmVmLmN1cnJlbnQ7XG4gICAgaWYgKHNpbXVsYXRvciAhPT0gbnVsbCkge1xuICAgICAgZm9yIChjb25zdCByb2JvdCBvZiBzaW11bGF0b3Iuc2ltdWxhdGlvbi5yb2JvdHMudmFsdWVzKCkpIHtcbiAgICAgICAgcm9ib3QuY29udHJvbGxlci5vZmYoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVSZXNldCgpIHtcbiAgICBjb25zdCBzaW11bGF0b3IgPSBzaW11bGF0b3JSZWYuY3VycmVudDtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICAgIGlmIChzaW11bGF0b3IgPT09IG51bGwpIHRocm93ICdyZWYgaXMgbnVsbCc7XG5cbiAgICBjb25zdCBleGVjdXRvciA9IGV4ZWN1dG9yUmVmLmN1cnJlbnQ7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcbiAgICBpZiAoZXhlY3V0b3IgPT09IG51bGwpIHRocm93ICdyZWYgaXMgbnVsbCc7XG5cbiAgICBjb25zdCBwbHVnaW5NYW5hZ2VyID0gcGx1Z2luTWFuYWdlclJlZi5jdXJyZW50O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gICAgaWYgKHBsdWdpbk1hbmFnZXIgPT09IG51bGwpIHRocm93ICdyZWYgaXMgbnVsbCc7XG5cbiAgICBzaW11bGF0b3Iuc2ltdWxhdGlvbi5yZXNldCgpO1xuICAgIHBsdWdpbk1hbmFnZXIuZ2V0U2RrKCkubWlzYy5lbWl0KGV4ZWN1dG9yLCAnc2ltdWxhdGlvblJlc2V0JywgbnVsbCk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVFeGVjdXRpb25BY3Rpb24oYWN0aW9uOiBFeGVjdXRpb25BY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi5hY3Rpb24pIHtcbiAgICAgIGNhc2UgJ0VYRUNVVEUnOiB7XG4gICAgICAgIGNvbnN0IHsgY29kZSB9ID0gYWN0aW9uO1xuICAgICAgICBhd2FpdCBoYW5kbGVFeGVjdXRlKGNvZGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ1RFUk1JTkFURSc6IHtcbiAgICAgICAgY29uc3QgeyByZXNldCB9ID0gYWN0aW9uO1xuICAgICAgICBhd2FpdCBoYW5kbGVUZXJtaW5hdGUoKTtcbiAgICAgICAgaWYgKHJlc2V0ICYmIHNpbXVsYXRvclJlZi5jdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gVE9ETyB0aGlzIGlzIGEgd29ya2Fyb3VuZCBmb3IgdGhlIHNpbXVsYXRlZCByb2JvdFxuICAgICAgICAgIC8vIChhbmQgcHJvYmFibHkgb3RoZXIgb2JqZWN0cykgc3RpbGwgbW92aW5nIGFmdGVyIHRlcm1pbmF0aW5nXG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwKSk7XG4gICAgICAgICAgYXdhaXQgaGFuZGxlUmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ1JFU0VUJzoge1xuICAgICAgICBpZiAoc2ltdWxhdG9yUmVmLmN1cnJlbnQgIT09IG51bGwpIGF3YWl0IGhhbmRsZVJlc2V0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcbiAgICAgICAgdGhyb3cgJ3VucmVhY2hhYmxlJztcbiAgICB9XG4gIH1cblxuICAvLyB0aGlzIGlzIGEgaGFjayB0byBiZSBhYmxlIHRvIG9wZW4gbmV3IGZpbGVzXG4gIGNvbnN0IFtjcmVhdGVkUGF0aCwgc2V0Q3JlYXRlZFBhdGhdID0gUmVhY3QudXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY3JlYXRlZFBhdGggPT09IG51bGwpIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBmaWxlID0gZ2V0RmlsZShjcmVhdGVkUGF0aCk7XG4gICAgICBpZiAoZmlsZS5maWxlLmlzRmlsZSgpKSBoYW5kbGVGaWxlQWN0aW9uKHsgYWN0aW9uOiAnT1BFTicsIGZpbGUgfSk7XG4gICAgICBzZXRDcmVhdGVkUGF0aChudWxsKTtcbiAgICB9IGNhdGNoIChfZXgpIHtcbiAgICAgIC8vIHdpbGwgYXV0b21hdGljYWxseSB0cnkgYWdhaW4gd2hlbiBwcm9qZWN0Q2FjaGUgaGFzIGJlZW4gdXBkYXRlZFxuICAgIH1cbiAgfSwgW3Byb2plY3RDYWNoZSwgY3JlYXRlZFBhdGhdKTtcblxuICBhc3luYyBmdW5jdGlvbiBjb25maXJtQ3JlYXRlRmlsZShcbiAgICBwYXJlbnREaXI6IERpclJlZmVyZW5jZSxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgdHlwZTogRmlsZVR5cGUsXG4gICAgY29udGVudDogc3RyaW5nID0gJycsXG4gICAgb3ZlcndyaXRlSWZFeGlzdHM6IGJvb2xlYW4gPSBmYWxzZSxcbiAgKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcbiAgICBpZiAocHJvamVjdCA9PT0gbnVsbCkgdGhyb3cgJ3VucmVhY2hhYmxlJztcblxuICAgIGNvbnN0IHBhdGggPSBwcm9qZWN0LnJlc29sdmUocGFyZW50RGlyLnBhdGgsIG5hbWUpO1xuXG4gICAgLy8gY2hlY2sgZXhpc3RlbmNlIG9mIHRoZSBmaWxlL3RyeSBjcmVhdGluZyB0aGUgZGlyZWN0b3J5XG4gICAgbGV0IGlzTmV3O1xuICAgIGlmICh0eXBlID09PSAnRklMRScpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGZzLnByb21pc2VzLnN0YXQocGF0aCk7XG4gICAgICAgIGlzTmV3ID0gZmFsc2U7XG4gICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICBpZiAoIShleCBpbnN0YW5jZW9mIGZpbGVyLkVycm9ycy5FTk9FTlQpKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihleCk7XG4gICAgICAgICAgdGhyb3cgZXg7XG4gICAgICAgIH1cbiAgICAgICAgaXNOZXcgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmcy5wcm9taXNlcy5ta2RpcihwYXRoKTtcbiAgICAgICAgaXNOZXcgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgaWYgKCEoZXggaW5zdGFuY2VvZiBmaWxlci5FcnJvcnMuRUVYSVNUKSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXgpO1xuICAgICAgICAgIHRocm93IGV4O1xuICAgICAgICB9XG4gICAgICAgIGlzTmV3ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIGRpcmVjdG9yeSB3YXMgYWxyZWFkeSBjcmVhdGVkIGFib3ZlLCBmaWxlIG5lZWRzIHRvIGJlIGNyZWF0ZWQgaGVyZVxuICAgICAgaWYgKHR5cGUgPT09ICdGSUxFJykge1xuICAgICAgICBpZiAoaXNOZXcgfHwgb3ZlcndyaXRlSWZFeGlzdHMpIHtcbiAgICAgICAgICAvLyBjcmVhdGUvdXBkYXRlIHRoZSBmaWxlXG4gICAgICAgICAgYXdhaXQgZnMucHJvbWlzZXMud3JpdGVGaWxlKHBhdGgsIGNvbnRlbnQsICd1dGY4Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gbm8gbWF0dGVyIHdoZXRoZXIgd2UgYWN0dWFsbHkgY3JlYXRlZCB0aGUgZmlsZS9kaXJlY3RvcnksIHdlIHdhbnQgdG9cbiAgICAgIC8vIC0gcmVmcmVzaCB0aGUgcHJvamVjdFxuICAgICAgLy8gLSByZXZlYWwgdGhlIGZpbGVcbiAgICAgIC8vIC0gVE9ETyBzZWxlY3QgdGhlIGZpbGUgaW4gdGhlIGZpbGUgdHJlZVxuICAgICAgLy8gLSBvcGVuIHRoZSBmaWxlXG5cbiAgICAgIGF3YWl0IHJlZnJlc2hQcm9qZWN0KCk7XG5cbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ0VYUEFORF9ESVJFQ1RPUlknLCBwYXRoOiBwYXJlbnREaXIucGF0aCB9KTtcblxuICAgICAgLy8gVE9ETyBzZWxlY3QgdGhlIGZpbGUgaW4gdGhlIGZpbGUgdHJlZVxuXG4gICAgICBzZXRDcmVhdGVkUGF0aChgJHtwYXJlbnREaXIucGF0aH0vJHtuYW1lfWApO1xuXG4gICAgICByZXR1cm4gaXNOZXc7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXgpO1xuICAgICAgdGhyb3cgZXg7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgY3JlYXRlRmlsZSA9IHVzZUNyZWF0ZUZpbGVEaWFsb2coY29uZmlybUNyZWF0ZUZpbGUpO1xuXG4gIGFzeW5jIGZ1bmN0aW9uIGNvbmZpcm1SZW5hbWVGaWxlKGZpbGU6IEZpbGVSZWZlcmVuY2UsIG5ld05hbWU6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gICAgaWYgKHByb2plY3QgPT09IG51bGwpIHRocm93ICd1bnJlYWNoYWJsZSc7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcGF0aCA9IHByb2plY3QucmVzb2x2ZShmaWxlLnBhdGgpO1xuICAgICAgY29uc3QgbmV3UGF0aCA9IHByb2plY3QucmVzb2x2ZShmaWxlLnBhdGgsICcuLicsIG5ld05hbWUpO1xuXG4gICAgICBjbG9zZVRhYnNGb3JGaWxlKGZpbGUpO1xuICAgICAgYXdhaXQgZnMucHJvbWlzZXMucmVuYW1lKHBhdGgsIG5ld1BhdGgpO1xuXG4gICAgICBhd2FpdCByZWZyZXNoUHJvamVjdCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIGlmIChleCBpbnN0YW5jZW9mIGZpbGVyLkVycm9ycy5FRVhJU1QpIHtcbiAgICAgICAgYXdhaXQgcmVmcmVzaFByb2plY3QoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGV4IGluc3RhbmNlb2YgZmlsZXIuRXJyb3JzLkVOT0VOVCkge1xuICAgICAgICBhd2FpdCByZWZyZXNoUHJvamVjdCgpO1xuICAgICAgICAvLyBjbG9zZSB0aGUgZGlhbG9nLCB0aGUgZmlsZSBpcyBnb25lXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgY29uc29sZS5lcnJvcihleCk7XG4gICAgICB0aHJvdyBleDtcbiAgICB9XG4gIH1cblxuICBjb25zdCByZW5hbWVGaWxlID0gdXNlUmVuYW1lRmlsZURpYWxvZyhjb25maXJtUmVuYW1lRmlsZSk7XG5cbiAgZnVuY3Rpb24gYmVnaW5SZW5hbWVGaWxlKGZpbGU6IEZpbGVSZWZlcmVuY2UpIHtcbiAgICAvLyBzcGxpdCBvZmYgdGhlICcuLycgYXQgdGhlIHN0YXJ0IGFuZCB0aGUgZmlsZSBuYW1lIGF0IHRoZSBlbmRcbiAgICBjb25zdCBwYXRoID0gZmlsZS5wYXRoLnNwbGl0KCcvJykuc2xpY2UoMSwgLTEpO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcbiAgICBpZiAocHJvamVjdENhY2hlID09PSBudWxsKSB0aHJvdyAndW5yZWFjaGFibGUnO1xuXG4gICAgY29uc3Qgcm9vdCA9IHByb2plY3RDYWNoZS5maWxlcztcblxuICAgIC8vIHRoZSBwcm9qZWN0IHJvb3QgaXMgYWx3YXlzIGEgZGlyZWN0b3J5LiBhc3NlcnQgYW5kIGNhc3RcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICAgIGlmICghcm9vdC5pc0RpcmVjdG9yeSgpKSB0aHJvdyAndW5yZWFjaGFibGUnO1xuICAgIC8vICRGbG93RXhwZWN0RXJyb3JcbiAgICBsZXQgZGlyOiBGaWxlclJlY3Vyc2l2ZURpcmVjdG9yeUluZm8gPSByb290O1xuXG4gICAgLy8gZGV0ZXJtaW5lIHRoZSBmaWxlcyB0aGF0IGFyZSBzaWJsaW5ncyBvZiB0aGUgZXZlbnQgdGFyZ2V0XG4gICAgcGF0aC5mb3JFYWNoKChmcmFnbWVudCkgPT4ge1xuICAgICAgLy8gcmlnaHQgbm93IGBmcmFnbWVudGAgaXMgYSBjaGlsZCBvZiBgZGlyYC4gbG9vayBpdCB1cC5cbiAgICAgIGNvbnN0IGNoaWxkID0gZGlyLmNvbnRlbnRzLmZpbmQoKGMpID0+IGMubmFtZSA9PT0gZnJhZ21lbnQpO1xuXG4gICAgICAvLyB0aGUgY2hpbGQgaXMgYW4gYW5jZXN0b3Igb2YgYGZpbGVgIGFuZCB0aHVzIGEgZGlyZWN0b3J5LiBhc3NlcnQgYW5kIGNhc3RcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gICAgICBpZiAoY2hpbGQgPT09IHVuZGVmaW5lZCB8fCAhY2hpbGQuaXNEaXJlY3RvcnkoKSkgdGhyb3cgJ3VucmVhY2hhYmxlJztcbiAgICAgIC8vICRGbG93RXhwZWN0RXJyb3JcbiAgICAgIGRpciA9IGNoaWxkO1xuICAgIH0pO1xuXG4gICAgcmVuYW1lRmlsZS5zaG93KFxuICAgICAgZmlsZSxcbiAgICAgIGRpci5jb250ZW50cy5tYXAoKGYpID0+IGYubmFtZSksXG4gICAgKTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGNvbmZpcm1EZWxldGVGaWxlKGZpbGU6IEZpbGVSZWZlcmVuY2UpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICAgIGlmIChwcm9qZWN0ID09PSBudWxsKSB0aHJvdyAndW5yZWFjaGFibGUnO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhdGggPSBwcm9qZWN0LnJlc29sdmUoZmlsZS5wYXRoKTtcblxuICAgICAgY2xvc2VUYWJzRm9yRmlsZShmaWxlKTtcbiAgICAgIGF3YWl0IHNoLnByb21pc2VzLnJtKHBhdGgsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuXG4gICAgICBhd2FpdCByZWZyZXNoUHJvamVjdCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIGlmIChleCBpbnN0YW5jZW9mIGZpbGVyLkVycm9ycy5FRVhJU1QpIHtcbiAgICAgICAgYXdhaXQgcmVmcmVzaFByb2plY3QoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGV4IGluc3RhbmNlb2YgZmlsZXIuRXJyb3JzLkVOT0VOVCkge1xuICAgICAgICBhd2FpdCByZWZyZXNoUHJvamVjdCgpO1xuICAgICAgICAvLyBjbG9zZSB0aGUgZGlhbG9nLCB0aGUgZmlsZSBpcyBnb25lXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgY29uc29sZS5lcnJvcihleCk7XG4gICAgICB0aHJvdyBleDtcbiAgICB9XG4gIH1cblxuICBjb25zdCBkZWxldGVGaWxlID0gdXNlRGVsZXRlRmlsZURpYWxvZyhjb25maXJtRGVsZXRlRmlsZSk7XG5cbiAgYXN5bmMgZnVuY3Rpb24gbW92ZUZpbGUoZmlsZTogRmlsZVJlZmVyZW5jZSwgZGVzdERpclBhdGg6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gICAgaWYgKHByb2plY3QgPT09IG51bGwpIHRocm93ICd1bnJlYWNoYWJsZSc7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcGF0aCA9IHByb2plY3QucmVzb2x2ZShmaWxlLnBhdGgpO1xuICAgICAgY29uc3QgbmV3UGF0aCA9IHByb2plY3QucmVzb2x2ZShkZXN0RGlyUGF0aCwgZmlsZS5maWxlLm5hbWUpO1xuXG4gICAgICBjbG9zZVRhYnNGb3JGaWxlKGZpbGUpO1xuICAgICAgYXdhaXQgZnMucHJvbWlzZXMucmVuYW1lKHBhdGgsIG5ld1BhdGgpO1xuXG4gICAgICBhd2FpdCByZWZyZXNoUHJvamVjdCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIGlmIChleCBpbnN0YW5jZW9mIGZpbGVyLkVycm9ycy5FRVhJU1QpIHtcbiAgICAgICAgYXdhaXQgcmVmcmVzaFByb2plY3QoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGV4IGluc3RhbmNlb2YgZmlsZXIuRXJyb3JzLkVOT0VOVCkge1xuICAgICAgICBhd2FpdCByZWZyZXNoUHJvamVjdCgpO1xuICAgICAgICAvLyBjbG9zZSB0aGUgZGlhbG9nLCB0aGUgZmlsZSBpcyBnb25lXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgY29uc29sZS5lcnJvcihleCk7XG4gICAgICB0aHJvdyBleDtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmaWxlRG93bmxvYWQgPSB1c2VGaWxlRG93bmxvYWQoKTtcblxuICBhc3luYyBmdW5jdGlvbiBkb3dubG9hZEZpbGUoZmlsZTogRmlsZVJlZmVyZW5jZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gICAgaWYgKHByb2plY3QgPT09IG51bGwpIHRocm93ICd1bnJlYWNoYWJsZSc7XG5cbiAgICBjb25zdCBwYXRoID0gcHJvamVjdC5yZXNvbHZlKGZpbGUucGF0aCk7XG4gICAgY29uc3QgY29udGVudCA9IGF3YWl0IGZzLnByb21pc2VzLnJlYWRGaWxlKHBhdGgsICd1dGY4Jyk7XG5cbiAgICBmaWxlRG93bmxvYWQuc2hvdyhmaWxlLmZpbGUubmFtZSwgY29udGVudCk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiB1cGxvYWRGaWxlcyhwYXJlbnREaXI6IERpclJlZmVyZW5jZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gICAgaWYgKGZpbGVVcGxvYWRSZWYuY3VycmVudCA9PT0gbnVsbCkgdGhyb3cgJ3JlZiBpcyBudWxsJztcblxuICAgIGNvbnN0IGZpbGVzID0gYXdhaXQgZmlsZVVwbG9hZFJlZi5jdXJyZW50LnNob3coKTtcbiAgICBpZiAoZmlsZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICAgIGlmIChwcm9qZWN0ID09PSBudWxsKSB0aHJvdyAndW5yZWFjaGFibGUnO1xuXG4gICAgLy8gVE9ETyBhc3N1bWVzIHRoZXJlJ3MgZXhhY3RseSBvbmUgZmlsZVxuICAgIGNvbnN0IGZpbGUgPSBmaWxlc1swXTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXRoID0gcHJvamVjdC5yZXNvbHZlKHBhcmVudERpci5wYXRoLCBmaWxlLm5hbWUpO1xuXG4gICAgICAvLyB3cmFwIGludG8gdGhlIGF1Z21lbnRlZCBOb2RlLXN0eWxlIGZpbGVyLkJ1ZmZlciBvYmplY3RcbiAgICAgIGNvbnN0IGJ1ZmZlciA9IGZpbGVyLkJ1ZmZlci5mcm9tKGF3YWl0IGZpbGUuYXJyYXlCdWZmZXIoKSk7XG4gICAgICAvLyBUT0RPIHRoaXMgb3ZlcndyaXRlcyBmaWxlcyB3aXRob3V0IHdhcm5pbmdcbiAgICAgIGF3YWl0IGZzLnByb21pc2VzLndyaXRlRmlsZShwYXRoLCBidWZmZXIpO1xuXG4gICAgICBhd2FpdCByZWZyZXNoUHJvamVjdCgpO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICBpZiAoZXggaW5zdGFuY2VvZiBmaWxlci5FcnJvcnMuRUVYSVNUKSB7XG4gICAgICAgIGF3YWl0IHJlZnJlc2hQcm9qZWN0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUuZXJyb3IoZXgpO1xuICAgICAgdGhyb3cgZXg7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlRmlsZUFjdGlvbihhY3Rpb246IEZpbGVBY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi5hY3Rpb24pIHtcbiAgICAgIGNhc2UgJ0NSRUFURSc6IHtcbiAgICAgICAgY29uc3QgeyBwYXJlbnREaXIsIGRlc2MgfSA9IGFjdGlvbjtcbiAgICAgICAgaWYgKGRlc2MudHlwZSA9PT0gJ01FVEFEQVRBJykge1xuICAgICAgICAgIGlmIChwYXJlbnREaXIucGF0aCA9PT0gJy4vLm1ldGFkYXRhJyAmJiBkZXNjLm5hbWUgPT09ICdsYXlvdXQnKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICAgICAgICAgICAgaWYgKHN0YXRlID09PSBudWxsKSB0aHJvdyAndW5yZWFjaGFibGUnO1xuXG4gICAgICAgICAgICBjb25zdCBsYXlvdXRKc29uID0gSlNPTi5zdHJpbmdpZnkoc3RhdGUubGF5b3V0U3RhdGUpO1xuICAgICAgICAgICAgLy8gVE9ETyB0aGlzIHdpbGwgbm90IHNob3cgdGhlIGNvbnRlbnQgaW4gYW4gYWxyZWFkeSBvcGVuIGZpbGUgdGFiXG4gICAgICAgICAgICBjb25maXJtQ3JlYXRlRmlsZShwYXJlbnREaXIsIGRlc2MubmFtZSwgZGVzYy5maWxlVHlwZSwgbGF5b3V0SnNvbiwgdHJ1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbmZpcm1DcmVhdGVGaWxlKHBhcmVudERpciwgZGVzYy5uYW1lLCBkZXNjLmZpbGVUeXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3JlYXRlRmlsZS5zaG93KHBhcmVudERpciwgZGVzYyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdSRU5BTUUnOiB7XG4gICAgICAgIGNvbnN0IHsgZmlsZSB9ID0gYWN0aW9uO1xuICAgICAgICBiZWdpblJlbmFtZUZpbGUoZmlsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnREVMRVRFJzoge1xuICAgICAgICBjb25zdCB7IGZpbGUgfSA9IGFjdGlvbjtcbiAgICAgICAgZGVsZXRlRmlsZS5zaG93KGZpbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ01PVkUnOiB7XG4gICAgICAgIGNvbnN0IHsgZmlsZSwgZGVzdERpclBhdGggfSA9IGFjdGlvbjtcbiAgICAgICAgbW92ZUZpbGUoZmlsZSwgZGVzdERpclBhdGgpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ09QRU4nOiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBmaWxlOiB7IHBhdGgsIGZpbGUgfSxcbiAgICAgICAgfSA9IGFjdGlvbjtcblxuICAgICAgICBjb25zdCBjb21wb25lbnQgPSAoKCkgPT4ge1xuICAgICAgICAgIGlmIChwYXRoID09PSAnLi8ubWV0YWRhdGEvc2ltdWxhdG9yJykgcmV0dXJuICdzaW11bGF0b3ItZWRpdG9yJztcbiAgICAgICAgICAvLyBpZiAocGF0aCA9PT0gJy4vLm1ldGFkYXRhL3Rvb2xib3gnKSByZXR1cm4gJ3Rvb2xib3gtZWRpdG9yJztcbiAgICAgICAgICBpZiAoZmlsZS5uYW1lLmVuZHNXaXRoKCcuYmxvY2tseScpKSByZXR1cm4gJ2Jsb2NrbHknO1xuICAgICAgICAgIGlmIChmaWxlLm5hbWUuZW5kc1dpdGgoJy5qcycpKSByZXR1cm4gJ2VkaXRvcic7XG4gICAgICAgICAgaWYgKGZpbGUubmFtZS5lbmRzV2l0aCgnLm1kJykpIHJldHVybiAnbWFya2Rvd24nO1xuICAgICAgICAgIGlmIChmaWxlLm5hbWUuZW5kc1dpdGgoJy5wZGYnKSkgcmV0dXJuICdpZnJhbWUnO1xuICAgICAgICAgIGlmIChmaWxlLm5hbWUuZW5kc1dpdGgoJy5wbmcnKSkgcmV0dXJuICdpZnJhbWUnO1xuICAgICAgICAgIGlmIChmaWxlLm5hbWUuZW5kc1dpdGgoJy5qcGcnKSkgcmV0dXJuICdpZnJhbWUnO1xuICAgICAgICAgIHJldHVybiAnZWRpdG9yJztcbiAgICAgICAgfSkoKTtcblxuICAgICAgICBvcGVuT3JGb2N1c1RhYih7XG4gICAgICAgICAgaWQ6IHBhdGgsXG4gICAgICAgICAgdHlwZTogJ3RhYicsXG4gICAgICAgICAgY29tcG9uZW50LFxuICAgICAgICAgIG5hbWU6IGZpbGUubmFtZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnRE9XTkxPQUQnOiB7XG4gICAgICAgIGNvbnN0IHsgZmlsZSB9ID0gYWN0aW9uO1xuICAgICAgICBkb3dubG9hZEZpbGUoZmlsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnVVBMT0FEJzoge1xuICAgICAgICBjb25zdCB7IHBhcmVudERpciB9ID0gYWN0aW9uO1xuICAgICAgICB1cGxvYWRGaWxlcyhwYXJlbnREaXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gICAgICAgIHRocm93ICd1bnJlYWNoYWJsZSc7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcHJvamVjdFNldHRpbmdzUG9wdXBTdGF0ZSA9IHVzZVBvcHVwU3RhdGUoe1xuICAgIHZhcmlhbnQ6ICdwb3BvdmVyJyxcbiAgICBwb3B1cElkOiAncHJvamVjdC1jb250cm9scy1tZW51JyxcbiAgfSk7XG5cbiAgdXNlU3R5bGVzKEZsZXhMYXlvdXRUaGVtZSk7XG4gIGNvbnN0IGNsYXNzZXMgPSB1c2VTdHlsZXNNYXRlcmlhbCgpO1xuXG4gIGlmIChwcm9qZWN0ID09PSBudWxsIHx8IHByb2plY3RDYWNoZSA9PT0gbnVsbCB8fCBzdGF0ZSA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgeyBmaWxlVHJlZVN0YXRlLCBzaG93TWV0YWRhdGFGb2xkZXIgfSA9IHN0YXRlO1xuXG4gIGxldCBoYXNNZXRhZGF0YUZvbGRlcjtcbiAgdHJ5IHtcbiAgICBnZXRGaWxlKCcuLy5tZXRhZGF0YScpO1xuICAgIGhhc01ldGFkYXRhRm9sZGVyID0gdHJ1ZTtcbiAgfSBjYXRjaCAoX2V4KSB7XG4gICAgaGFzTWV0YWRhdGFGb2xkZXIgPSBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZhY3Rvcnkobm9kZTogYW55KTogUmVhY3QuTm9kZSB7XG4gICAgZnVuY3Rpb24gYmluZEVkaXRvclByb3BzKHBhdGg6IHN0cmluZywgZWRpdG9yVHlwZTogc3RyaW5nKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi4oKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGVkaXRvclN0YXRlcyA9IHN0YXRlLmVkaXRvclN0YXRlc1twYXRoXTtcbiAgICAgICAgICBjb25zdCBlZGl0b3JTdGF0ZSA9IGVkaXRvclN0YXRlcyA/IGVkaXRvclN0YXRlc1tlZGl0b3JUeXBlXSA6IG51bGw7XG4gICAgICAgICAgcmV0dXJuIGVkaXRvclN0YXRlO1xuICAgICAgICB9KSgpLFxuICAgICAgICBvblVwZGF0ZTogKGVkaXRvclN0YXRlKSA9PiB7XG4gICAgICAgICAgY29uc3QgZWRpdG9yU3RhdGVzID0geyBbZWRpdG9yVHlwZV06IGVkaXRvclN0YXRlIH07XG4gICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnU0VUX0VESVRPUl9TVEFURScsIHBhdGgsIGVkaXRvclN0YXRlcyB9KTtcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgaWQgPSBub2RlLmdldElkKCk7XG4gICAgc3dpdGNoIChub2RlLmdldENvbXBvbmVudCgpKSB7XG4gICAgICBjYXNlICdlZGl0b3InOiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPEVkaXRvclxuICAgICAgICAgICAgbGF5b3V0Tm9kZT17bm9kZX1cbiAgICAgICAgICAgIHByb2plY3Q9e3Byb2plY3R9XG4gICAgICAgICAgICBwYXRoPXtpZH1cbiAgICAgICAgICAgIC8vIHsuLi5iaW5kRWRpdG9yUHJvcHMoaWQsICdlZGl0b3InKX1cbiAgICAgICAgICAgIG9uRXhlY3V0aW9uQWN0aW9uPXtoYW5kbGVFeGVjdXRpb25BY3Rpb259XG4gICAgICAgICAgICBydW5uaW5nPXtydW5uaW5nfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjYXNlICdibG9ja2x5Jzoge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxWaXN1YWxFZGl0b3JcbiAgICAgICAgICAgIGxheW91dE5vZGU9e25vZGV9XG4gICAgICAgICAgICBwcm9qZWN0PXtwcm9qZWN0fVxuICAgICAgICAgICAgcGF0aD17aWR9XG4gICAgICAgICAgICB7Li4uYmluZEVkaXRvclByb3BzKGlkLCAnYmxvY2tseScpfVxuICAgICAgICAgICAgb25FeGVjdXRpb25BY3Rpb249e2hhbmRsZUV4ZWN1dGlvbkFjdGlvbn1cbiAgICAgICAgICAgIHJ1bm5pbmc9e3J1bm5pbmd9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ21hcmtkb3duJzoge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxNYXJrZG93blxuICAgICAgICAgICAgbGF5b3V0Tm9kZT17bm9kZX1cbiAgICAgICAgICAgIHByb2plY3Q9e3Byb2plY3R9XG4gICAgICAgICAgICBwYXRoPXtpZH1cbiAgICAgICAgICAgIGFzc2V0cz17cHJvamVjdENhY2hlLmFzc2V0c31cbiAgICAgICAgICAgIHsuLi5iaW5kRWRpdG9yUHJvcHMoaWQsICdtYXJrZG93bicpfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjYXNlICdpZnJhbWUnOiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPElmcmFtZVZpZXdlclxuICAgICAgICAgICAgbGF5b3V0Tm9kZT17bm9kZX1cbiAgICAgICAgICAgIHByb2plY3Q9e3Byb2plY3R9XG4gICAgICAgICAgICBwYXRoPXtpZH1cbiAgICAgICAgICAgIC8vIHsuLi5iaW5kRWRpdG9yUHJvcHMoaWQsICdpZnJhbWUnKX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY2FzZSAnc2ltdWxhdG9yLWVkaXRvcic6IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8U2ltdWxhdG9yRWRpdG9yXG4gICAgICAgICAgICBsYXlvdXROb2RlPXtub2RlfVxuICAgICAgICAgICAgcHJvamVjdD17cHJvamVjdH1cbiAgICAgICAgICAgIHBhdGg9e2lkfVxuICAgICAgICAgICAgey4uLmJpbmRFZGl0b3JQcm9wcyhpZCwgJ3NpbXVsYXRvci1lZGl0b3InKX1cbiAgICAgICAgICAgIG9uQ29uZmlnQ2hhbmdlPXtyZWZyZXNoU2ltdWxhdG9yRnJvbUNvbmZpZ31cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY2FzZSAnc2ltdWxhdG9yJzoge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxTaW11bGF0b3JcbiAgICAgICAgICAgIHJlZj17YXR0YWNoU2ltdWxhdG9yfVxuICAgICAgICAgICAgcnVubmluZz17cnVubmluZ31cbiAgICAgICAgICAgIHsuLi5zdGF0ZS5zaW11bGF0b3JTdGF0ZX1cbiAgICAgICAgICAgIG9uVXBkYXRlPXsoc2ltdWxhdG9yU3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnU0VUX1NJTVVMQVRPUl9TVEFURScsIHNpbXVsYXRvclN0YXRlIH0pO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uRXhlY3V0aW9uQWN0aW9uPXtoYW5kbGVFeGVjdXRpb25BY3Rpb259XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2NvbnNvbGUnOiB7XG4gICAgICAgIHJldHVybiA8Q29uc29sZSByZWY9e2NvbnNvbGVSZWZ9IG9uSW5wdXQ9e2hhbmRsZUNvbnNvbGVJbnB1dH0gLz47XG4gICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmaWx0ZXIocGF0aDogc3RyaW5nLCBjaGlsZDogRmlsZXJSZWN1cnNpdmVTdGF0SW5mbyk6IGJvb2xlYW4ge1xuICAgIGlmIChwYXRoID09PSAnLicgJiYgY2hpbGQubmFtZSA9PT0gJy5tZXRhZGF0YScgJiYgIXNob3dNZXRhZGF0YUZvbGRlcikgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8R3JpZCBjbGFzc05hbWU9e2NsYXNzZXMucm9vdH0gY29udGFpbmVyIGRpcmVjdGlvbj1cInJvd1wiIHdyYXA9XCJub3dyYXBcIj5cbiAgICAgIDxHcmlkXG4gICAgICAgIGl0ZW1cbiAgICAgICAgY29tcG9uZW50PXtTcXVhcmVQYXBlcn1cbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBmbGV4OiAnMCBhdXRvJyxcbiAgICAgICAgICBtaW5XaWR0aDogJzE1MHB4JyxcbiAgICAgICAgICBtYXJnaW5SaWdodDogJzhweCcsXG4gICAgICAgICAgb3ZlcmZsb3c6ICdhdXRvJyxcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMubmF2VG9vbGJhcn0+XG4gICAgICAgICAgPFRvb2x0aXAgdGl0bGU9ezxNIHsuLi5tZXNzYWdlcy5zaW11bGF0b3JUb29sdGlwfSAvPn0+XG4gICAgICAgICAgICA8SWNvbkJ1dHRvbiB2YXJpYW50PVwiY29udGFpbmVkXCIgY29sb3I9XCJwcmltYXJ5XCIgc2l6ZT1cInNtYWxsXCIgb25DbGljaz17YWRkU2ltdWxhdG9yfT5cbiAgICAgICAgICAgICAgPFNpbXVsYXRvckljb24gLz5cbiAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgICAgPFRvb2x0aXAgdGl0bGU9ezxNIHsuLi5tZXNzYWdlcy5jb25zb2xlVG9vbHRpcH0gLz59PlxuICAgICAgICAgICAgPEljb25CdXR0b24gdmFyaWFudD1cImNvbnRhaW5lZFwiIGNvbG9yPVwicHJpbWFyeVwiIHNpemU9XCJzbWFsbFwiIG9uQ2xpY2s9e2FkZENvbnNvbGV9PlxuICAgICAgICAgICAgICA8Q29uc29sZUljb24gLz5cbiAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgICAgPFRvb2x0aXAgdGl0bGU9ezxNIHsuLi5tZXNzYWdlcy5yZXN0b3JlTGF5b3V0VG9vbHRpcH0gLz59PlxuICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICAgICAgdmFyaWFudD1cImNvbnRhaW5lZFwiXG4gICAgICAgICAgICAgICAgY29sb3I9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXsocHJvamVjdENhY2hlPy5sYXlvdXRKc29uID8/IG51bGwpID09PSBudWxsfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGxheW91dEpzb24gPSBwcm9qZWN0Q2FjaGU/LmxheW91dEpzb24gPz8gbnVsbDtcbiAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gICAgICAgICAgICAgICAgICBpZiAobGF5b3V0SnNvbiA9PT0gbnVsbCkgdGhyb3cgJ3VucmVhY2hhYmxlJztcblxuICAgICAgICAgICAgICAgICAgc2V0TGF5b3V0U3RhdGUoSlNPTi5wYXJzZShsYXlvdXRKc29uKSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxSZXN0b3JlTGF5b3V0SWNvbiAvPlxuICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICAgIDxUb29sdGlwIHRpdGxlPXs8TSB7Li4ubWVzc2FnZXMucHJvamVjdFNldHRpbmdzVG9vbHRpcH0gLz59PlxuICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgdmFyaWFudD1cImNvbnRhaW5lZFwiXG4gICAgICAgICAgICAgIGNvbG9yPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgIHNpemU9XCJzbWFsbFwiXG4gICAgICAgICAgICAgIHsuLi5iaW5kVHJpZ2dlcihwcm9qZWN0U2V0dGluZ3NQb3B1cFN0YXRlKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFNldHRpbmdzSWNvbiAvPlxuICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICA8TWVudSBrZWVwTW91bnRlZCB7Li4uYmluZE1lbnUocHJvamVjdFNldHRpbmdzUG9wdXBTdGF0ZSl9PlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB2YXJpYW50PVwiY29udGFpbmVkXCJcbiAgICAgICAgICAgICAgY29sb3I9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIHByb2plY3RTZXR0aW5nc1BvcHVwU3RhdGUuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoaGFzTWV0YWRhdGFGb2xkZXIpIHtcbiAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ1RPR0dMRV9NRVRBREFUQV9GT0xERVInIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvLyAkRmxvd0V4cGVjdEVycm9yXG4gICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnREaXI6IERpclJlZmVyZW5jZSA9IGdldEZpbGUoJy4vJyk7XG5cbiAgICAgICAgICAgICAgICAgIGhhbmRsZUZpbGVBY3Rpb24oe1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdDUkVBVEUnLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnREaXIsXG4gICAgICAgICAgICAgICAgICAgIGRlc2M6IHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnTUVUQURBVEEnLFxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICcubWV0YWRhdGEnLFxuICAgICAgICAgICAgICAgICAgICAgIGZpbGVUeXBlOiAnRElSRUNUT1JZJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnU0hPV19NRVRBREFUQV9GT0xERVInLCB2YWx1ZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxNXG4gICAgICAgICAgICAgICAgey4uLihoYXNNZXRhZGF0YUZvbGRlciA/IG1lc3NhZ2VzLnNob3dIaWRlTWV0YWRhdGEgOiBtZXNzYWdlcy5jcmVhdGVNZXRhZGF0YSl9XG4gICAgICAgICAgICAgICAgdmFsdWVzPXtcbiAgICAgICAgICAgICAgICAgIGhhc01ldGFkYXRhRm9sZGVyXG4gICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBzaG93TWV0YWRhdGFGb2xkZXIgPyAnSElERScgOiAnU0hPVycsXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA6IHt9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9NZW51PlxuICAgICAgICAgIDxociAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPEZpbGVUcmVlXG4gICAgICAgICAgZmlsZXM9e3Byb2plY3RDYWNoZS5maWxlc31cbiAgICAgICAgICB7Li4uZmlsZVRyZWVTdGF0ZX1cbiAgICAgICAgICBmaWx0ZXI9e2ZpbHRlcn1cbiAgICAgICAgICBvbkZpbGVBY3Rpb249e2hhbmRsZUZpbGVBY3Rpb259XG4gICAgICAgICAgb25VcGRhdGU9e1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvd1xuICAgICAgICAgICAgKGZpbGVUcmVlU3RhdGUpID0+IGRpc3BhdGNoKHsgdHlwZTogJ1VQREFURV9GSUxFX1RSRUUnLCBmaWxlVHJlZVN0YXRlIH0pXG4gICAgICAgICAgfVxuICAgICAgICAvPlxuICAgICAgICA8U2ltcGxlRGlhbG9nIGlkPVwiY3JlYXRlLWZpbGUtZGlhbG9nXCIgey4uLmNyZWF0ZUZpbGUubW91bnRTaW1wbGVEaWFsb2coKX0gLz5cbiAgICAgICAgPFNpbXBsZURpYWxvZyBpZD1cInJlbmFtZS1maWxlLWRpYWxvZ1wiIHsuLi5yZW5hbWVGaWxlLm1vdW50U2ltcGxlRGlhbG9nKCl9IC8+XG4gICAgICAgIDxTaW1wbGVEaWFsb2cgaWQ9XCJkZWxldGUtZmlsZS1kaWFsb2dcIiB7Li4uZGVsZXRlRmlsZS5tb3VudFNpbXBsZURpYWxvZygpfSAvPlxuICAgICAgICA8RmlsZVVwbG9hZCByZWY9e2ZpbGVVcGxvYWRSZWZ9IC8+XG4gICAgICAgIHsvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUganN4LWExMXkvYW5jaG9yLWhhcy1jb250ZW50ICovfVxuICAgICAgICA8YSB7Li4uZmlsZURvd25sb2FkLm1vdW50TGluaygpfSAvPlxuICAgICAgPC9HcmlkPlxuICAgICAge3BsdWdpbnNMb2FkZWQgJiYgbGF5b3V0TW9kZWwgIT09IG51bGwgPyAoXG4gICAgICAgIDxHcmlkIGl0ZW0gY29tcG9uZW50PXtTcXVhcmVQYXBlcn0gY2xhc3NOYW1lPXtjbGFzc2VzLmVkaXRvckNvbnRhaW5lcn0+XG4gICAgICAgICAgPEZsZXhMYXlvdXQuTGF5b3V0XG4gICAgICAgICAgICB7Li4ubGF5b3V0UHJvcHN9XG4gICAgICAgICAgICBmYWN0b3J5PXtmYWN0b3J5fVxuICAgICAgICAgICAgY2xhc3NOYW1lTWFwcGVyPXsoY2xhc3NOYW1lKSA9PiBGbGV4TGF5b3V0VGhlbWVbY2xhc3NOYW1lXX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0dyaWQ+XG4gICAgICApIDogbnVsbH1cbiAgICAgIDxFeGVjdXRvciByZWY9e2F0dGFjaEV4ZWN1dG9yfSAvPlxuICAgIDwvR3JpZD5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgSWRlO1xuIiwiXG4gICAgdmFyIHJlZnMgPSAwO1xuICAgIHZhciBjc3MgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS03LXJ1bGVzLTIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS03LXJ1bGVzLTMhLi9mbGV4X2xheW91dF9pZGUuY3NzXCIpO1xuICAgIHZhciBpbnNlcnRDc3MgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9pc29tb3JwaGljLXN0eWxlLWxvYWRlci9pbnNlcnRDc3MuanNcIik7XG4gICAgdmFyIGNvbnRlbnQgPSB0eXBlb2YgY3NzID09PSAnc3RyaW5nJyA/IFtbbW9kdWxlLmlkLCBjc3MsICcnXV0gOiBjc3M7XG5cbiAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBjc3MubG9jYWxzIHx8IHt9O1xuICAgIGV4cG9ydHMuX2dldENvbnRlbnQgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGNvbnRlbnQ7IH07XG4gICAgZXhwb3J0cy5fZ2V0Q3NzID0gZnVuY3Rpb24oKSB7IHJldHVybiAnJyArIGNzczsgfTtcbiAgICBleHBvcnRzLl9pbnNlcnRDc3MgPSBmdW5jdGlvbihvcHRpb25zKSB7IHJldHVybiBpbnNlcnRDc3MoY29udGVudCwgb3B0aW9ucykgfTtcblxuICAgIC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbiAgICAvLyBodHRwczovL3dlYnBhY2suZ2l0aHViLmlvL2RvY3MvaG90LW1vZHVsZS1yZXBsYWNlbWVudFxuICAgIC8vIE9ubHkgYWN0aXZhdGVkIGluIGJyb3dzZXIgY29udGV4dFxuICAgIGlmIChtb2R1bGUuaG90ICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCkge1xuICAgICAgdmFyIHJlbW92ZUNzcyA9IGZ1bmN0aW9uKCkge307XG4gICAgICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0yIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0zIS4vZmxleF9sYXlvdXRfaWRlLmNzc1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY3NzID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0yIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0zIS4vZmxleF9sYXlvdXRfaWRlLmNzc1wiKTtcbiAgICAgICAgY29udGVudCA9IHR5cGVvZiBjc3MgPT09ICdzdHJpbmcnID8gW1ttb2R1bGUuaWQsIGNzcywgJyddXSA6IGNzcztcbiAgICAgICAgcmVtb3ZlQ3NzID0gaW5zZXJ0Q3NzKGNvbnRlbnQsIHsgcmVwbGFjZTogdHJ1ZSB9KTtcbiAgICAgIH0pO1xuICAgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyByZW1vdmVDc3MoKTsgfSk7XG4gICAgfVxuICAiLCIvLyBAZmxvd1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBGbGV4TGF5b3V0IGZyb20gJ2ZsZXhsYXlvdXQtcmVhY3QnO1xuXG5leHBvcnQgdHlwZSBMYXlvdXRTdGF0ZSA9IHsgLi4uIH07XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0xBWU9VVF9TVEFURTogTGF5b3V0U3RhdGUgPSB7XG4gIGdsb2JhbDoge30sXG4gIGJvcmRlcnM6IFtdLFxuICBsYXlvdXQ6IHtcbiAgICB0eXBlOiAndGFic2V0JyxcbiAgICBjaGlsZHJlbjogW10sXG4gIH0sXG59O1xuXG50eXBlIExheW91dFByb3BzID0ge3xcbiAgbW9kZWw6IEZsZXhMYXlvdXQuTW9kZWwsXG4gIG9uTW9kZWxDaGFuZ2U6ICgpID0+IHZvaWQsXG58fTtcblxuLy8gRmxleExheW91dC5Nb2RlbCB1c2VzIGEgZGlmZmVyZW50IGFwcHJvYWNoIHRvIHN0YXRlOlxuLy8gSXQgdXNlcyBhIG11dGFibGUgbW9kZWwgb2JqZWN0IHdoaWNoIGlzIG5vdCBzdWl0YWJsZSBmb3IgcmVhY3QncyByZWd1bGFyXG4vLyBoYW5kbGluZyBvZiBzdGF0ZSB1cGRhdGVzLlxuLy8gaXQgaXMgYWxzbyBub3QgYSBwbGFpbiBKUyBvYmplY3QgYnV0IGFuIGluc3RhbmNlIG9mIGEgY2xhc3MgdGhhdCBuZWVkc1xuLy8gdG8gYmUgc2VyaWFsaXplZCBmb3IgcGVyc2lzdGVuY2UuXG4vLyBUaGlzIGhvb2sgYnJpZGdlcyB0aGlzIEFQSSBtaXNtYXRjaC5cbi8vIFRoZSBwYXNzZWQgc3RhdGUgaXMgdXNlZCB0byBjcmVhdGUgYSBtb2RlbCB0aGUgZmlyc3QgdGltZSBpdCBpcyBub3QgbnVsbCxcbi8vIGFuZCBjaGFuZ2VzIHRvIHRoZSBtb2RlbCAoZGV0ZWN0ZWQgYnkgYSBjYWxsYmFjayByZWdpc3RlcmVkIHdpdGggdGhlIExheW91dClcbi8vIHVwZGF0ZSB0aGUgc3RhdGUuXG4vLyBTdWJzZXF1ZW50IGNoYW5nZXMgdG8gdGhlIHN0YXRlIGFyZSBhc3N1bWVkIHRvIGJlIHRyaWdnZXJlZCBieSBtb2RlbCBjaGFuZ2VzXG4vLyBhbmQgYXJlIHRoZXJlZm9yZSBpZ25vcmVkLlxuLy9cbi8vICAgIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gUmVhY3QudXNlU3RhdGUobnVsbCk7XG4vLyAgICBjb25zdCBbbW9kZWwsIGxheW91dFByb3BzXSA9IHVzZUxheW91dE1vZGVsKHN0YXRlLCBzZXRTdGF0ZSk7XG4vLyAgICAvLyBzb21ld2hlcmUsIHN0YXRlIGlzIHNldCB0byBhIG5vbi1udWxsIHZhbHVlXG4vL1xuLy8gICAgLy8gbGF5b3V0UHJvcHMgY29udGFpbnMgYm90aCBtb2RlbCBhbmQgb25Nb2RlbENoYW5nZVxuLy8gICAgcmV0dXJuIG1vZGVsICYmIDxGbGV4TGF5b3V0LkxheW91dCB7Li4ubGF5b3V0UHJvcHN9IC8+O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlTGF5b3V0TW9kZWwoXG4gIGxheW91dFN0YXRlOiBMYXlvdXRTdGF0ZSB8IG51bGwsXG4gIG9uTGF5b3V0U3RhdGVDaGFuZ2U6IChMYXlvdXRTdGF0ZSkgPT4gdm9pZCxcbik6IFtGbGV4TGF5b3V0Lk1vZGVsIHwgbnVsbCwgKExheW91dFN0YXRlKSA9PiB2b2lkLCBMYXlvdXRQcm9wc10ge1xuICBjb25zdCBbbW9kZWwsIHNldE1vZGVsXSA9IFJlYWN0LnVzZVN0YXRlPEZsZXhMYXlvdXQuTW9kZWwgfCBudWxsPihudWxsKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIG9ubHkgbG9hZCB0aGUgbW9kZWwgb25jZSB3aGVuIHRoZSBsYXlvdXRTdGF0ZSBiZWNvbWVzIG5vbi1udWxsXG4gICAgaWYgKGxheW91dFN0YXRlID09PSBudWxsIHx8IG1vZGVsICE9PSBudWxsKSByZXR1cm47XG5cbiAgICBzZXRNb2RlbChGbGV4TGF5b3V0Lk1vZGVsLmZyb21Kc29uKGxheW91dFN0YXRlKSk7XG4gIH0sIFtsYXlvdXRTdGF0ZSwgbW9kZWxdKTtcblxuICBmdW5jdGlvbiBzZXRMYXlvdXRTdGF0ZShuZXdMYXlvdXRTdGF0ZTogTGF5b3V0U3RhdGUpIHtcbiAgICBzZXRNb2RlbChGbGV4TGF5b3V0Lk1vZGVsLmZyb21Kc29uKG5ld0xheW91dFN0YXRlKSk7XG4gIH1cblxuICByZXR1cm4gW1xuICAgIG1vZGVsLFxuICAgIHNldExheW91dFN0YXRlLFxuICAgIHtcbiAgICAgIG1vZGVsLFxuICAgICAgb25Nb2RlbENoYW5nZSgpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcbiAgICAgICAgaWYgKG1vZGVsID09PSBudWxsKSB0aHJvdyAnb25Nb2RlbENoYW5nZSB3aGVuIG1vZGVsIGlzIG51bGwnO1xuXG4gICAgICAgIG9uTGF5b3V0U3RhdGVDaGFuZ2UobW9kZWwudG9Kc29uKCkpO1xuICAgICAgfSxcbiAgICB9LFxuICBdO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgbWFrZUxvY2FsU3RvcmFnZU9wdCB9IGZyb20gJy4uLy4uL21pc2MvaG9va3MnO1xuXG5pbXBvcnQgeyB0eXBlIExheW91dFN0YXRlLCBERUZBVUxUX0xBWU9VVF9TVEFURSB9IGZyb20gJy4vdXNlTGF5b3V0TW9kZWwnO1xuaW1wb3J0IHsgdHlwZSBDb250cm9sbGVkU3RhdGUgYXMgRmlsZVRyZWVTdGF0ZSB9IGZyb20gJy4uL0ZpbGVUcmVlJztcbmltcG9ydCB7IHR5cGUgQ29udHJvbGxlZFN0YXRlIGFzIFNpbXVsYXRvclN0YXRlIH0gZnJvbSAnLi4vU2ltdWxhdG9yJztcbmltcG9ydCB7IHR5cGUgQ29udHJvbGxlZFN0YXRlIGFzIFZpc3VhbEVkaXRvclN0YXRlIH0gZnJvbSAnLi4vVmlzdWFsRWRpdG9yJztcbmltcG9ydCB7IHR5cGUgQ29udHJvbGxlZFN0YXRlIGFzIFNpbXVsYXRvckVkaXRvclN0YXRlIH0gZnJvbSAnLi4vU2ltdWxhdG9yRWRpdG9yJztcblxudHlwZSBFZGl0b3JTdGF0ZXMgPSB7fFxuICBibG9ja2x5PzogVmlzdWFsRWRpdG9yU3RhdGUsXG4gICdzaW11bGF0b3ItZWRpdG9yJz86IFNpbXVsYXRvckVkaXRvclN0YXRlLFxufH07XG5cbnR5cGUgUGVyc2lzdGVudFN0YXRlID0ge3xcbiAgZmlsZVRyZWVTdGF0ZTogRmlsZVRyZWVTdGF0ZSxcbiAgc2hvd01ldGFkYXRhRm9sZGVyOiBib29sZWFuLFxuICBsYXlvdXRTdGF0ZTogTGF5b3V0U3RhdGUsXG4gIHNpbXVsYXRvclN0YXRlOiBTaW11bGF0b3JTdGF0ZSxcbiAgZWRpdG9yU3RhdGVzOiB7IFtwYXRoOiBzdHJpbmddOiBFZGl0b3JTdGF0ZXMgfSxcbnx9O1xuXG50eXBlIElkZUFjdGlvbiA9XG4gIHwge3wgdHlwZTogJ1NFVF9FRElUT1JfU1RBVEUnLCBwYXRoOiBzdHJpbmcsIGVkaXRvclN0YXRlczogRWRpdG9yU3RhdGVzIHx9XG4gIHwge3wgdHlwZTogJ1NFVF9TSU1VTEFUT1JfU1RBVEUnLCBzaW11bGF0b3JTdGF0ZTogU2ltdWxhdG9yU3RhdGUgfH1cbiAgfCB7fCB0eXBlOiAnRVhQQU5EX0RJUkVDVE9SWScsIHBhdGg6IHN0cmluZyB8fVxuICB8IHt8IHR5cGU6ICdUT0dHTEVfTUVUQURBVEFfRk9MREVSJyB8fVxuICB8IHt8IHR5cGU6ICdTSE9XX01FVEFEQVRBX0ZPTERFUicsIHZhbHVlOiBib29sZWFuIHx9XG4gIHwge3wgdHlwZTogJ1VQREFURV9GSUxFX1RSRUUnLCBmaWxlVHJlZVN0YXRlOiBGaWxlVHJlZVN0YXRlIHx9XG4gIHwge3wgdHlwZTogJ0xBWU9VVCcsIGxheW91dFN0YXRlOiBMYXlvdXRTdGF0ZSB8fVxuXG5mdW5jdGlvbiBpZGVTdGF0ZShzdGF0ZTogUGVyc2lzdGVudFN0YXRlLCBhY3Rpb246IElkZUFjdGlvbik6IFBlcnNpc3RlbnRTdGF0ZSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlICdTRVRfRURJVE9SX1NUQVRFJzoge1xuICAgICAgY29uc3QgeyBwYXRoLCBlZGl0b3JTdGF0ZXMgfSA9IGFjdGlvbjtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGVkaXRvclN0YXRlczoge1xuICAgICAgICAgIC4uLnN0YXRlLmVkaXRvclN0YXRlcyxcbiAgICAgICAgICBbcGF0aF06IHtcbiAgICAgICAgICAgIC4uLnN0YXRlLmVkaXRvclN0YXRlc1twYXRoXSxcbiAgICAgICAgICAgIC4uLmVkaXRvclN0YXRlcyxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG4gICAgY2FzZSAnU0VUX1NJTVVMQVRPUl9TVEFURSc6IHtcbiAgICAgIGNvbnN0IHsgc2ltdWxhdG9yU3RhdGUgfSA9IGFjdGlvbjtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHNpbXVsYXRvclN0YXRlLFxuICAgICAgfTtcbiAgICB9XG4gICAgY2FzZSAnRVhQQU5EX0RJUkVDVE9SWSc6IHtcbiAgICAgIGNvbnN0IHsgcGF0aCB9ID0gYWN0aW9uO1xuICAgICAgY29uc3QgeyBleHBhbmRlZEtleXMgfSA9IHN0YXRlLmZpbGVUcmVlU3RhdGU7XG5cbiAgICAgIC8vIG5vIG5lZWQgdG8gdXBkYXRlIHN0YXRlIGlmIHRoZSBwYXJlbnQgZGlyZWN0b3J5IGlzIGFscmVhZHkgZXhwYW5kZWRcbiAgICAgIGlmIChleHBhbmRlZEtleXMuaW5jbHVkZXMocGF0aCkpIHJldHVybiBzdGF0ZTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGZpbGVUcmVlU3RhdGU6IHtcbiAgICAgICAgICAuLi5zdGF0ZS5maWxlVHJlZVN0YXRlLFxuICAgICAgICAgIGV4cGFuZGVkS2V5czogWy4uLmV4cGFuZGVkS2V5cywgcGF0aF0sXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH1cbiAgICBjYXNlICdUT0dHTEVfTUVUQURBVEFfRk9MREVSJzoge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHNob3dNZXRhZGF0YUZvbGRlcjogIXN0YXRlLnNob3dNZXRhZGF0YUZvbGRlcixcbiAgICAgIH07XG4gICAgfVxuICAgIGNhc2UgJ1NIT1dfTUVUQURBVEFfRk9MREVSJzoge1xuICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gYWN0aW9uO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHNob3dNZXRhZGF0YUZvbGRlcjogdmFsdWUsXG4gICAgICB9O1xuICAgIH1cbiAgICBjYXNlICdVUERBVEVfRklMRV9UUkVFJzoge1xuICAgICAgY29uc3QgeyBmaWxlVHJlZVN0YXRlIH0gPSBhY3Rpb247XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgZmlsZVRyZWVTdGF0ZSxcbiAgICAgIH07XG4gICAgfVxuICAgIGNhc2UgJ0xBWU9VVCc6IHtcbiAgICAgIGNvbnN0IHsgbGF5b3V0U3RhdGUgfSA9IGFjdGlvbjtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGxheW91dFN0YXRlLFxuICAgICAgfTtcbiAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufVxuXG5jb25zdCB1c2VTdG9yYWdlID0gbWFrZUxvY2FsU3RvcmFnZU9wdDxQZXJzaXN0ZW50U3RhdGU+KFxuICAoanNvbikgPT4gKHtcbiAgICAvLyBkZWZhdWx0IHN0YXRlXG4gICAgZmlsZVRyZWVTdGF0ZTogeyBleHBhbmRlZEtleXM6IFtdIH0sXG4gICAgc2hvd01ldGFkYXRhRm9sZGVyOiBmYWxzZSxcbiAgICBsYXlvdXRTdGF0ZTogREVGQVVMVF9MQVlPVVRfU1RBVEUsXG4gICAgc2ltdWxhdG9yU3RhdGU6IHtcbiAgICAgIHpvb206IDEwMCxcbiAgICAgIHpvb21Nb2RlOiAnRklUJyxcbiAgICB9LFxuICAgIGVkaXRvclN0YXRlczoge30sXG4gICAgLy8gcGVyc2lzdGVkIHN0YXRlXG4gICAgLi4uKGpzb24gIT09IG51bGwgPyBKU09OLnBhcnNlKGpzb24pIDogbnVsbCksXG4gIH0pLFxuICAoc3RhdGUpID0+IEpTT04uc3RyaW5naWZ5KHN0YXRlKSxcbik7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZVBlcnNpc3RlbnRTdGF0ZShcbiAgcHJvamVjdFVpZDogc3RyaW5nIHwgbnVsbCxcbik6IFtQZXJzaXN0ZW50U3RhdGUgfCBudWxsLCAoSWRlQWN0aW9uKSA9PiB2b2lkXSB7XG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RvcmFnZShwcm9qZWN0VWlkICYmIGBJREUtU3RhdGUtJHtwcm9qZWN0VWlkfWApO1xuXG4gIGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbjogSWRlQWN0aW9uKSB7XG4gICAgc2V0U3RhdGUoKHN0YXRlKSA9PiB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICAgICAgaWYgKHN0YXRlID09PSB1bmRlZmluZWQpIHRocm93ICdzdGF0ZSBtdXN0IGJlIGxvYWRlZCBmaXJzdCc7XG5cbiAgICAgIHJldHVybiBpZGVTdGF0ZShzdGF0ZSwgYWN0aW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBbc3RhdGUgPz8gbnVsbCwgZGlzcGF0Y2hdO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgZmlsZXIsIHsgZnMgfSBmcm9tICdmaWxlcic7XG5cbmltcG9ydCB7XG4gIHR5cGUgRmlsZXJSZWN1cnNpdmVTdGF0SW5mbyxcbiAgdHlwZSBGaWxlclJlY3Vyc2l2ZURpcmVjdG9yeUluZm8sXG4gIFByb2plY3QsXG4gIGdldERlc2NlbmRhbnQsXG59IGZyb20gJy4uLy4uLy4uL2NvcmUvc3RvcmUvcHJvamVjdHMnO1xuXG5pbXBvcnQgeyB1c2VBc3luY1N0YXRlIH0gZnJvbSAnLi4vLi4vbWlzYy9ob29rcyc7XG5cbnR5cGUgSW50ZXJuYWxDYWNoZSA9IHt8XG4gIGZpbGVzOiBGaWxlclJlY3Vyc2l2ZVN0YXRJbmZvLFxuICBzaW11bGF0b3JYbWw6IHN0cmluZyB8IG51bGwsXG4gIGxheW91dEpzb246IHN0cmluZyB8IG51bGwsXG4gIGFzc2V0QnVmZmVyczogTWFwPHN0cmluZywgVWludDhBcnJheT4sXG58fTtcblxudHlwZSBQcm9qZWN0Q2FjaGUgPSB7fFxuICBmaWxlczogRmlsZXJSZWN1cnNpdmVTdGF0SW5mbyxcbiAgc2ltdWxhdG9yWG1sOiBzdHJpbmcgfCBudWxsLFxuICBsYXlvdXRKc29uOiBzdHJpbmcgfCBudWxsLFxuICBhc3NldHM6IE1hcDxzdHJpbmcsIFtzdHJpbmcsIFVpbnQ4QXJyYXldPixcbnx9O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VQcm9qZWN0Q2FjaGUoXG4gIHByb2plY3Q6IFByb2plY3QgfCBudWxsLFxuKTogW1Byb2plY3RDYWNoZSB8IG51bGwsICgpID0+IHZvaWRdIHtcbiAgY29uc3QgW2ludGVybmFsU3RhdGUsIHNldEludGVybmFsU3RhdGVdID0gdXNlQXN5bmNTdGF0ZTxJbnRlcm5hbENhY2hlIHwgbnVsbD4obnVsbCk7XG5cbiAgZnVuY3Rpb24gcmVmcmVzaFByb2plY3QoKSB7XG4gICAgaWYgKHByb2plY3QgPT09IG51bGwpIHtcbiAgICAgIHNldEludGVybmFsU3RhdGUobnVsbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24gbG9hZEFzc2V0cyhyb290OiBGaWxlclJlY3Vyc2l2ZVN0YXRJbmZvKTogUHJvbWlzZTxNYXA8c3RyaW5nLCBVaW50OEFycmF5Pj4ge1xuICAgICAgY29uc3QgYXNzZXRCdWZmZXJzOiBNYXA8c3RyaW5nLCBVaW50OEFycmF5PiA9IG5ldyBNYXAoKTtcblxuICAgICAgbGV0IGFzc2V0c0ZpbGU6IEZpbGVyUmVjdXJzaXZlU3RhdEluZm87XG4gICAgICB0cnkge1xuICAgICAgICBhc3NldHNGaWxlID0gZ2V0RGVzY2VuZGFudChyb290LCAnLm1ldGFkYXRhJywgJ2Fzc2V0cycpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgcmV0dXJuIGFzc2V0QnVmZmVycztcbiAgICAgIH1cblxuICAgICAgaWYgKCFhc3NldHNGaWxlLmlzRGlyZWN0b3J5KCkpIHJldHVybiBhc3NldEJ1ZmZlcnM7XG4gICAgICAvLyAkRmxvd0V4cGVjdEVycm9yXG4gICAgICBjb25zdCBhc3NldHNEaXI6IEZpbGVyUmVjdXJzaXZlRGlyZWN0b3J5SW5mbyA9IGFzc2V0c0ZpbGU7XG5cbiAgICAgIGFzeW5jIGZ1bmN0aW9uIHdhbGsocHJlZml4OiBzdHJpbmcsIGZpbGVzOiBGaWxlclJlY3Vyc2l2ZVN0YXRJbmZvW10pIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgZmlsZXMubWFwKGFzeW5jIChmKSA9PiB7XG4gICAgICAgICAgICBpZiAoZi5pc0RpcmVjdG9yeSgpKSB7XG4gICAgICAgICAgICAgIC8vICRGbG93RXhwZWN0RXJyb3JcbiAgICAgICAgICAgICAgY29uc3QgZGlyOiBGaWxlclJlY3Vyc2l2ZURpcmVjdG9yeUluZm8gPSBmO1xuICAgICAgICAgICAgICBhd2FpdCB3YWxrKGAke3ByZWZpeH0ke2YubmFtZX0vYCwgZGlyLmNvbnRlbnRzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnN0IGFic29sdXRlUGF0aCA9IHByb2plY3QucmVzb2x2ZSgnLi8ubWV0YWRhdGEvYXNzZXRzJywgcHJlZml4LCBmLm5hbWUpO1xuICAgICAgICAgICAgICBjb25zdCBidWZmZXIgPSBhd2FpdCBmcy5wcm9taXNlcy5yZWFkRmlsZShhYnNvbHV0ZVBhdGgpO1xuICAgICAgICAgICAgICBhc3NldEJ1ZmZlcnMuc2V0KGBhc3NldDoke3ByZWZpeH0ke2YubmFtZX1gLCBidWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBhd2FpdCB3YWxrKCcnLCBhc3NldHNEaXIuY29udGVudHMpO1xuXG4gICAgICByZXR1cm4gYXNzZXRCdWZmZXJzO1xuICAgIH1cblxuICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWRGaWxlc0FuZEFzc2V0cygpOiBQcm9taXNlPFxuICAgICAgW0ZpbGVyUmVjdXJzaXZlU3RhdEluZm8sIE1hcDxzdHJpbmcsIFVpbnQ4QXJyYXk+XSxcbiAgICA+IHtcbiAgICAgIGNvbnN0IGZpbGVzID0gYXdhaXQgcHJvamVjdC5nZXRGaWxlcygpO1xuICAgICAgY29uc3QgYXNzZXRCdWZmZXJzID0gYXdhaXQgbG9hZEFzc2V0cyhmaWxlcyk7XG5cbiAgICAgIHJldHVybiBbZmlsZXMsIGFzc2V0QnVmZmVyc107XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24gbG9hZFNpbXVsYXRvclhtbCgpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgICAgIGNvbnN0IGFic29sdXRlUGF0aCA9IHByb2plY3QucmVzb2x2ZSgnLi8ubWV0YWRhdGEvc2ltdWxhdG9yJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB3b3Jrc3BhY2VYbWwgPSBhd2FpdCBmcy5wcm9taXNlcy5yZWFkRmlsZShhYnNvbHV0ZVBhdGgsICd1dGY4Jyk7XG4gICAgICAgIGlmICh3b3Jrc3BhY2VYbWwgPT09ICcnKSByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIHdvcmtzcGFjZVhtbDtcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIGlmICghKGV4IGluc3RhbmNlb2YgZmlsZXIuRXJyb3JzLkVOT0VOVCkpIHtcbiAgICAgICAgICB0aHJvdyBleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBsb2FkTGF5b3V0SnNvbigpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgICAgIGNvbnN0IGFic29sdXRlUGF0aCA9IHByb2plY3QucmVzb2x2ZSgnLi8ubWV0YWRhdGEvbGF5b3V0Jyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBsYXlvdXRKc29uID0gYXdhaXQgZnMucHJvbWlzZXMucmVhZEZpbGUoYWJzb2x1dGVQYXRoLCAndXRmOCcpO1xuICAgICAgICByZXR1cm4gbGF5b3V0SnNvbjtcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIGlmICghKGV4IGluc3RhbmNlb2YgZmlsZXIuRXJyb3JzLkVOT0VOVCkpIHtcbiAgICAgICAgICB0aHJvdyBleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBsb2FkUHJvamVjdENhY2hlKCk6IFByb21pc2U8SW50ZXJuYWxDYWNoZT4ge1xuICAgICAgLy8gbG9hZCBwcm9qZWN0IGZyb20gdGhlIGZpbGUgc3lzdGVtXG4gICAgICBjb25zdCBbW2ZpbGVzLCBhc3NldEJ1ZmZlcnNdLCBzaW11bGF0b3JYbWwsIGxheW91dEpzb25dID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBsb2FkRmlsZXNBbmRBc3NldHMoKSxcbiAgICAgICAgbG9hZFNpbXVsYXRvclhtbCgpLFxuICAgICAgICBsb2FkTGF5b3V0SnNvbigpLFxuICAgICAgXSk7XG5cbiAgICAgIHJldHVybiB7IGZpbGVzLCBzaW11bGF0b3JYbWwsIGxheW91dEpzb24sIGFzc2V0QnVmZmVycyB9O1xuICAgIH1cblxuICAgIHNldEludGVybmFsU3RhdGUobG9hZFByb2plY3RDYWNoZSgpKTtcbiAgfVxuXG4gIC8vIHJlZnJlc2ggcHJvamVjdCB3aGVuIHByb2plY3ROYW1lIGNoYW5nZXNcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICByZWZyZXNoUHJvamVjdCgpO1xuICB9LCBbcHJvamVjdF0pO1xuXG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gUmVhY3QudXNlU3RhdGU8UHJvamVjdENhY2hlIHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gcHJvdmlkZSBibG9iIFVSTHMgZm9yIGFzc2V0c1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpbnRlcm5hbFN0YXRlID09PSBudWxsKSB7XG4gICAgICBzZXRTdGF0ZShudWxsKTtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgY29uc3QgeyBmaWxlcywgc2ltdWxhdG9yWG1sLCBsYXlvdXRKc29uLCBhc3NldEJ1ZmZlcnMgfSA9IGludGVybmFsU3RhdGU7XG5cbiAgICBjb25zdCB1cmxzID0gW107XG4gICAgY29uc3QgYXNzZXRzOiBNYXA8c3RyaW5nLCBbc3RyaW5nLCBVaW50OEFycmF5XT4gPSBuZXcgTWFwKCk7XG4gICAgZm9yIChjb25zdCBba2V5LCBidWZmZXJdIG9mIGFzc2V0QnVmZmVycykge1xuICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtidWZmZXJdKTtcbiAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICB1cmxzLnB1c2godXJsKTtcbiAgICAgIGFzc2V0cy5zZXQoa2V5LCBbdXJsLCBidWZmZXJdKTtcbiAgICB9XG5cbiAgICBzZXRTdGF0ZSh7IGZpbGVzLCBzaW11bGF0b3JYbWwsIGxheW91dEpzb24sIGFzc2V0cyB9KTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IHVybCBvZiB1cmxzKSB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbaW50ZXJuYWxTdGF0ZV0pO1xuXG4gIHJldHVybiBbc3RhdGUsIHJlZnJlc2hQcm9qZWN0XTtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgUHJvamVjdCB9IGZyb20gJy4uLy4uLy4uL2NvcmUvc3RvcmUvcHJvamVjdHMnO1xuXG5pbXBvcnQgeyB1c2VBc3luY1N0YXRlIH0gZnJvbSAnLi4vLi4vbWlzYy9ob29rcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZVByb2plY3RJbmZvKHByb2plY3ROYW1lOiBzdHJpbmcpOiBQcm9qZWN0IHwgbnVsbCB7XG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlQXN5bmNTdGF0ZTxQcm9qZWN0IHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gcmVmcmVzaCBwcm9qZWN0IHdoZW4gcHJvamVjdE5hbWUgY2hhbmdlc1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldFN0YXRlKFByb2plY3QuZ2V0UHJvamVjdChwcm9qZWN0TmFtZSkpO1xuICB9LCBbcHJvamVjdE5hbWVdKTtcblxuICByZXR1cm4gc3RhdGU7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB1c2VGaWxlT2JqZWN0VVJMLCB7IFByb2plY3QgfSBmcm9tICcuLi91c2VGaWxlT2JqZWN0VVJMJztcblxudHlwZSBQcm9wcyA9IHt8XG4gIGxheW91dE5vZGU6IGFueSxcbiAgcHJvamVjdDogUHJvamVjdCxcbiAgcGF0aDogc3RyaW5nLFxufH07XG5cbi8qKlxuICogU2hvd3MgYSBwcm9qZWN0IGZpbGUgaW4gYW4gaWZyYW1lLiBUaGlzIGlzIGVmZmVjdGl2ZSBmb3IgZmlsZSB0eXBlcyBzdWNoIGFzIFBERiBkb2N1bWVudHMgb3IgaW1hZ2VzLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbmZ1bmN0aW9uIElmcmFtZVZpZXdlcih7IGxheW91dE5vZGUsIHByb2plY3QsIHBhdGggfTogUHJvcHMpIHtcbiAgY29uc3QgdXJsID0gdXNlRmlsZU9iamVjdFVSTChwcm9qZWN0LCBwYXRoKTtcblxuICByZXR1cm4gdXJsID09PSBudWxsID8gbnVsbCA6IChcbiAgICA8aWZyYW1lIHRpdGxlPXtwYXRofSBzcmM9e3VybH0gc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnMTAwJScgfX0gLz5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgSWZyYW1lVmlld2VyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVzZVN0eWxlcyBmcm9tICdpc29tb3JwaGljLXN0eWxlLWxvYWRlci91c2VTdHlsZXMnO1xuXG5pbXBvcnQgSWNvbkJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9JY29uQnV0dG9uJztcbmltcG9ydCBUb29sdGlwIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1Rvb2x0aXAnO1xuXG5pbXBvcnQgTURFZGl0b3IsIHsgY29tbWFuZHMgfSBmcm9tICdAdWl3L3JlYWN0LW1kLWVkaXRvcic7XG4vKiBlc2xpbnQtZGlzYWJsZSBjYW1lbGNhc2UgKi9cbi8vICRGbG93RXhwZWN0RXJyb3JcbmltcG9ydCBtZF9zIGZyb20gJ0B1aXcvcmVhY3QtbWQtZWRpdG9yL2Rpc3QvbWFya2Rvd24tZWRpdG9yLmNzcyc7XG4vKiBlc2xpbnQtZW5hYmxlIGNhbWVsY2FzZSAqL1xuXG5pbXBvcnQgeyBNYXJrZG93bkZpbGVJY29uIH0gZnJvbSAnLi4vLi4vbWlzYy9wYWxldHRlJztcbmltcG9ydCAqIGFzIGhvb2tzIGZyb20gJy4uLy4uL21pc2MvaG9va3MnO1xuXG5pbXBvcnQgcyBmcm9tICcuL01hcmtkb3duLnNjc3MnO1xuXG5pbXBvcnQgdXNlRmlsZSwgeyBQcm9qZWN0IH0gZnJvbSAnLi4vdXNlRmlsZSc7XG5cbmV4cG9ydCB0eXBlIENvbnRyb2xsZWRTdGF0ZSA9IHt8XG4gIG1vZGU6ICdlZGl0JyB8ICdwcmV2aWV3JyB8ICdkZWZhdWx0Jyxcbnx9O1xuXG50eXBlIFByb3BzID0ge3xcbiAgbGF5b3V0Tm9kZTogYW55LFxuICBwcm9qZWN0OiBQcm9qZWN0LFxuICBwYXRoOiBzdHJpbmcsXG4gIGFzc2V0czogTWFwPHN0cmluZywgW3N0cmluZywgVWludDhBcnJheV0+LFxuICAuLi5Db250cm9sbGVkU3RhdGUsXG4gIG9uVXBkYXRlOiAoc3RhdGU6IENvbnRyb2xsZWRTdGF0ZSkgPT4gdm9pZCB8IFByb21pc2U8dm9pZD4sXG58fTtcblxuLyoqXG4gKiBXcmFwcyBhbiBgTURFZGl0b3JgIGZvciBkaXNwbGF5IGluIGEgYEZsZXhMYXlvdXRgIHRhYixcbiAqIGFuZCBmb3IgZWRpdGluZyB0aGUgY29udGVudHMgb2YgYSBwcm9qZWN0IGZpbGUuXG4gKi9cbmZ1bmN0aW9uIE1hcmtkb3duKHsgbGF5b3V0Tm9kZSwgcHJvamVjdCwgcGF0aCwgYXNzZXRzLCBtb2RlLCBvblVwZGF0ZSB9OiBQcm9wcykge1xuICBjb25zdCBbaGVpZ2h0LCBzZXRIZWlnaHRdID0gUmVhY3QudXNlU3RhdGU8bnVtYmVyPigyMDApO1xuICBjb25zdCBjb250YWluZXJSZWYgPSBob29rcy51c2VFbGVtZW50UmVmPCdkaXYnPigpO1xuXG4gIGNvbnN0IFtjb250ZW50LCBzZXRDb250ZW50XSA9IHVzZUZpbGUocHJvamVjdCwgcGF0aCwgJ3V0ZjgnKTtcblxuICAvLyB1cGRhdGUgZWRpdG9yIHNpemUgd2hlbiB0aGUgY29udGFpbmluZyB0YWIgaXMgcmVzaXplZCBvciBtYWRlIHZpc2libGVcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKGNvbnRhaW5lclJlZi5jdXJyZW50ID09PSBudWxsKSByZXR1cm47XG4gICAgICAgIHNldEhlaWdodChjb250YWluZXJSZWYuY3VycmVudC5vZmZzZXRIZWlnaHQpO1xuICAgICAgfSwgMCk7XG4gICAgfTtcblxuICAgIGxheW91dE5vZGUuc2V0RXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlUmVzaXplKTtcbiAgICBsYXlvdXROb2RlLnNldEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHknLCBoYW5kbGVSZXNpemUpO1xuICAgIGhhbmRsZVJlc2l6ZSgpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGxheW91dE5vZGUuc2V0RXZlbnRMaXN0ZW5lcigncmVzaXplJywgbnVsbCk7XG4gICAgICBsYXlvdXROb2RlLnNldEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHknLCBudWxsKTtcbiAgICB9O1xuICB9LCBbbGF5b3V0Tm9kZSwgY29udGFpbmVyUmVmXSk7XG5cbiAgLy8gdXBkYXRlIHRoZSBtb2RlIG9uIGZpcnN0IGxvYWRcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAobW9kZSAhPT0gJ2RlZmF1bHQnIHx8IGNvbnRlbnQgPT09IG51bGwpIHJldHVybjtcblxuICAgIG9uVXBkYXRlKHsgbW9kZTogY29udGVudCA9PT0gJycgPyAnZWRpdCcgOiAncHJldmlldycgfSk7XG4gIH0sIFtvblVwZGF0ZSwgbW9kZSwgY29udGVudF0pO1xuXG4gIC8vIHJlc29sdmUgYXNzZXRzIGZvciB0aGUgcHJldmlld1xuICBjb25zdCBbcHJldmlld0NvbnRlbnQsIHNldFByZXZpZXdDb250ZW50XSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjb250ZW50ID09PSBudWxsKSB7XG4gICAgICBzZXRQcmV2aWV3Q29udGVudChudWxsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCByZXBsYWNlZCA9IGNvbnRlbnQucmVwbGFjZShcbiAgICAgIC9cXF1cXCgoYXNzZXQ6Lio/KVxcKS9nLFxuICAgICAgKF9tYXRjaCwgYXNzZXQpID0+IGBdKCR7YXNzZXRzLmdldChhc3NldCk/LlswXSA/PyAnJ30pYCxcbiAgICApO1xuICAgIHNldFByZXZpZXdDb250ZW50KHJlcGxhY2VkKTtcbiAgfSwgW2NvbnRlbnQsIGFzc2V0c10pO1xuXG4gIHVzZVN0eWxlcyhzKTtcbiAgdXNlU3R5bGVzKG1kX3MpO1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtzLnJvb3R9PlxuICAgICAgPGRpdiBrZXk9e2BtZC0ke2hlaWdodH1gfSBjbGFzc05hbWU9e3MuY29udGFpbmVyfSByZWY9e2NvbnRhaW5lclJlZn0+XG4gICAgICAgIHtjb250ZW50ID09PSBudWxsID8gbnVsbCA6IG1vZGUgPT09ICdlZGl0JyA/IChcbiAgICAgICAgICA8TURFZGl0b3JcbiAgICAgICAgICAgIHZhbHVlPXtjb250ZW50fVxuICAgICAgICAgICAgb25DaGFuZ2U9e3NldENvbnRlbnR9XG4gICAgICAgICAgICB2aXNpYWJsZURyYWdiYXI9e2ZhbHNlfVxuICAgICAgICAgICAgaGVpZ2h0PXtoZWlnaHR9XG4gICAgICAgICAgICBjb21tYW5kcz17W1xuICAgICAgICAgICAgICAuLi5jb21tYW5kcy5nZXRDb21tYW5kcygpLnNsaWNlKDAsIC0xKSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdhY3RpdmF0ZVByZXZpZXcnLFxuICAgICAgICAgICAgICAgIGtleUNvbW1hbmQ6ICdhY3RpdmF0ZVByZXZpZXcnLFxuICAgICAgICAgICAgICAgIGJ1dHRvblByb3BzOiB7ICdhcmlhLWxhYmVsJzogJ0FjdGl2YXRlIFByZXZpZXcnIH0sXG4gICAgICAgICAgICAgICAgaWNvbjogY29tbWFuZHMuZnVsbHNjcmVlbi5pY29uLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGU6IChfc3RhdGUsIF9hcGkpID0+IHtcbiAgICAgICAgICAgICAgICAgIG9uVXBkYXRlKHsgbW9kZTogJ3ByZXZpZXcnIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdfVxuICAgICAgICAgIC8+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3MucHJldmlld0NvbnRhaW5lcn0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17cy5wcmV2aWV3Vmlld3BvcnR9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17cy5wcmV2aWV3fT5cbiAgICAgICAgICAgICAgICA8TURFZGl0b3IuTWFya2Rvd24gc291cmNlPXtwcmV2aWV3Q29udGVudH0gLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzLnByZXZpZXdUb29sYmFyfT5cbiAgICAgICAgICAgICAgICA8VG9vbHRpcCB0aXRsZT1cIkVkaXRcIj5cbiAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIHNpemU9XCJzbWFsbFwiIG9uQ2xpY2s9eygpID0+IG9uVXBkYXRlKHsgbW9kZTogJ2VkaXQnIH0pfT5cbiAgICAgICAgICAgICAgICAgICAgPE1hcmtkb3duRmlsZUljb24gLz5cbiAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbk1hcmtkb3duLmRlZmF1bHRQcm9wcyA9IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L2RlZmF1bHQtcHJvcHMtbWF0Y2gtcHJvcC10eXBlc1xuICBtb2RlOiAnZGVmYXVsdCcsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBNYXJrZG93bjtcbiIsIlxuICAgIHZhciByZWZzID0gMDtcbiAgICB2YXIgY3NzID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0yIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0zIS4vTWFya2Rvd24uc2Nzc1wiKTtcbiAgICB2YXIgaW5zZXJ0Q3NzID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvaXNvbW9ycGhpYy1zdHlsZS1sb2FkZXIvaW5zZXJ0Q3NzLmpzXCIpO1xuICAgIHZhciBjb250ZW50ID0gdHlwZW9mIGNzcyA9PT0gJ3N0cmluZycgPyBbW21vZHVsZS5pZCwgY3NzLCAnJ11dIDogY3NzO1xuXG4gICAgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gY3NzLmxvY2FscyB8fCB7fTtcbiAgICBleHBvcnRzLl9nZXRDb250ZW50ID0gZnVuY3Rpb24oKSB7IHJldHVybiBjb250ZW50OyB9O1xuICAgIGV4cG9ydHMuX2dldENzcyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gJycgKyBjc3M7IH07XG4gICAgZXhwb3J0cy5faW5zZXJ0Q3NzID0gZnVuY3Rpb24ob3B0aW9ucykgeyByZXR1cm4gaW5zZXJ0Q3NzKGNvbnRlbnQsIG9wdGlvbnMpIH07XG5cbiAgICAvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG4gICAgLy8gaHR0cHM6Ly93ZWJwYWNrLmdpdGh1Yi5pby9kb2NzL2hvdC1tb2R1bGUtcmVwbGFjZW1lbnRcbiAgICAvLyBPbmx5IGFjdGl2YXRlZCBpbiBicm93c2VyIGNvbnRleHRcbiAgICBpZiAobW9kdWxlLmhvdCAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQpIHtcbiAgICAgIHZhciByZW1vdmVDc3MgPSBmdW5jdGlvbigpIHt9O1xuICAgICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTctcnVsZXMtMiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTctcnVsZXMtMyEuL01hcmtkb3duLnNjc3NcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNzcyA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTctcnVsZXMtMiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTctcnVsZXMtMyEuL01hcmtkb3duLnNjc3NcIik7XG4gICAgICAgIGNvbnRlbnQgPSB0eXBlb2YgY3NzID09PSAnc3RyaW5nJyA/IFtbbW9kdWxlLmlkLCBjc3MsICcnXV0gOiBjc3M7XG4gICAgICAgIHJlbW92ZUNzcyA9IGluc2VydENzcyhjb250ZW50LCB7IHJlcGxhY2U6IHRydWUgfSk7XG4gICAgICB9KTtcbiAgICAgIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgcmVtb3ZlQ3NzKCk7IH0pO1xuICAgIH1cbiAgIiwiaW1wb3J0IHtcbiAgICBFbmdpbmUsXG4gICAgU2NlbmUsXG4gICAgQ29sb3IzLFxuICAgIFZlY3RvcjMsXG4gICAgQXJjUm90YXRlQ2FtZXJhLFxuICAgIEhlbWlzcGhlcmljTGlnaHQsXG4gICAgVG9vbHMsXG4gICAgRGV2aWNlVHlwZSxcbiAgICBYYm94SW5wdXQsXG4gICAgRHVhbFNob2NrSW5wdXQsIFF1YXRlcm5pb25cbiAgICAsIEFzc2V0c01hbmFnZXIsIE1lc2hCdWlsZGVyLCBTdGFuZGFyZE1hdGVyaWFsLCBUcmFuc2Zvcm1Ob2RlLCBNYXRyaXgsXG59IGZyb20gXCJAYmFieWxvbmpzL2NvcmVcIjtcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgY3JlYXRlQXhlcyBmcm9tIFwid2Vicm9iL3NyYy9BeGVzSGVscGVyXCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBcIi4vVVJERkpTT05Mb2FkZXJcIlxuaW1wb3J0IElucHV0Q29udHJvbGxlciBmcm9tIFwid2Vicm9iL3NyYy8vSW5wdXRDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBldWxlclRvUXVhdGVybmlvbiB9IGZyb20gJ2V1bGVydXRpbCc7XG5cbmltcG9ydCB7IGV4ZWN1dGVNdWx0aVJvYm90UHJvZ3JhbSwgbG9hZFJvYm90cyB9IGZyb20gXCJ3ZWJyb2Ivc3JjL3JvYm90L011bHRpUm9ib3RIYW5kbGVyXCI7XG5pbXBvcnQgeyBURVNUX0NNRFMgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vdG1wL3dlYlJvYi9zcmMvdGVzdC9kYXRhLmpzXCI7XG5pbXBvcnQgeyBTY2VuZUxvYWRlciB9IGZyb20gXCJAYmFieWxvbmpzL2NvcmUvTG9hZGluZy9zY2VuZUxvYWRlclwiO1xuXG5jb25zdCBpbnB1dHNEZWYgPSB7XG4gICAgeEF4aXM6IFtcbiAgICAgICAgW0RldmljZVR5cGUuS2V5Ym9hcmQsIFstJ1MnLmNoYXJDb2RlQXQoMCksICdXJy5jaGFyQ29kZUF0KDApXV0sXG4gICAgICAgIFtEZXZpY2VUeXBlLkR1YWxTaG9jaywgW0R1YWxTaG9ja0lucHV0LkxTdGlja1hBeGlzXV0sXG4gICAgICAgIFtEZXZpY2VUeXBlLlhib3gsIFtYYm94SW5wdXQuTFN0aWNrWEF4aXNdXSxcbiAgICAgICAgW0RldmljZVR5cGUuR2VuZXJpYywgW1hib3hJbnB1dC5MU3RpY2tYQXhpc11dLFxuICAgIF0sXG4gICAgeUF4aXM6IFtcbiAgICAgICAgW0RldmljZVR5cGUuS2V5Ym9hcmQsIFstJ0EnLmNoYXJDb2RlQXQoMCksICdEJy5jaGFyQ29kZUF0KDApXV0sXG4gICAgICAgIFtEZXZpY2VUeXBlLkR1YWxTaG9jaywgWy1EdWFsU2hvY2tJbnB1dC5MU3RpY2tZQXhpc11dLFxuICAgICAgICBbRGV2aWNlVHlwZS5YYm94LCBbLVhib3hJbnB1dC5MU3RpY2tZQXhpc11dLFxuICAgICAgICBbRGV2aWNlVHlwZS5HZW5lcmljLCBbLVhib3hJbnB1dC5MU3RpY2tZQXhpc11dLFxuICAgIF0sXG4gICAgekF4aXM6IFtcbiAgICAgICAgW0RldmljZVR5cGUuS2V5Ym9hcmQsIFstJ1EnLmNoYXJDb2RlQXQoMCksICdFJy5jaGFyQ29kZUF0KDApXV0sXG4gICAgICAgIFtEZXZpY2VUeXBlLkR1YWxTaG9jaywgWy1EdWFsU2hvY2tJbnB1dC5SU3RpY2tZQXhpc11dLFxuICAgICAgICBbRGV2aWNlVHlwZS5YYm94LCBbLVhib3hJbnB1dC5SU3RpY2tZQXhpc11dLFxuICAgICAgICBbRGV2aWNlVHlwZS5HZW5lcmljLCBbLVhib3hJbnB1dC5SU3RpY2tZQXhpc11dLFxuICAgIF0sXG4gICAgbW9kZTogW1xuICAgICAgICBbRGV2aWNlVHlwZS5LZXlib2FyZCwgWycgJy5jaGFyQ29kZUF0KDApXV0sXG4gICAgICAgIFtEZXZpY2VUeXBlLkR1YWxTaG9jaywgW0R1YWxTaG9ja0lucHV0LlIxLCBEdWFsU2hvY2tJbnB1dC5MMV1dLFxuICAgICAgICBbRGV2aWNlVHlwZS5YYm94LCBbWGJveElucHV0LlJCLCBYYm94SW5wdXQuTEJdXSxcbiAgICAgICAgW0RldmljZVR5cGUuR2VuZXJpYywgW1hib3hJbnB1dC5SQiwgWGJveElucHV0LkxCXV0sXG4gICAgXSxcbiAgICBmYXN0OiBbXG4gICAgICAgIFtEZXZpY2VUeXBlLktleWJvYXJkLCBbJ08nLmNoYXJDb2RlQXQoMCldXSxcbiAgICAgICAgW0RldmljZVR5cGUuRHVhbFNob2NrLCBbRHVhbFNob2NrSW5wdXQuUjJdXSxcbiAgICAgICAgW0RldmljZVR5cGUuWGJveCwgW1hib3hJbnB1dC5SVF1dLFxuICAgICAgICBbRGV2aWNlVHlwZS5HZW5lcmljLCBbWGJveElucHV0LlJUXV0sXG4gICAgXSxcbiAgICBzbG93OiBbXG4gICAgICAgIFtEZXZpY2VUeXBlLktleWJvYXJkLCBbJ0wnLmNoYXJDb2RlQXQoMCldXSxcbiAgICAgICAgW0RldmljZVR5cGUuRHVhbFNob2NrLCBbRHVhbFNob2NrSW5wdXQuTDJdXSxcbiAgICAgICAgW0RldmljZVR5cGUuWGJveCwgW1hib3hJbnB1dC5MVF1dLFxuICAgICAgICBbRGV2aWNlVHlwZS5HZW5lcmljLCBbWGJveElucHV0LkxUXV0sXG4gICAgXSxcbiAgICB0b29sMTogW1xuICAgICAgICBbRGV2aWNlVHlwZS5LZXlib2FyZCwgWycxJy5jaGFyQ29kZUF0KDApXV0sXG4gICAgICAgIFtEZXZpY2VUeXBlLkR1YWxTaG9jaywgW0R1YWxTaG9ja0lucHV0LkNyb3NzXV0sXG4gICAgICAgIFtEZXZpY2VUeXBlLlhib3gsIFtYYm94SW5wdXQuQV1dLFxuICAgICAgICBbRGV2aWNlVHlwZS5HZW5lcmljLCBbWGJveElucHV0LkFdXSxcbiAgICBdLFxuICAgIHRvb2wyOiBbXG4gICAgICAgIFtEZXZpY2VUeXBlLktleWJvYXJkLCBbJzInLmNoYXJDb2RlQXQoMCldXSxcbiAgICAgICAgW0RldmljZVR5cGUuRHVhbFNob2NrLCBbRHVhbFNob2NrSW5wdXQuQ2lyY2xlXV0sXG4gICAgICAgIFtEZXZpY2VUeXBlLlhib3gsIFtYYm94SW5wdXQuQl1dLFxuICAgICAgICBbRGV2aWNlVHlwZS5HZW5lcmljLCBbWGJveElucHV0LkJdXSxcbiAgICBdLFxufTtcbnZhciBpbnB1dENvbnRyb2xsZXI7XG52YXIgc2NlbmU7XG52YXIgcmVuZGVyaW5nID0gZmFsc2U7XG52YXIgZW5naW5lO1xudmFyIGFzc2V0c01hbmFnZXI7XG52YXIgYXNzZXRzTWFuYWdlciA9IG5ldyBBc3NldHNNYW5hZ2VyKHNjZW5lKVxuXG5jb25zdCByb2JvdERhdGEgPSBbXG5cblxuXG5cbiAgICB7XG4gICAgICAgIHBhdGg6IFwicm9ib3QvZmVzdG9fZGVzY3JpcHRpb24vdXJkZi9leGNtNDAudXJkZmpzb25cIixcbiAgICAgICAgcG9zOiBuZXcgVmVjdG9yMygwLCAwLCAwKSxcbiAgICAgICAgcm90OiBldWxlclRvUXVhdGVybmlvbihuZXcgVmVjdG9yMygwLCAwLCAwKSksXG4gICAgICAgIGNoYWluczogW3tcbiAgICAgICAgICAgIGJhc2U6ICdiYXNlX2xpbmsnLFxuICAgICAgICAgICAgZmxhbmdlOiAnYXhpczMnLFxuICAgICAgICAgICAgaWs6ICdjYXJ0ZXNpYW5paycsXG4gICAgICAgICAgICB0b29sczogW3tcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjMoMCwgMCwgLTAuMDUpLFxuICAgICAgICAgICAgICAgIHJvdGF0aW9uUXVhdGVybmlvbjogZXVsZXJUb1F1YXRlcm5pb24obmV3IFZlY3RvcjMoMCwgMCwgMCkpLFxuICAgICAgICAgICAgICAgIHR5cGU6ICd2YWN1dW1HcmlwcGVyJyxcbiAgICAgICAgICAgICAgICB2aXN1YWw6IHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyOiB7IGRpYW1ldGVyOiAwLjAxLCBoZWlnaHQ6IDAuMDUgfSxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKDAsIDAsIC0wLjAyNSksXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uUXVhdGVybmlvbjogZXVsZXJUb1F1YXRlcm5pb24obmV3IFZlY3RvcjMoTWF0aC5QSSAvIDIsIDAsIDApKSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XVxuICAgICAgICB9XVxuXG4gICAgfSxcblxuICAgIC8ve3BhdGg6IFwicm9ib3QvcHIyX2Rlc2NyaXB0aW9uL3JvYm90cy9cIiwgZmlsZTogJ3ByMi51cmRmanNvbicsIHBvczogbmV3IFZlY3RvcjMoMCwwLDApfSxcblxuXG5dXG5cbmV4cG9ydCBkZWZhdWx0IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHJlYWN0Q2FudmFzID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHsgYW50aWFsaWFzLCBlbmdpbmVPcHRpb25zLCBhZGFwdFRvRGV2aWNlUmF0aW8sIHNjZW5lT3B0aW9ucywgb25SZW5kZXIsIG9uU2NlbmVSZWFkeSwgLi4ucmVzdCB9ID0gcHJvcHM7XG4gICAgXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHJlYWN0Q2FudmFzLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGVuZ2luZSA9IG5ldyBFbmdpbmUocmVhY3RDYW52YXMuY3VycmVudCwgYW50aWFsaWFzLCBlbmdpbmVPcHRpb25zLCBhZGFwdFRvRGV2aWNlUmF0aW8pO1xuICAgICAgICAgICAgc2NlbmUgPSBuZXcgU2NlbmUoZW5naW5lLCBzY2VuZU9wdGlvbnMpO1xuICAgICAgICAgICAgYXNzZXRzTWFuYWdlciA9IG5ldyBBc3NldHNNYW5hZ2VyKHNjZW5lKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaW5wdXRDb250cm9sbGVyID0gbmV3IElucHV0Q29udHJvbGxlcihzY2VuZSlcbiAgICAgICAgICAgIGlucHV0Q29udHJvbGxlci5zZXRJbnB1dERlZmluaXRpb24oaW5wdXRzRGVmKVxuICAgICAgICAgICAgaW5wdXRDb250cm9sbGVyLmN1cnJlbnRJbnB1dHNQcm9jZXNzZWQuYWRkKCgpID0+IGlucHV0c1Byb2Nlc3NlZCgpKVxuICAgICAgICAgICAgY29uc3QgY2FtZXJhUmFkaXVzID0gMlxuICAgICAgICAgICAgY29uc3QgYWxwaGEgPSBUb29scy5Ub1JhZGlhbnMoLTQ1KVxuICAgICAgICAgICAgY29uc3QgYmV0YSA9IFRvb2xzLlRvUmFkaWFucyg0NSlcbiAgICAgICAgICAgIGNvbnN0IGNhbWVyYSA9IG5ldyBBcmNSb3RhdGVDYW1lcmEoXCJjYW1lcmFcIiwgYWxwaGEsIGJldGEsIGNhbWVyYVJhZGl1cywgbmV3IFZlY3RvcjMoMCwgMCwgMC4yKS8qcm9ib3Qud29ya1JhbmdlQ2VudGVyKi8sIHNjZW5lKTtcbiAgICAgICAgICAgIGNhbWVyYS5hdHRhY2hDb250cm9sKHJlYWN0Q2FudmFzLmN1cnJlbnQsIHRydWUpO1xuICAgICAgICAgICAgY2FtZXJhLndoZWVsUHJlY2lzaW9uID0gMjBcbiAgICAgICAgICAgIGNhbWVyYS51cFZlY3RvciA9IG5ldyBWZWN0b3IzKDAsIDAsIDEpXG4gICAgICAgICAgICBzY2VuZS51c2VSaWdodEhhbmRlZFN5c3RlbSA9IHRydWVcbiAgICAgICAgICAgIGNhbWVyYS5taW5aID0gMC4wM1xuXG4gICAgICAgICAgICBjb25zdCBsaWdodCA9IG5ldyBIZW1pc3BoZXJpY0xpZ2h0KFwibGlnaHQxXCIsIG5ldyBWZWN0b3IzKDAsIDAsIDEpLCBzY2VuZSk7XG4gICAgICAgICAgICBsaWdodC5pbnRlbnNpdHkgPSAwLjc7XG5cbiAgICAgICAgICAgIGNvbnN0IGF4ZXMgPSBjcmVhdGVBeGVzKHNjZW5lLCAwLjUsIDEuMCwgdHJ1ZSk7XG4gICAgICAgICAgIFxuXG4gICAgICAgICAgICBpZiAoc2NlbmUuaXNSZWFkeSgpKSB7XG4gICAgICAgICAgICAgICAgcHJvcHMub25TY2VuZVJlYWR5KHNjZW5lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2NlbmUub25SZWFkeU9ic2VydmFibGUuYWRkT25jZSgoc2NlbmUpID0+IHByb3BzLm9uU2NlbmVSZWFkeShzY2VuZSkpO1xuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVuZ2luZS5ydW5SZW5kZXJMb29wKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9uUmVuZGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgb25SZW5kZXIoc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICBjYW1lcmEuaW5wdXRzLmNoZWNrSW5wdXRzKClcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRDb250cm9sbGVyLnByb2Nlc3NJbnB1dHMoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbWVyYS5pbmVydGlhbEFscGhhT2Zmc2V0ID09PSAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW1lcmEuaW5lcnRpYWxCZXRhT2Zmc2V0ID09PSAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW1lcmEuaW5lcnRpYWxSYWRpdXNPZmZzZXQgPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbWVyYS5pbmVydGlhbFBhbm5pbmdYID09PSAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW1lcmEuaW5lcnRpYWxQYW5uaW5nWSA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgc2NlbmUuX2FjdGl2ZUFuaW1hdGFibGVzLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRDb250cm9sbGVyLmFjdGl2YXRlZElucHV0cy5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0Q29udHJvbGxlci5jaGFuZ2VkSW5wdXRzLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW5kZXJpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBhdXNlZCBSZW5kZXJsb29wXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NlbmUucmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVuZGVyaW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFsbHJvYm90cyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTdGFydGVkIFJlbmRlcmxvb3BcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGF3YWl0IHIuV2FpdCgyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Iuc3BlZWQgPSAwLjJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9yLnNldFRDUFRvKCBuZXcgVmVjdG9yMygwLjMsIDAuMywgMC4zKSwgZXVsZXJUb1F1YXRlcm5pb24obmV3IFZlY3RvcjMoMCwgTWF0aC5QSSAvIDIsIC1NYXRoLlBJICsgMC4xKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qYXdhaXQgci5Nb3ZlVG8oe1N0cmFpZ2h0OiBmYWxzZSwgUG9zZTogeydBJzogMCwgJ0InOiBNYXRoLlBJIC8gMiwgJ0MnOi1NYXRoLlBJICsgMC4xLCAnWCc6MzAwLCAnWSc6NDAwLCAnWic6IDMwMH19KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByLmxpbihNYXRyaXguQ29tcG9zZShWZWN0b3IzLk9uZSgpLCBldWxlclRvUXVhdGVybmlvbihuZXcgVmVjdG9yMygwLCBNYXRoLlBJIC8gMiwgLU1hdGguUEkgKyAwLjEpKSwgbmV3IFZlY3RvcjMoMC4zLCAwLjUsIDAuMykpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByLlNldEVuZEVmZmVjdG9yUGFyYW1ldGVycyh7c2V0dGluZzogMS4wfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgci5wdHAoTWF0cml4LkNvbXBvc2UoVmVjdG9yMy5PbmUoKSwgZXVsZXJUb1F1YXRlcm5pb24obmV3IFZlY3RvcjMoMCwgTWF0aC5QSSAvIDIsIC1NYXRoLlBJICsgMC4xKSksIG5ldyBWZWN0b3IzKDAuMywgMC4zLCAwLjMpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgci5TZXRFbmRFZmZlY3RvclBhcmFtZXRlcnMoe3NldHRpbmc6IDAuMH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHIucHRwKE1hdHJpeC5Db21wb3NlKFZlY3RvcjMuT25lKCksIGV1bGVyVG9RdWF0ZXJuaW9uKG5ldyBWZWN0b3IzKDAsIE1hdGguUEkgLyAyLCAtTWF0aC5QSSArIDAuMSkpLCBuZXcgVmVjdG9yMygwLjMsIDAuNCwgMC4zKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYXdhaXQgZXhlY3V0ZU11bHRpUm9ib3RQcm9ncmFtKGFsbHJvYm90cywgVEVTVF9DTURTKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNjZW5lLnJlbmRlcigpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc2l6ZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBzY2VuZS5nZXRFbmdpbmUoKS5yZXNpemUoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICh3aW5kb3cpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCByZXNpemUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNjZW5lLmdldEVuZ2luZSgpLmRpc3Bvc2UoKTtcblxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgcmVzaXplKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSwgW3JlYWN0Q2FudmFzXSk7XG5cbiAgICByZXR1cm4gPGNhbnZhcyByZWY9e3JlYWN0Q2FudmFzfSB7Li4ucmVzdH0gLz47XG59O1xuXG5mdW5jdGlvbiBpbnB1dHNQcm9jZXNzZWQoZm9yY2V1cGRhdGUgPSBmYWxzZSkge1xuICAgIGNvbnN0IGlucHV0cyA9IGlucHV0Q29udHJvbGxlci5pbnB1dHNcbiAgICBjb25zdCBmYXN0c2NhbGUgPSAxICsgKGlucHV0cy5mYXN0ICogMikgLy8gaW5wdXRzLmZhc3Q6IFswLCAxXSAtPiBbMSwgMl1cbiAgICBjb25zdCBzbG93c2NhbGUgPSAoMSAtIChNYXRoLm1pbihpbnB1dHMuc2xvdywgMC45NykpKSAvLyBpbnB1dHMuc2xvdzogWzAsIDFdIC0+IFswLCAxXVxuXG4gICAgY29uc3Qgc2NhbGUgPSBzY2VuZS5nZXRBbmltYXRpb25SYXRpbygpICogMC4wMSAqIGZhc3RzY2FsZSAqIHNsb3dzY2FsZVxuICAgIGxldCBzaGlmdCA9IFZlY3RvcjMuWmVybygpXG4gICAgaWYgKGlucHV0cy5tb2RlID4gMC41KSB7XG4gICAgICAgIHNoaWZ0ID0gbmV3IFZlY3RvcjMoLWlucHV0cy55QXhpcywgaW5wdXRzLnhBeGlzLCBpbnB1dHMuekF4aXMpLnNjYWxlKHNjYWxlKVxuICAgICAgICBjb25zdCBzaGlmdFF1YXRlcm5pb24gPSBRdWF0ZXJuaW9uLkZyb21FdWxlclZlY3RvcihzaGlmdClcbiAgICAgICAgdGNwLnJvdGF0aW9uUXVhdGVybmlvbiA9IHRjcC5yb3RhdGlvblF1YXRlcm5pb24ubXVsdGlwbHkoc2hpZnRRdWF0ZXJuaW9uKVxuICAgICAgICBhbGxyb2JvdHMuZm9yRWFjaChyID0+IHIuc2V0VENQVG8odGNwLnBvc2l0aW9uLCB0Y3Aucm90YXRpb25RdWF0ZXJuaW9uKSlcbiAgICAgICAgcmVuZGVyaW5nID0gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHNoaWZ0ID0gbmV3IFZlY3RvcjMoLWlucHV0cy54QXhpcywgaW5wdXRzLnlBeGlzLCBpbnB1dHMuekF4aXMpLnNjYWxlKHNjYWxlICogMC4zKSAvLyBUT0RPIHJvdGF0ZSB2aWV3ZXIgcG9zXG4gICAgICAgIGlmIChzaGlmdC5sZW5ndGgoKSA+IDAgfHwgZm9yY2V1cGRhdGUpIHtcbiAgICAgICAgICAgIHRjcC5wb3NpdGlvbiA9IHRjcC5wb3NpdGlvbi5hZGQoc2hpZnQpXG4gICAgICAgICAgICBhbGxyb2JvdHMuZm9yRWFjaChyID0+IHIuc2V0VENQVG8odGNwLnBvc2l0aW9uLCB0Y3Aucm90YXRpb25RdWF0ZXJuaW9uKSlcbiAgICAgICAgICAgIHJlbmRlcmluZyA9IHRydWVcbiAgICAgICAgfVxuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAoaW5wdXRDb250cm9sbGVyLmNoYW5nZWRJbnB1dHMudG9vbDEgJiYgaW5wdXRzLnRvb2wxID49IDAuNSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0dyaXBwaW5nJylcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICBpZiAoY29uZU1hdGVyaWFsLmRpZmZ1c2VDb2xvci5lcXVhbHMoQ29sb3IzLkdyYXkoKSkpe1xuICAgICAgICAgICAgICAgIGNvbmVNYXRlcmlhbC5kaWZmdXNlQ29sb3IgPSBDb2xvcjMuQmxhY2soKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHcmlwcGluZycpXG4gICAgICAgICAgICAgICAgLy9yb2JvdEludGVyZmFjZS5zZW5kKENvbW1hbmRGYWN0b3J5LlNldEVuZEVmZmVjdG9yKCdHcmlwcGluZycsIDEuMCkpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbmVNYXRlcmlhbC5kaWZmdXNlQ29sb3IgPSBDb2xvcjMuR3JheSgpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1JlbGVhc2luZycpXG4gICAgICAgICAgICAgICAgLy9yb2JvdEludGVyZmFjZS5zZW5kKENvbW1hbmRGYWN0b3J5LlNldEVuZEVmZmVjdG9yKCdSZWxlYXNpbmcnLCAwLjApKVxuICAgICAgICAgICAgfSAqL1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhlLm1lc3NhZ2UpXG4gICAgfVxufVxuXG5cbiIsIi8vIEBmbG93XG5pbXBvcnQgeyBTY2VuZUxvYWRlciB9IGZyb20gXCJAYmFieWxvbmpzL2NvcmUvTG9hZGluZy9zY2VuZUxvYWRlclwiO1xuaW1wb3J0ICcuL1VSREZKU09OTG9hZGVyJ1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNyZWF0ZUF4ZXMgZnJvbSBcIndlYnJvYi9zcmMvQXhlc0hlbHBlci5qc1wiO1xuaW1wb3J0IHVzZVN0eWxlcyBmcm9tICdpc29tb3JwaGljLXN0eWxlLWxvYWRlci91c2VTdHlsZXMnO1xuaW1wb3J0IHtcbiAgRW5naW5lLFxuICBTY2VuZSxcbiAgQ29sb3IzLFxuICBWZWN0b3IzLFxuICBBcmNSb3RhdGVDYW1lcmEsXG4gIEhlbWlzcGhlcmljTGlnaHQsXG4gIEZyZWVDYW1lcmEsXG4gIFRvb2xzLFxuICBEZXZpY2VUeXBlLFxuICBYYm94SW5wdXQsXG4gIER1YWxTaG9ja0lucHV0LCBRdWF0ZXJuaW9uXG4gICwgQXNzZXRzTWFuYWdlciwgTWVzaEJ1aWxkZXIsIFN0YW5kYXJkTWF0ZXJpYWwsIFRyYW5zZm9ybU5vZGUsIE1hdHJpeCxcbn0gZnJvbSBcIkBiYWJ5bG9uanMvY29yZVwiO1xuXG5cbmltcG9ydCB7XG4gIFRlcm1pbmF0ZUljb24sXG4gIFJlc2V0SWNvbixcbiAgVGVybWluYXRlQW5kUmVzZXRJY29uLFxuICBab29tSW5JY29uLFxuICBab29tT3V0SWNvbixcbiAgWm9vbUZpdEljb24sXG4gIFpvb21SZXNldEljb24sXG4gIFJvdGF0ZU9yYml0SWNvbixcbiAgUmVzaXplSWNvbixcbiAgUm9ib3RJbmR1c3RyaWFsSWNvbixcbiAgQXJyb3dBbGxJY29uLFxuXG59IGZyb20gJy4uLy4uL21pc2MvcGFsZXR0ZSc7XG5pbXBvcnQgKiBhcyBob29rcyBmcm9tICcuLi8uLi9taXNjL2hvb2tzJztcbmltcG9ydCB7IGV1bGVyVG9RdWF0ZXJuaW9uIH0gZnJvbSAnZXVsZXJ1dGlsL3NyYy9FdWxlclV0aWwuanMnO1xuaW1wb3J0IFJvYm90IGZyb20gJ3dlYnJvYi9zcmMvcm9ib3QvUm9ib3QuanMnXG5cbmltcG9ydCB7IHR5cGUgRXhlY3V0aW9uQWN0aW9uIH0gZnJvbSAnLi4vSWRlJztcbmltcG9ydCBUb29sQmFyIGZyb20gJy4uL1Rvb2xCYXInO1xuaW1wb3J0IFRvb2xCYXJJY29uQnV0dG9uIGZyb20gJy4uL1Rvb2xCYXIvVG9vbEJhckljb25CdXR0b24nO1xuaW1wb3J0IFRvb2xCYXJJdGVtIGZyb20gJy4uL1Rvb2xCYXIvVG9vbEJhckl0ZW0nO1xuXG5pbXBvcnQgcyBmcm9tICcuL1NpbXVsYXRvci5zY3NzJztcblxuaW1wb3J0IHsgU2ltdWxhdGlvbiB9IGZyb20gJy4vc2ltdWxhdGlvbic7XG5cbmltcG9ydCB7IGdlbmVyYXRlQ29uZmlnRnJvbVhtbCB9IGZyb20gJy4uL1NpbXVsYXRvckVkaXRvcic7XG4vLyAkRmxvd0V4cGVjdEVycm9yXG5pbXBvcnQgZGVmYXVsdFNpbXVsYXRpb25YbWwgZnJvbSAnLi9kZWZhdWx0X3NpbXVsYXRpb24ueG1sJztcbmltcG9ydCBJbnB1dENvbnRyb2xsZXIgZnJvbSBcIndlYnJvYi9zcmMvSW5wdXRDb250cm9sbGVyLmpzXCI7XG5jb25zdCBkZWZhdWx0U2ltdWxhdGlvbkNvbmZpZyA9IGdlbmVyYXRlQ29uZmlnRnJvbVhtbChkZWZhdWx0U2ltdWxhdGlvblhtbCk7XG52YXIgaW5wdXRDb250cm9sbGVyO1xuXG5jb25zdCBiZ0ludGVuc2l0eSA9IDAuOFxuXG5cbmV4cG9ydCB0eXBlIFNpbXVsYXRvclpvb21BY3Rpb24gPSAnWk9PTV9JTicgfCAnWk9PTV8xMDAnIHwgJ1pPT01fT1VUJyB8ICdaT09NX0ZJVCc7XG5cbmV4cG9ydCB0eXBlIENvbnRyb2xsZWRTdGF0ZSA9IHt8XG4gIHpvb206IG51bWJlcixcbiAgICB6b29tTW9kZTogJ01BTlVBTCcgfCAnRklUJyxcbnx9O1xuXG50eXBlIFByb3BzID0ge3xcbiAgcnVubmluZzogYm9vbGVhbixcbiAgLi4uQ29udHJvbGxlZFN0YXRlLFxuICBvblVwZGF0ZTogKHN0YXRlOiBDb250cm9sbGVkU3RhdGUpID0+IHZvaWQgfCBQcm9taXNlIDwgdm9pZD4sXG4gICAgb25FeGVjdXRpb25BY3Rpb246IChhY3Rpb246IEV4ZWN1dGlvbkFjdGlvbikgPT4gdm9pZCB8IFByb21pc2UgPCB2b2lkPixcbnx9O1xudHlwZSBJbnN0YW5jZSA9IHt8XG4gIHNpbXVsYXRpb246IFNpbXVsYXRpb24sXG58fTtcblxuaW1wb3J0IFwiQGJhYnlsb25qcy9jb3JlL0RlYnVnL2RlYnVnTGF5ZXJcIjsgLy8gQXVnbWVudHMgdGhlIHNjZW5lIHdpdGggdGhlIGRlYnVnIG1ldGhvZHNcbmltcG9ydCBcIkBiYWJ5bG9uanMvaW5zcGVjdG9yXCI7XG5pbXBvcnQgeyBURVNUX0NNRFMgfSBmcm9tIFwid2Vicm9iL3NyYy90ZXN0L2RhdGFcIjsgLy8gSW5qZWN0cyBhIGxvY2FsIEVTNiB2ZXJzaW9uIG9mIHRoZSBpbnNwZWN0b3IgdG8gcHJldmVudCBhdXRvbWF0aWNhbGx5IHJlbHlpbmcgb24gdGhlIG5vbmUgY29tcGF0aWJsZSB2ZXJzaW9uXG5cbmNvbnN0IGlucHV0c0RlZiA9IHtcbiAgeEF4aXM6IFtcbiAgICBbRGV2aWNlVHlwZS5LZXlib2FyZCwgWy0nUycuY2hhckNvZGVBdCgwKSwgJ1cnLmNoYXJDb2RlQXQoMCldXSxcbiAgICBbRGV2aWNlVHlwZS5EdWFsU2hvY2ssIFtEdWFsU2hvY2tJbnB1dC5MU3RpY2tYQXhpc11dLFxuICAgIFtEZXZpY2VUeXBlLlhib3gsIFtYYm94SW5wdXQuTFN0aWNrWEF4aXNdXSxcbiAgICBbRGV2aWNlVHlwZS5HZW5lcmljLCBbWGJveElucHV0LkxTdGlja1hBeGlzXV0sXG4gIF0sXG4gIHlBeGlzOiBbXG4gICAgW0RldmljZVR5cGUuS2V5Ym9hcmQsIFstJ0EnLmNoYXJDb2RlQXQoMCksICdEJy5jaGFyQ29kZUF0KDApXV0sXG4gICAgW0RldmljZVR5cGUuRHVhbFNob2NrLCBbLUR1YWxTaG9ja0lucHV0LkxTdGlja1lBeGlzXV0sXG4gICAgW0RldmljZVR5cGUuWGJveCwgWy1YYm94SW5wdXQuTFN0aWNrWUF4aXNdXSxcbiAgICBbRGV2aWNlVHlwZS5HZW5lcmljLCBbLVhib3hJbnB1dC5MU3RpY2tZQXhpc11dLFxuICBdLFxuICB6QXhpczogW1xuICAgIFtEZXZpY2VUeXBlLktleWJvYXJkLCBbLSdRJy5jaGFyQ29kZUF0KDApLCAnRScuY2hhckNvZGVBdCgwKV1dLFxuICAgIFtEZXZpY2VUeXBlLkR1YWxTaG9jaywgWy1EdWFsU2hvY2tJbnB1dC5SU3RpY2tZQXhpc11dLFxuICAgIFtEZXZpY2VUeXBlLlhib3gsIFstWGJveElucHV0LlJTdGlja1lBeGlzXV0sXG4gICAgW0RldmljZVR5cGUuR2VuZXJpYywgWy1YYm94SW5wdXQuUlN0aWNrWUF4aXNdXSxcbiAgXSxcbiAgbW9kZTogW1xuICAgIFtEZXZpY2VUeXBlLktleWJvYXJkLCBbJyAnLmNoYXJDb2RlQXQoMCldXSxcbiAgICBbRGV2aWNlVHlwZS5EdWFsU2hvY2ssIFtEdWFsU2hvY2tJbnB1dC5SMSwgRHVhbFNob2NrSW5wdXQuTDFdXSxcbiAgICBbRGV2aWNlVHlwZS5YYm94LCBbWGJveElucHV0LlJCLCBYYm94SW5wdXQuTEJdXSxcbiAgICBbRGV2aWNlVHlwZS5HZW5lcmljLCBbWGJveElucHV0LlJCLCBYYm94SW5wdXQuTEJdXSxcbiAgXSxcbiAgZmFzdDogW1xuICAgIFtEZXZpY2VUeXBlLktleWJvYXJkLCBbJ08nLmNoYXJDb2RlQXQoMCldXSxcbiAgICBbRGV2aWNlVHlwZS5EdWFsU2hvY2ssIFtEdWFsU2hvY2tJbnB1dC5SMl1dLFxuICAgIFtEZXZpY2VUeXBlLlhib3gsIFtYYm94SW5wdXQuUlRdXSxcbiAgICBbRGV2aWNlVHlwZS5HZW5lcmljLCBbWGJveElucHV0LlJUXV0sXG4gIF0sXG4gIHNsb3c6IFtcbiAgICBbRGV2aWNlVHlwZS5LZXlib2FyZCwgWydMJy5jaGFyQ29kZUF0KDApXV0sXG4gICAgW0RldmljZVR5cGUuRHVhbFNob2NrLCBbRHVhbFNob2NrSW5wdXQuTDJdXSxcbiAgICBbRGV2aWNlVHlwZS5YYm94LCBbWGJveElucHV0LkxUXV0sXG4gICAgW0RldmljZVR5cGUuR2VuZXJpYywgW1hib3hJbnB1dC5MVF1dLFxuICBdLFxuICB0b29sMTogW1xuICAgIFtEZXZpY2VUeXBlLktleWJvYXJkLCBbJzEnLmNoYXJDb2RlQXQoMCldXSxcbiAgICBbRGV2aWNlVHlwZS5EdWFsU2hvY2ssIFtEdWFsU2hvY2tJbnB1dC5Dcm9zc11dLFxuICAgIFtEZXZpY2VUeXBlLlhib3gsIFtYYm94SW5wdXQuQV1dLFxuICAgIFtEZXZpY2VUeXBlLkdlbmVyaWMsIFtYYm94SW5wdXQuQV1dLFxuICBdLFxuICB0b29sMjogW1xuICAgIFtEZXZpY2VUeXBlLktleWJvYXJkLCBbJzInLmNoYXJDb2RlQXQoMCldXSxcbiAgICBbRGV2aWNlVHlwZS5EdWFsU2hvY2ssIFtEdWFsU2hvY2tJbnB1dC5DaXJjbGVdXSxcbiAgICBbRGV2aWNlVHlwZS5YYm94LCBbWGJveElucHV0LkJdXSxcbiAgICBbRGV2aWNlVHlwZS5HZW5lcmljLCBbWGJveElucHV0LkJdXSxcbiAgXSxcbn07XG52YXIgYXNzZXRzTWFuYWdlcjtcbi8qKlxuICogVGhlIHNpbXVsYXRvciBkaXNwbGF5cyBhIDJEIGVudmlyb25tZW50IGNvbnRhaW5pbmcgYSBzaW11bGF0ZWQgcm9ib3QuXG4gKlxuICogQmVzaWRlcyB0aGUgc2ltdWxhdGlvbiBpdHNlbGYsIHRoZSB0b29sYmFyIGFsbG93cyB0ZXJtaW5hdGluZyBwcm9ncmFtcyBhbmQgcmVzZXR0aW5nIHRoZSBzaW11bGF0aW9uLlxuICovXG5pbXBvcnQgRGVmYXVsdFBsYXlncm91bmQgZnJvbSBcIi4vRGVmYXVsdFBsYXlncm91bmRcIjtcbmltcG9ydCB7IGxvYWRSb2JvdHMgfSBmcm9tIFwid2Vicm9iL3NyYy9yb2JvdC9NdWx0aVJvYm90SGFuZGxlclwiO1xuZnVuY3Rpb24gaW5wdXRzUHJvY2Vzc2VkIChmb3JjZXVwZGF0ZT1mYWxzZSl7XG4gIGNvbnN0IGlucHV0cyA9IGlucHV0Q29udHJvbGxlci5pbnB1dHNcbiAgY29uc3QgZmFzdHNjYWxlID0gMSArIChpbnB1dHMuZmFzdCoyKSAvLyBpbnB1dHMuZmFzdDogWzAsIDFdIC0+IFsxLCAyXVxuICBjb25zdCBzbG93c2NhbGUgPSAoMSAtIChNYXRoLm1pbihpbnB1dHMuc2xvdywgMC45NykpKSAvLyBpbnB1dHMuc2xvdzogWzAsIDFdIC0+IFswLCAxXVxuXG4gIGNvbnN0IHNjYWxlID0gc2NlbmUuZ2V0QW5pbWF0aW9uUmF0aW8oKSAqIDAuMDEgKiBmYXN0c2NhbGUgKiBzbG93c2NhbGVcbiAgbGV0IHNoaWZ0ID0gVmVjdG9yMy5aZXJvKClcbiAgaWYgKGlucHV0cy5tb2RlID4gMC41KXtcbiAgICAgIHNoaWZ0ID0gbmV3IFZlY3RvcjMoLWlucHV0cy55QXhpcywgaW5wdXRzLnhBeGlzLCBpbnB1dHMuekF4aXMpLnNjYWxlKHNjYWxlKVxuICAgICAgY29uc3Qgc2hpZnRRdWF0ZXJuaW9uID0gUXVhdGVybmlvbi5Gcm9tRXVsZXJWZWN0b3Ioc2hpZnQpXG4gICAgICB0Y3Aucm90YXRpb25RdWF0ZXJuaW9uID0gdGNwLnJvdGF0aW9uUXVhdGVybmlvbi5tdWx0aXBseShzaGlmdFF1YXRlcm5pb24pXG4gICAgICBhbGxyb2JvdHMuZm9yRWFjaChyID0+IHIuc2V0VENQVG8odGNwLnBvc2l0aW9uLCB0Y3Aucm90YXRpb25RdWF0ZXJuaW9uKSlcbiAgICAgIHJlbmRlcmluZyA9IHRydWVcbiAgfSBlbHNlIHtcbiAgICAgIHNoaWZ0ID0gbmV3IFZlY3RvcjMoLWlucHV0cy54QXhpcywgaW5wdXRzLnlBeGlzLCBpbnB1dHMuekF4aXMpLnNjYWxlKHNjYWxlKjAuMykgLy8gVE9ETyByb3RhdGUgdmlld2VyIHBvc1xuICAgICAgaWYgKHNoaWZ0Lmxlbmd0aCgpID4gMCB8fCBmb3JjZXVwZGF0ZSl7XG4gICAgICAgICAgdGNwLnBvc2l0aW9uID0gdGNwLnBvc2l0aW9uLmFkZChzaGlmdClcbiAgICAgICAgICBhbGxyb2JvdHMuZm9yRWFjaChyID0+IHIuc2V0VENQVG8odGNwLnBvc2l0aW9uLCB0Y3Aucm90YXRpb25RdWF0ZXJuaW9uKSlcbiAgICAgICAgICByZW5kZXJpbmcgPSB0cnVlXG4gICAgICB9XG4gIH1cbiAgdHJ5e1xuICAgICAgaWYgKGlucHV0Q29udHJvbGxlci5jaGFuZ2VkSW5wdXRzLnRvb2wxICYmIGlucHV0cy50b29sMSA+PSAwLjUpe1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdHcmlwcGluZycpXG4gICAgICAgICAgLypcbiAgICAgICAgICBpZiAoY29uZU1hdGVyaWFsLmRpZmZ1c2VDb2xvci5lcXVhbHMoQ29sb3IzLkdyYXkoKSkpe1xuICAgICAgICAgICAgICBjb25lTWF0ZXJpYWwuZGlmZnVzZUNvbG9yID0gQ29sb3IzLkJsYWNrKClcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0dyaXBwaW5nJylcbiAgICAgICAgICAgICAgLy9yb2JvdEludGVyZmFjZS5zZW5kKENvbW1hbmRGYWN0b3J5LlNldEVuZEVmZmVjdG9yKCdHcmlwcGluZycsIDEuMCkpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uZU1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IENvbG9yMy5HcmF5KClcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1JlbGVhc2luZycpXG4gICAgICAgICAgICAgIC8vcm9ib3RJbnRlcmZhY2Uuc2VuZChDb21tYW5kRmFjdG9yeS5TZXRFbmRFZmZlY3RvcignUmVsZWFzaW5nJywgMC4wKSlcbiAgICAgICAgICB9ICovXG4gICAgICB9XG4gIH0gY2F0Y2ggKGUpe1xuICAgICAgY29uc29sZS5sb2coZS5tZXNzYWdlKVxuICB9XG59XG5jb25zdCByb2JvdERhdGEgPSBbXG5cblxuXG5cbiAge1xuICAgICAgcGF0aDogXCJyb2JvdC9mZXN0b19kZXNjcmlwdGlvbi91cmRmL2V4Y200MC51cmRmanNvblwiLFxuICAgICAgcG9zOiBuZXcgVmVjdG9yMygwLCAwLCAwKSxcbiAgICAgIHJvdDogZXVsZXJUb1F1YXRlcm5pb24obmV3IFZlY3RvcjMoMCwgMCwgMCkpLFxuICAgICAgY2hhaW5zOiBbe1xuICAgICAgICAgIGJhc2U6ICdiYXNlX2xpbmsnLFxuICAgICAgICAgIGZsYW5nZTogJ2F4aXMzJyxcbiAgICAgICAgICBpazogJ2NhcnRlc2lhbmlrJyxcbiAgICAgICAgICB0b29sczogW3tcbiAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKDAsIDAsIC0wLjA1KSxcbiAgICAgICAgICAgICAgcm90YXRpb25RdWF0ZXJuaW9uOiBldWxlclRvUXVhdGVybmlvbihuZXcgVmVjdG9yMygwLCAwLCAwKSksXG4gICAgICAgICAgICAgIHR5cGU6ICd2YWN1dW1HcmlwcGVyJyxcbiAgICAgICAgICAgICAgdmlzdWFsOiB7XG4gICAgICAgICAgICAgICAgICBwYXJhbWV0ZXI6IHsgZGlhbWV0ZXI6IDAuMDEsIGhlaWdodDogMC4wNSB9LFxuICAgICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKDAsIDAsIC0wLjAyNSksXG4gICAgICAgICAgICAgICAgICByb3RhdGlvblF1YXRlcm5pb246IGV1bGVyVG9RdWF0ZXJuaW9uKG5ldyBWZWN0b3IzKE1hdGguUEkgLyAyLCAwLCAwKSksXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XVxuICAgICAgfV1cblxuICB9LFxuXG4gIC8ve3BhdGg6IFwicm9ib3QvcHIyX2Rlc2NyaXB0aW9uL3JvYm90cy9cIiwgZmlsZTogJ3ByMi51cmRmanNvbicsIHBvczogbmV3IFZlY3RvcjMoMCwwLDApfSxcblxuXG5dXG5jb25zdCBTaW11bGF0b3IgPSBSZWFjdC5mb3J3YXJkUmVmIDwgUHJvcHMsIEluc3RhbmNlPiAoXG4gICh7IHJ1bm5pbmcsIHpvb20sIHpvb21Nb2RlLCBvblVwZGF0ZSwgb25FeGVjdXRpb25BY3Rpb24gfTogUHJvcHMsIHJlZjogUmVmPEluc3RhbmNlPikgPT4ge1xuICAgIGNvbnN0IHNpbXVsYXRpb24gPSBob29rcy51c2VWYWx1ZSgoKSA9PiB7XG4gICAgICBjb25zdCBzaW0gPSBuZXcgU2ltdWxhdGlvbigpO1xuICAgICAgLy9zaW0uanNvbkluaXQoZGVmYXVsdFNpbXVsYXRpb25Db25maWcpO1xuICAgICAgLy9yZXR1cm4gc2ltO1xuICAgIH0pO1xuICAgIDtcblxuICAgIGNvbnN0IG9uU2NlbmVSZWFkeSA9IChzY2VuZSkgPT4ge1xuICAgICAgLy8gVGhpcyBjcmVhdGVzIGFuZCBwb3NpdGlvbnMgYSBmcmVlIGNhbWVyYSAobm9uLW1lc2gpXG4gICAgICBcbiAgICAgIHZhciBjYW1lcmEgPSBuZXcgRnJlZUNhbWVyYShcImNhbWVyYTFcIiwgbmV3IFZlY3RvcjMoMCwgNSwgLTEwKSwgc2NlbmUpO1xuXG4gICAgICAvLyBUaGlzIHRhcmdldHMgdGhlIGNhbWVyYSB0byBzY2VuZSBvcmlnaW5cbiAgICAgIGNhbWVyYS5zZXRUYXJnZXQoVmVjdG9yMy5aZXJvKCkpO1xuXG4gICAgICBjb25zdCBjYW52YXMgPSBzY2VuZS5nZXRFbmdpbmUoKS5nZXRSZW5kZXJpbmdDYW52YXMoKTtcblxuICAgICAgLy8gVGhpcyBhdHRhY2hlcyB0aGUgY2FtZXJhIHRvIHRoZSBjYW52YXNcbiAgICAgIGNhbWVyYS5hdHRhY2hDb250cm9sKGNhbnZhcywgdHJ1ZSk7XG5cbiAgICAgIC8vIFRoaXMgY3JlYXRlcyBhIGxpZ2h0LCBhaW1pbmcgMCwxLDAgLSB0byB0aGUgc2t5IChub24tbWVzaClcbiAgICAgIHZhciBsaWdodCA9IG5ldyBIZW1pc3BoZXJpY0xpZ2h0KFwibGlnaHRcIiwgbmV3IFZlY3RvcjMoMCwgMSwgMCksIHNjZW5lKTtcblxuICAgICAgLy8gRGVmYXVsdCBpbnRlbnNpdHkgaXMgMS4gTGV0J3MgZGltIHRoZSBsaWdodCBhIHNtYWxsIGFtb3VudFxuICAgICAgbGlnaHQuaW50ZW5zaXR5ID0gMC43O1xuXG4gICAgICBpbnB1dENvbnRyb2xsZXIgPSBuZXcgSW5wdXRDb250cm9sbGVyKHNjZW5lKVxuICAgICAgaW5wdXRDb250cm9sbGVyLnNldElucHV0RGVmaW5pdGlvbihpbnB1dHNEZWYpXG4gICAgICBpbnB1dENvbnRyb2xsZXIuY3VycmVudElucHV0c1Byb2Nlc3NlZC5hZGQoKCkgPT4gaW5wdXRzUHJvY2Vzc2VkKCkpXG5cbiAgICAgIGNvbnN0IGF4ZXMgPSBjcmVhdGVBeGVzKHNjZW5lLCAwLjUsIDEuMCwgdHJ1ZSk7XG4gICAgICBhc3NldHNNYW5hZ2VyID0gbmV3IEFzc2V0c01hbmFnZXIoc2NlbmUpXG4gICAgICBcbiAgICAgLy8gbG9hZFJvYm90cyhyb2JvdERhdGEsc2NlbmUsYXNzZXRzTWFuYWdlcik7XG4gICAgICBzY2VuZS5yZW5kZXIoKTtcbiAgICAgIC8vIE91ciBidWlsdC1pbiAnZ3JvdW5kJyBzaGFwZS5cbiAgICAgIE1lc2hCdWlsZGVyLkNyZWF0ZUdyb3VuZChcImdyb3VuZFwiLCB7IHdpZHRoOiA2LCBoZWlnaHQ6IDYgfSwgc2NlbmUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHJ1biBvbiBldmVyeSBmcmFtZSByZW5kZXIuICBXZSBhcmUgc3Bpbm5pbmcgdGhlIGJveCBvbiB5LWF4aXMuXG4gICAgICovXG4gICAgY29uc3Qgb25SZW5kZXIgPSAoc2NlbmUpID0+IHtcbiAgICAgXG4gICAgfTtcbiAgICBTY2VuZUxvYWRlci5PblBsdWdpbkFjdGl2YXRlZE9ic2VydmFibGUuYWRkKGZ1bmN0aW9uIChsb2FkZXIpIHtcbiAgICAgIGlmIChsb2FkZXIubmFtZSA9PT0gXCJ1cmRmanNvblwiKSB7XG4gICAgICAgICAgbG9hZGVyLmFzc2V0c01hbmFnZXIgPSBhc3NldHNNYW5hZ2VyO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdJbmplY3RlZCBBc3NldE1hbmFnZXInKVxuICAgICAgfVxuICB9KTtcbiAgXG4gICAgLy8gbW91bnQgc2ltdWxhdG9yIGluIHRoZSB0YXJnZXQgYW5kIHNpbXVsYXRlIGNvbnRpbnVvdXNseVxuICAgIGNvbnN0IFtyZW5kZXJUYXJnZXQsIHNldFJlbmRlclRhcmdldF0gPSBSZWFjdC51c2VTdGF0ZSA8IEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbCA+IChudWxsKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKHJlbmRlclRhcmdldCA9PT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDsgXG5cbiAgICAgIHNpbXVsYXRpb24ubW91bnQocmVuZGVyVGFyZ2V0KTtcbiAgICAgIHNpbXVsYXRpb24uc3RhcnRNYXR0ZXIoKTtcbiAgICAgIHNpbXVsYXRpb24uc3RhcnRSZW5kZXIoKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHNpbXVsYXRpb24uc3RvcFJlbmRlcigpO1xuICAgICAgICBzaW11bGF0aW9uLnN0b3BNYXR0ZXIoKTtcbiAgICAgICAgc2ltdWxhdGlvbi51bm1vdW50KCk7XG4gICAgICB9O1xuICAgIH0sIFtyZW5kZXJUYXJnZXQsIHNpbXVsYXRpb25dKTtcbiBcbiAgICAvLyBOZWVkIHRvIHVzZSBhIGRlcGVuZGVuY3kgYXJyYXkgaGVyZSwgYmVjYXVzZSBJZGUgcmVxdWlyZXMgYSBzdGFibGUgcmVmLlxuICAgIC8vIE9uIGVhY2ggY2hhbmdlIHRvIHRoZSBTaW11bGF0b3IgcmVmLCBqc29uSW5pdCBpcyBwb3RlbnRpYWxseSBjYWxsZWQuXG4gICAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+ICh7IHNpbXVsYXRpb24gfSksIFtzaW11bGF0aW9uXSk7XG4gICAgXG4gICAgdXNlU3R5bGVzKHMpO1xuICAgIHJldHVybiAoXG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzLnJvb3R9PlxuXG5cblxuICAgICAgICA8VG9vbEJhcj5cbiAgICAgICAgICB7cnVubmluZyA/IChcbiAgICAgICAgICAgIDxUb29sQmFySXRlbSBrZXk9XCJ0ZXJtaW5hdGUtYW5kLXJlc2V0XCI+XG4gICAgICAgICAgICAgIDxUb29sQmFySWNvbkJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIG9uRXhlY3V0aW9uQWN0aW9uKHsgYWN0aW9uOiAnVEVSTUlOQVRFJywgcmVzZXQ6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBpY29uPXtUZXJtaW5hdGVBbmRSZXNldEljb259XG4gICAgICAgICAgICAgICAgY29sb3I9XCJyZWRcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVSaXBwbGVcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvVG9vbEJhckl0ZW0+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxUb29sQmFySXRlbSBrZXk9XCJyZXNldFwiPlxuICAgICAgICAgICAgICA8VG9vbEJhckljb25CdXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBvbkV4ZWN1dGlvbkFjdGlvbih7IGFjdGlvbjogJ1JFU0VUJyB9KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGljb249e1Jlc2V0SWNvbn1cbiAgICAgICAgICAgICAgICBkaXNhYmxlUmlwcGxlXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L1Rvb2xCYXJJdGVtPlxuICAgICAgICAgICl9XG4gICAgICAgICAgPFRvb2xCYXJJdGVtPlxuICAgICAgICAgICAgPFRvb2xCYXJJY29uQnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICBvbkV4ZWN1dGlvbkFjdGlvbih7IGFjdGlvbjogJ1RFUk1JTkFURScsIHJlc2V0OiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgaWNvbj17VGVybWluYXRlSWNvbn1cbiAgICAgICAgICAgICAgY29sb3I9XCJyZWRcIlxuICAgICAgICAgICAgICBkaXNhYmxlUmlwcGxlXG4gICAgICAgICAgICAgIGRpc2FibGVkPXshcnVubmluZ31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9Ub29sQmFySXRlbT5cbiAgICAgICAgICA8VG9vbEJhckl0ZW0+XG4gICAgICAgICAgICA8VG9vbEJhckljb25CdXR0b24gb25DbGljaz17KCkgPT4gb25VcGRhdGUoe1xuICAgICAgICAgICAgICB6b29tOiBNYXRoLm1pbih6b29tICsgMTAsIDE1MCksXG4gICAgICAgICAgICAgIHpvb21Nb2RlOiAnTUFOVUFMJyxcbiAgICAgICAgICAgIH0pfSBpY29uPXtab29tSW5JY29ufSBkaXNhYmxlUmlwcGxlIC8+XG4gICAgICAgICAgPC9Ub29sQmFySXRlbT5cbiAgICAgICAgICA8VG9vbEJhckl0ZW0+XG4gICAgICAgICAgICA8VG9vbEJhckljb25CdXR0b24gb25DbGljaz17KCkgPT4gb25VcGRhdGUoe1xuICAgICAgICAgICAgICB6b29tOiAxMDAsXG4gICAgICAgICAgICAgIHpvb21Nb2RlOiAnTUFOVUFMJyxcbiAgICAgICAgICAgIH0pfSBpY29uPXtab29tUmVzZXRJY29ufSBkaXNhYmxlUmlwcGxlIC8+XG4gICAgICAgICAgPC9Ub29sQmFySXRlbT5cbiAgICAgICAgICA8VG9vbEJhckl0ZW0+XG4gICAgICAgICAgICA8VG9vbEJhckljb25CdXR0b24gb25DbGljaz17KCkgPT4gb25VcGRhdGUoe1xuICAgICAgICAgICAgICB6b29tOiBNYXRoLm1heCh6b29tIC0gMTAsIDUwKSxcbiAgICAgICAgICAgICAgem9vbU1vZGU6ICdNQU5VQUwnLFxuICAgICAgICAgICAgfSl9IGljb249e1pvb21PdXRJY29ufSBkaXNhYmxlUmlwcGxlIC8+XG4gICAgICAgICAgPC9Ub29sQmFySXRlbT5cbiAgICAgICAgICA8VG9vbEJhckl0ZW0+XG4gICAgICAgICAgICA8VG9vbEJhckljb25CdXR0b24gb25DbGljaz17KCkgPT4gb25VcGRhdGUoe1xuICAgICAgICAgICAgICB6b29tLFxuICAgICAgICAgICAgICB6b29tTW9kZTogJ0ZJVCcsXG4gICAgICAgICAgICB9KX0gaWNvbj17Wm9vbUZpdEljb259IGRpc2FibGVSaXBwbGUgLz5cbiAgICAgICAgICA8L1Rvb2xCYXJJdGVtPlxuXG5cbiAgICAgICAgICA8VG9vbEJhckl0ZW0+XG4gICAgICAgICAgICA8VG9vbEJhckljb25CdXR0b24gb25DbGljaz17KCkgPT4gb25VcGRhdGUoe1xuXG4gICAgICAgICAgICB9KX0gaWNvbj17Um90YXRlT3JiaXRJY29ufSBkaXNhYmxlUmlwcGxlIC8+XG4gICAgICAgICAgPC9Ub29sQmFySXRlbT5cbiAgICAgICAgICA8VG9vbEJhckl0ZW0+XG4gICAgICAgICAgICA8VG9vbEJhckljb25CdXR0b24gb25DbGljaz17KCkgPT4gb25VcGRhdGUoe1xuXG4gICAgICAgICAgICB9KX0gaWNvbj17UmVzaXplSWNvbn0gZGlzYWJsZVJpcHBsZSAvPlxuICAgICAgICAgIDwvVG9vbEJhckl0ZW0+XG4gICAgICAgICAgPFRvb2xCYXJJdGVtPlxuICAgICAgICAgICAgPFRvb2xCYXJJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IG9uVXBkYXRlKHtcblxuICAgICAgICAgICAgfSl9IGljb249e0Fycm93QWxsSWNvbn0gZGlzYWJsZVJpcHBsZSAvPlxuICAgICAgICAgIDwvVG9vbEJhckl0ZW0+XG4gICAgICAgICAgPFRvb2xCYXJJdGVtPlxuXG4gICAgICAgICAgICBTZXRUQ1BcbiAgICAgICAgICA8L1Rvb2xCYXJJdGVtPlxuICAgICAgICAgIDxUb29sQmFySXRlbT5cbiAgICAgICAgICAgIDxUb29sQmFySWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBvblVwZGF0ZSh7XG5cbiAgICAgICAgICAgIH0pfSBpY29uPXtSb2JvdEluZHVzdHJpYWxJY29ufSBkaXNhYmxlUmlwcGxlIC8+XG4gICAgICAgICAgPC9Ub29sQmFySXRlbT5cblxuXG4gICAgICAgIDwvVG9vbEJhcj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIlNpbXVsYXRpb24zRFwiPlxuICAgICAgICAgIDxEZWZhdWx0UGxheWdyb3VuZCBhbnRpYWxpYXMgb25TY2VuZVJlYWR5PXtvblNjZW5lUmVhZHl9IG9uUmVuZGVyPXtvblJlbmRlcn0gaWQ9XCJteS1jYW52YXNcIiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG5cbiAgICApO1xuICB9LFxuKTtcblxuZXhwb3J0IHR5cGUgU2ltdWxhdG9yVHlwZSA9IFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFNpbXVsYXRvcj47XG5cbmV4cG9ydCBkZWZhdWx0IFNpbXVsYXRvcjtcbiIsIlxuICAgIHZhciByZWZzID0gMDtcbiAgICB2YXIgY3NzID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0yIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0zIS4vU2ltdWxhdG9yLnNjc3NcIik7XG4gICAgdmFyIGluc2VydENzcyA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2lzb21vcnBoaWMtc3R5bGUtbG9hZGVyL2luc2VydENzcy5qc1wiKTtcbiAgICB2YXIgY29udGVudCA9IHR5cGVvZiBjc3MgPT09ICdzdHJpbmcnID8gW1ttb2R1bGUuaWQsIGNzcywgJyddXSA6IGNzcztcblxuICAgIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGNzcy5sb2NhbHMgfHwge307XG4gICAgZXhwb3J0cy5fZ2V0Q29udGVudCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gY29udGVudDsgfTtcbiAgICBleHBvcnRzLl9nZXRDc3MgPSBmdW5jdGlvbigpIHsgcmV0dXJuICcnICsgY3NzOyB9O1xuICAgIGV4cG9ydHMuX2luc2VydENzcyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHsgcmV0dXJuIGluc2VydENzcyhjb250ZW50LCBvcHRpb25zKSB9O1xuXG4gICAgLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuICAgIC8vIGh0dHBzOi8vd2VicGFjay5naXRodWIuaW8vZG9jcy9ob3QtbW9kdWxlLXJlcGxhY2VtZW50XG4gICAgLy8gT25seSBhY3RpdmF0ZWQgaW4gYnJvd3NlciBjb250ZXh0XG4gICAgaWYgKG1vZHVsZS5ob3QgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50KSB7XG4gICAgICB2YXIgcmVtb3ZlQ3NzID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS03LXJ1bGVzLTIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS03LXJ1bGVzLTMhLi9TaW11bGF0b3Iuc2Nzc1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY3NzID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0yIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0zIS4vU2ltdWxhdG9yLnNjc3NcIik7XG4gICAgICAgIGNvbnRlbnQgPSB0eXBlb2YgY3NzID09PSAnc3RyaW5nJyA/IFtbbW9kdWxlLmlkLCBjc3MsICcnXV0gOiBjc3M7XG4gICAgICAgIHJlbW92ZUNzcyA9IGluc2VydENzcyhjb250ZW50LCB7IHJlcGxhY2U6IHRydWUgfSk7XG4gICAgICB9KTtcbiAgICAgIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgcmVtb3ZlQ3NzKCk7IH0pO1xuICAgIH1cbiAgIiwiaW1wb3J0IHtldWxlclRvUXVhdGVybmlvbn0gZnJvbSAnZXVsZXJ1dGlsJztcbmltcG9ydCB7XG4gICAgVmVjdG9yMyxcbiAgICBBc3NldENvbnRhaW5lcixcbiAgICBRdWF0ZXJuaW9uLFxuICAgIFRyYW5zZm9ybU5vZGUsXG4gICAgU3RhbmRhcmRNYXRlcmlhbCxcbiAgICBNZXNoQnVpbGRlcixcbiAgICBUb29scyxcbiAgICBBc3NldHNNYW5hZ2VyLFxuICAgIENvbG9yMyxcbiAgICBTY2VuZUxvYWRlclxufSBmcm9tIFwiQGJhYnlsb25qcy9jb3JlXCI7XG5pbXBvcnQgIFJvYm90IGZyb20gXCJ3ZWJyb2Ivc3JjL3JvYm90L1JvYm90XCI7XG5pbXBvcnQgSm9pbnQgZnJvbSBcIndlYnJvYi9zcmMvcm9ib3QvSm9pbnRcIjtcbmltcG9ydCBjcmVhdGVBeGVzIGZyb20gXCJ3ZWJyb2Ivc3JjL0F4ZXNIZWxwZXJcIjtcblxuXG5mdW5jdGlvbiBwYXJzZVZlY3Rvcih2YWwpIHtcbiAgICBpZiAoIXZhbCkgcmV0dXJuIFZlY3RvcjMuWmVybygpO1xuICAgIHJldHVybiBWZWN0b3IzLkZyb21BcnJheSh2YWwudHJpbSgpLnNwbGl0KC9cXHMrL2cpLm1hcChwYXJzZUZsb2F0KSk7XG59XG5cbmZ1bmN0aW9uIHNwbGl0Rm9sZGVyUGF0aChwYXRoKXtcbiAgICBjb25zdCBzZXBJbmRleCA9IHBhdGgubGFzdEluZGV4T2YoJy8nKSsxO1xuICAgIHJldHVybiBbcGF0aC5zdWJzdHIoMCwgc2VwSW5kZXgpLCBwYXRoLnN1YnN0cihzZXBJbmRleCldXG59XG5cbi8qKlxuICogVVJERiBKU09OIGxvYWRlci5cbiAqIFRoaXMgaXMgYSBiYWJ5bG9uIHNjZW5lIGxvYWRlciBwbHVnaW4uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVSREZKU09OTG9hZGVyIHtcbiAgXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgIFxuICAgICAgICB0aGlzLmFzc2V0c01hbmFnZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmltcG9ydFZpc3VhbCA9IHRydWU7XG4gICAgICAgIHRoaXMuaW1wb3J0Q29sbGlzaW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMub3ZlcnJpZGVNZXNoTWF0ZXJpYWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wYWNrYWdlUGF0aCA9ICdyb2JvdC8nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIG5hbWUgb2YgdGhlIHBsdWdpbi5cbiAgICAgKi9cbiAgICBuYW1lID0gXCJ1cmRmanNvblwiO1xuXG5cbiAgICBleHRlbnNpb25zID0ge1xuICAgICAgICBcIi51cmRmanNvblwiOiB7IGlzQmluYXJ5OiBmYWxzZSB9LFxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMb2FkIGludG8gYSBzY2VuZS5cbiAgICAgKiBAcGFyYW0gc2NlbmUgVGhlIHNjZW5lIHRvIGxvYWQgaW50b1xuICAgICAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIGltcG9ydFxuICAgICAqIEBwYXJhbSByb290VXJsIFRoZSByb290IHVybCBmb3Igc2NlbmUgYW5kIHJlc291cmNlc1xuICAgICAqIEBwYXJhbSBvbkVycm9yIFRoZSBjYWxsYmFjayB3aGVuIGltcG9ydCBmYWlsc1xuICAgICAqIEByZXR1cm5zIHRydWUgaWYgc3VjY2Vzc2Z1bCBvciBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBsb2FkKHNjZW5lLCBkYXRhLCByb290VXJsKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiaWNoIGJpbiBoaWVyXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5pbXBvcnRNZXNoKG51bGwsIHNjZW5lLCBkYXRhLCByb290VXJsLCBudWxsLCBudWxsLCBudWxsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkIGludG8gYW4gYXNzZXQgY29udGFpbmVyLlxuICAgICAqIEBwYXJhbSBzY2VuZSBUaGUgc2NlbmUgdG8gbG9hZCBpbnRvXG4gICAgICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gaW1wb3J0XG4gICAgICogQHBhcmFtIHJvb3RVcmwgVGhlIHJvb3QgdXJsIGZvciBzY2VuZSBhbmQgcmVzb3VyY2VzXG4gICAgICogQHBhcmFtIG9uRXJyb3IgVGhlIGNhbGxiYWNrIHdoZW4gaW1wb3J0IGZhaWxzXG4gICAgICogQHJldHVybnMgVGhlIGxvYWRlZCBhc3NldCBjb250YWluZXJcbiAgICAgKi9cbiAgICBsb2FkQXNzZXRDb250YWluZXIoc2NlbmUsIGRhdGEsIHJvb3RVcmwsIG9uRXJyb3IpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gbmV3IEFzc2V0Q29udGFpbmVyKHNjZW5lKTtcbiAgICAgICAgc2NlbmUuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbiA9IHRydWU7XG4gICAgICAgIHRoaXMuaW1wb3J0TWVzaChudWxsLCBzY2VuZSwgZGF0YSwgcm9vdFVybCwgY29udGFpbmVyLm1lc2hlcywgbnVsbCwgbnVsbCk7XG4gICAgICAgIHNjZW5lLl9ibG9ja0VudGl0eUNvbGxlY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbXBvcnQgbWVzaGVzIGludG8gYSBzY2VuZS5cbiAgICAgKiBAcGFyYW0gbWVzaGVzTmFtZXMgQW4gYXJyYXkgb2YgbWVzaCBuYW1lcywgYSBzaW5nbGUgbWVzaCBuYW1lLCBvciBlbXB0eSBzdHJpbmcgZm9yIGFsbCBtZXNoZXMgdGhhdCBmaWx0ZXIgd2hhdCBtZXNoZXMgYXJlIGltcG9ydGVkXG4gICAgICogQHBhcmFtIHNjZW5lIFRoZSBzY2VuZSB0byBpbXBvcnQgaW50b1xuICAgICAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIGltcG9ydFxuICAgICAqIEBwYXJhbSByb290VXJsIFRoZSByb290IHVybCBmb3Igc2NlbmUgYW5kIHJlc291cmNlc1xuICAgICAqIEBwYXJhbSBtZXNoZXMgVGhlIG1lc2hlcyBhcnJheSB0byBpbXBvcnQgaW50b1xuICAgICAqIEBwYXJhbSBwYXJ0aWNsZVN5c3RlbXMgVGhlIHBhcnRpY2xlIHN5c3RlbXMgYXJyYXkgdG8gaW1wb3J0IGludG9cbiAgICAgKiBAcGFyYW0gc2tlbGV0b25zIFRoZSBza2VsZXRvbnMgYXJyYXkgdG8gaW1wb3J0IGludG9cbiAgICAgKiBAcGFyYW0gb25FcnJvciBUaGUgY2FsbGJhY2sgd2hlbiBpbXBvcnQgZmFpbHNcbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHN1Y2Nlc3NmdWwgb3IgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgaW1wb3J0TWVzaChtZXNoZXNOYW1lcywgc2NlbmUsIGRhdGEsIHJvb3RVcmwsIG1lc2hlcywgcGFydGljbGVTeXN0ZW1zLCBza2VsZXRvbikge1xuICAgICAgICBjb25zdCBtYXRlcmlhbHMgPSB7J0RlZmF1bHRNYXRlcmlhbCc6IG5ldyBTdGFuZGFyZE1hdGVyaWFsKCdEZWZhdWx0TWF0ZXJpYWwnLCBzY2VuZSl9O1xuICAgICAgICBjb25zdCBhc3NldHNNYW5hZ2VyID0gdGhpcy5hc3NldHNNYW5hZ2VyIHx8IG5ldyBBc3NldHNNYW5hZ2VyKHNjZW5lKTtcblxuICAgICAgICBpZiAodHlwZW9mIGRhdGEgIT09IFwib2JqZWN0XCIpe1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gY29udmVydCB0byBzdHJpbmdcbiAgICAgICAgICAgICAgICBjb25zdCBhcnJheV9idWZmZXIgPSBuZXcgVWludDhBcnJheShkYXRhKTtcbiAgICAgICAgICAgICAgICBsZXQgc3RyID0gJyc7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmJ5dGVMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShhcnJheV9idWZmZXJbaV0pOyAvLyBpbXBsaWNpdGx5IGFzc3VtZXMgbGl0dGxlLWVuZGlhblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShzdHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gXCJvYmplY3RcIil7XG4gICAgICAgICAgICBUb29scy5FcnJvcihcIlVSREZKU09OTG9hZGVyOiBJbnZhbGlkIGRhdGEgZm9ybWF0IHByb3ZpZGVkXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJvYm90RGF0YSA9IGRhdGEucm9ib3Q7XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJJbXBvcnRpbmcgcm9ib3REYXRhOiBcIityb2JvdERhdGEubmFtZSlcbiAgICAgICAgY29uc3Qgcm9ib3QgPSBuZXcgUm9ib3Qocm9ib3REYXRhLm5hbWUsIHNjZW5lKVxuICAgICAgICAvL3JvYm90LnJvdGF0aW9uUXVhdGVybmlvbiA9IGZyb21Sb3RhdGlvblxuICAgICAgICAvL3JvYm90LnNjYWxlID0gZnJvbVNjYWxlXG5cbiAgICAgICAgaWYgKHJvYm90RGF0YS5tYXRlcmlhbCl7XG4gICAgICAgICAgICByb2JvdERhdGEubWF0ZXJpYWwuZm9yRWFjaChtID0+IHRoaXMuaW1wb3J0TWF0ZXJpYWwobSwgbWF0ZXJpYWxzLCBhc3NldHNNYW5hZ2VyLCBzY2VuZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJvYm90RGF0YS5saW5rLmZvckVhY2gobCA9PiB0aGlzLmltcG9ydExpbmsobCwgcm9ib3QsIHNjZW5lLCBtYXRlcmlhbHMsIGFzc2V0c01hbmFnZXIpKTtcbiAgICAgICAgcm9ib3REYXRhLmpvaW50LmZvckVhY2goKGosaW5kZXgpID0+IHRoaXMuaW1wb3J0Sm9pbnQoaiwgcm9ib3QsIGluZGV4LCBzY2VuZSkpO1xuXG4gICAgICAgIHJvYm90LnJvb3RMaW5rID0gXy5maW5kKHJvYm90LmxpbmtzLCBsID0+IGwucGFyZW50ID09PSBudWxsKVxuICAgICAgICByb2JvdC5yb290TGluay5wYXJlbnQgPSByb2JvdFxuXG4gICAgICAgIC8qXG4gICAgICAgIE9iamVjdC52YWx1ZXMocm9ib3QubGlua3MpLmZvckVhY2gobCA9PiB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiQWRkaW5nIGF4aXMgdG8gXCIrbC5uYW1lKVxuICAgICAgICAgICAgY29uc3QgYXhlcyA9IGNyZWF0ZUF4ZXMoc2NlbmUsIDAuMiwgMC4zLCBmYWxzZSk7XG4gICAgICAgICAgICBheGVzLnBhcmVudCA9IGxcbiAgICAgICAgfSk7Ki9cblxuICAgICAgICBpZiAodGhpcy5hc3NldHNNYW5hZ2VyICE9PSBhc3NldHNNYW5hZ2VyKSBhc3NldHNNYW5hZ2VyLmxvYWQoKVxuXG4gICAgICAgIGlmIChtZXNoZXMpIHtcbiAgICAgICAgICAgIG1lc2hlcy5wdXNoKHJvYm90KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpbXBvcnRKb2ludChqb2ludERhdGEsIHJvYm90LCBpbmRleCwgc2NlbmUpIHtcbiAgICAgICAgbGV0IGpvaW50ID0gbnVsbDtcbiAgICAgICAgam9pbnQgPSBuZXcgSm9pbnQoam9pbnREYXRhLm5hbWUsIHNjZW5lKTtcbiAgICAgICAgam9pbnQuaW5kZXggPSBpbmRleFxuICAgICAgICByb2JvdC5qb2ludHNbam9pbnREYXRhLm5hbWVdID0gam9pbnRcbiAgICAgICAgam9pbnQuam9pbnRUeXBlID0gam9pbnREYXRhLnR5cGU7XG5cbiAgICAgICAgY29uc3QgY2hpbGQgPSByb2JvdC5saW5rc1tqb2ludERhdGEuY2hpbGQubGlua107XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHJvYm90LmxpbmtzW2pvaW50RGF0YS5wYXJlbnQubGlua11cblxuICAgICAgICBjaGlsZC5wYXJlbnQgPSBqb2ludFxuICAgICAgICBqb2ludC5wYXJlbnQgPSBwYXJlbnRcblxuICAgICAgICBpZiAoam9pbnREYXRhLm9yaWdpbil7XG4gICAgICAgICAgICBqb2ludC5wb3NpdGlvbiA9IHBhcnNlVmVjdG9yKGpvaW50RGF0YS5vcmlnaW4ueHl6KTtcbiAgICAgICAgICAgIGV1bGVyVG9RdWF0ZXJuaW9uKHBhcnNlVmVjdG9yKGpvaW50RGF0YS5vcmlnaW4ucnB5KSwgJ1hZWicsIGpvaW50LnJvdGF0aW9uUXVhdGVybmlvbilcbiAgICAgICAgfVxuICAgICAgICBpZiAoam9pbnREYXRhLmxpbWl0KXtcbiAgICAgICAgICAgIGpvaW50LmxpbWl0Lmxvd2VyID0gcGFyc2VGbG9hdChqb2ludERhdGEubGltaXQubG93ZXIpO1xuICAgICAgICAgICAgam9pbnQubGltaXQudXBwZXIgPSBwYXJzZUZsb2F0KGpvaW50RGF0YS5saW1pdC51cHBlcik7XG4gICAgICAgICAgICBqb2ludC52ZWxvY2l0eSA9IHBhcnNlRmxvYXQoam9pbnREYXRhLmxpbWl0LnZlbG9jaXR5KVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGpvaW50RGF0YS5heGlzKSB7XG4gICAgICAgICAgICBqb2ludC5heGlzID0gcGFyc2VWZWN0b3Ioam9pbnREYXRhLmF4aXMueHl6KTtcbiAgICAgICAgICAgIGpvaW50LmF4aXMubm9ybWFsaXplKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbXBvcnRMaW5rKGxpbmtEYXRhLCByb2JvdCwgc2NlbmUsIG1hdGVyaWFscywgYXNzZXRzTWFuYWdlcikge1xuICAgICAgICBjb25zdCBsaW5rID0gbmV3IFRyYW5zZm9ybU5vZGUobGlua0RhdGEubmFtZSwgc2NlbmUpO1xuICAgICAgICByb2JvdC5saW5rc1tsaW5rRGF0YS5uYW1lXSA9IGxpbmtcbiAgICAgICAgbGluay5yb3RhdGlvblF1YXRlcm5pb24gPSBRdWF0ZXJuaW9uLklkZW50aXR5KClcblxuICAgICAgICBpZiAodGhpcy5pbXBvcnRWaXN1YWwgJiYgbGlua0RhdGEudmlzdWFsKSB7XG4gICAgICAgICAgICBpZiAoIV8uaXNBcnJheShsaW5rRGF0YS52aXN1YWwpKSBsaW5rRGF0YS52aXN1YWwgPSBbbGlua0RhdGEudmlzdWFsXTtcbiAgICAgICAgICAgIGxpbmtEYXRhLnZpc3VhbC5mb3JFYWNoKHZpc3VhbCA9PiB0aGlzLmltcG9ydExpbmtFbGVtZW50KHZpc3VhbCwgbGluaywgJ192aXN1YWwnLCByb2JvdC52aXN1YWwsIG1hdGVyaWFscywgYXNzZXRzTWFuYWdlciwgc2NlbmUpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pbXBvcnRDb2xsaXNpb24gJiYgbGlua0RhdGEuY29sbGlzaW9uKSB7XG4gICAgICAgICAgICBpZiAoIV8uaXNBcnJheShsaW5rRGF0YS5jb2xsaXNpb24pKSBsaW5rRGF0YS5jb2xsaXNpb24gPSBbbGlua0RhdGEuY29sbGlzaW9uXTtcbiAgICAgICAgICAgIGxpbmtEYXRhLmNvbGxpc2lvbi5mb3JFYWNoKGNvbGxpc2lvbiA9PiB0aGlzLmltcG9ydExpbmtFbGVtZW50KGNvbGxpc2lvbiwgbGluaywgJ19jb2xsaXNpb24nLCByb2JvdC5jb2xsaXNpb24sIG1hdGVyaWFscywgYXNzZXRzTWFuYWdlciwgc2NlbmUpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGltcG9ydExpbmtFbGVtZW50KGxpbmtEYXRhLCBwYXJlbnQsIG5hbWVzdWZmaXgsIGNvbGxlY3Rpb24sIG1hdGVyaWFscywgYXNzZXRzTWFuYWdlciwgc2NlbmUpIHtcbiAgICAgICAgbGV0IGVsZW1lbnROYW1lID0gbGlua0RhdGEubmFtZVxuICAgICAgICBpZiAoIWVsZW1lbnROYW1lKSBlbGVtZW50TmFtZSA9IHBhcmVudC5uYW1lICsgbmFtZXN1ZmZpeFxuXG4gICAgICAgIGxldCBtYXRlcmlhbCA9IG51bGw7XG4gICAgICAgIGlmIChsaW5rRGF0YS5tYXRlcmlhbCkge1xuICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWxOYW1lID0gbGlua0RhdGEubWF0ZXJpYWwubmFtZTtcbiAgICAgICAgICAgIGlmIChtYXRlcmlhbE5hbWUgJiYgbWF0ZXJpYWxOYW1lIGluIG1hdGVyaWFscykge1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsID0gbWF0ZXJpYWxzW21hdGVyaWFsTmFtZV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsID0gdGhpcy5pbXBvcnRNYXRlcmlhbChsaW5rRGF0YS5tYXRlcmlhbCwgbWF0ZXJpYWxzLCBhc3NldHNNYW5hZ2VyLCBzY2VuZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXRlcmlhbCA9IG1hdGVyaWFsc1snRGVmYXVsdE1hdGVyaWFsJ107XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlbGVtZW50ID0gbmV3IFRyYW5zZm9ybU5vZGUoZWxlbWVudE5hbWUsIHNjZW5lKVxuICAgICAgICBlbGVtZW50LnJvdGF0aW9uUXVhdGVybmlvbiA9IFF1YXRlcm5pb24uSWRlbnRpdHkoKVxuXG4gICAgICAgIGVsZW1lbnQucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBjb2xsZWN0aW9uW2VsZW1lbnROYW1lXSA9IGVsZW1lbnQ7XG5cbiAgICAgICAgaWYgKGxpbmtEYXRhLm9yaWdpbil7XG4gICAgICAgICAgICBlbGVtZW50LnBvc2l0aW9uID0gcGFyc2VWZWN0b3IobGlua0RhdGEub3JpZ2luLnh5eik7XG4gICAgICAgICAgICBldWxlclRvUXVhdGVybmlvbihwYXJzZVZlY3RvcihsaW5rRGF0YS5vcmlnaW4ucnB5KSwgJ1hZWicsIGVsZW1lbnQucm90YXRpb25RdWF0ZXJuaW9uKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpbmtEYXRhLmdlb21ldHJ5KXtcbiAgICAgICAgICAgIGNvbnN0IGdlb20gPSBsaW5rRGF0YS5nZW9tZXRyeVxuICAgICAgICAgICAgaWYgKGdlb20ubWVzaCl7XG4gICAgICAgICAgICAgICAgdGhpcy5pbXBvcnRNZXNoUmVmZXJlbmNlKGdlb20ubWVzaC5maWxlbmFtZSwgZWxlbWVudCwgbWF0ZXJpYWwsIGFzc2V0c01hbmFnZXIpXG4gICAgICAgICAgICAgICAgaWYgKGdlb20ubWVzaC5zY2FsZSkgZWxlbWVudC5zY2FsZSA9IHBhcnNlVmVjdG9yKGdlb20ubWVzaC5zY2FsZSlcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZ2VvbS5ib3gpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXplID0gcGFyc2VWZWN0b3IoZ2VvbS5ib3guc2l6ZSkgfHwgVmVjdG9yMy5PbmUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBib3ggPSBNZXNoQnVpbGRlci5DcmVhdGVCb3goZWxlbWVudE5hbWUrXCJCb3hcIiwge3dpZHRoOiBzaXplLngsIGRlcHRoOiBzaXplLnksICBoZWlnaHQ6IHNpemUuen0sIHNjZW5lKTtcbiAgICAgICAgICAgICAgICBib3gubWF0ZXJpYWwgPSBtYXRlcmlhbDtcbiAgICAgICAgICAgICAgICBib3gucGFyZW50ID0gZWxlbWVudFxuICAgICAgICAgICAgICAgIGJveC5yb3RhdGlvbi5zZXQoTWF0aC5QSS8yLCAwLCAwKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZ2VvbS5zcGhlcmUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByYWRpdXMgPSBwYXJzZUZsb2F0KGdlb20uc3BoZXJlLnJhZGl1cykgfHwgMTtcbiAgICAgICAgICAgICAgICBjb25zdCBzcGhlcmUgPSBNZXNoQnVpbGRlci5DcmVhdGVTcGhlcmUoZWxlbWVudE5hbWUrXCJTcGhlcmVcIiwge2RpYW1ldGVyOiByYWRpdXMqMn0sIHNjZW5lKTtcbiAgICAgICAgICAgICAgICBzcGhlcmUubWF0ZXJpYWwgPSBtYXRlcmlhbDtcbiAgICAgICAgICAgICAgICBzcGhlcmUucGFyZW50ID0gZWxlbWVudFxuICAgICAgICAgICAgfSBlbHNlIGlmIChnZW9tLmN5bGluZGVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gcGFyc2VGbG9hdChnZW9tLmN5bGluZGVyLnJhZGl1cykgfHwgMTtcbiAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGggPSBwYXJzZUZsb2F0KGdlb20uY3lsaW5kZXIubGVuZ3RoKSB8fCAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN5bGluZGVyID0gTWVzaEJ1aWxkZXIuQ3JlYXRlQ3lsaW5kZXIoZWxlbWVudE5hbWUrXCJDeWxpbmRlclwiLCB7aGVpZ2h0OiBsZW5ndGgsIGRpYW1ldGVyOiByYWRpdXMqMn0sIHNjZW5lKTtcbiAgICAgICAgICAgICAgICBjeWxpbmRlci5tYXRlcmlhbCA9IG1hdGVyaWFsO1xuICAgICAgICAgICAgICAgIGN5bGluZGVyLnBhcmVudCA9IGVsZW1lbnRcbiAgICAgICAgICAgICAgICBjeWxpbmRlci5yb3RhdGlvbi5zZXQoTWF0aC5QSS8yLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudFxuICAgIH1cblxuICAgIGltcG9ydE1lc2hSZWZlcmVuY2UocGF0aCwgcGFyZW50LCBtYXRlcmlhbCwgYXNzZXRzTWFuYWdlcil7XG4gICAgICAgIGNvbnN0IGZpbGVQYXRoID0gdGhpcy5yZXNvbHZlUGF0aChwYXRoKTtcbiAgICAgICAgLy8gZmlsZSBwYXRoIGlzIG51bGwgaWYgYSBwYWNrYWdlIGRpcmVjdG9yeSBpcyBub3QgcHJvdmlkZWQuXG4gICAgICAgIGlmIChmaWxlUGF0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgW2ZvbGRlciwgZmlsZV0gPSBzcGxpdEZvbGRlclBhdGgoZmlsZVBhdGgpXG4gICAgICAgICAgICBjb25zdCBtZXNoVGFzayA9IGFzc2V0c01hbmFnZXIuYWRkTWVzaFRhc2soXCJtZXNoVGFza1wiK2ZpbGUsIFwiXCIsIGZvbGRlciwgZmlsZSk7XG4gICAgICAgICAgICBtZXNoVGFzay5vblN1Y2Nlc3MgPSAgKCh0YXNrKSA9PiB7XG4gICAgICAgICAgICAgICAgdGFzay5sb2FkZWRNZXNoZXMuZm9yRWFjaChtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbS5wYXJlbnQgPSBwYXJlbnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUuZW5kc1dpdGgoJy5zdGwnKSkgbS5yb3RhdGlvbi5zZXQoTWF0aC5QSS8yLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3ZlcnJpZGVNZXNoTWF0ZXJpYWwgfHwgIW0ubWF0ZXJpYWwpIG0ubWF0ZXJpYWwgPSBtYXRlcmlhbDtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIG1lc2hUYXNrLm9uRXJyb3IgPSAoKHRhc2ssIG1zZywgZXgpID0+XG4gICAgICAgICAgICAgICAgVG9vbHMuRXJyb3IoJ1VSREZKU09OTG9hZGVyOiBFcnJvciBsb2FkaW5nIG1lc2g6Jyttc2csIGV4KSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGltcG9ydE1hdGVyaWFsKG1hdGVyaWFsRGF0YSwgbWF0ZXJpYWxzLCBhc3NldHNNYW5hZ2VyLCBzY2VuZSkge1xuICAgICAgICBjb25zdCBtYXRlcmlhbCA9IG5ldyBTdGFuZGFyZE1hdGVyaWFsKG1hdGVyaWFsRGF0YS5uYW1lLCBzY2VuZSk7XG4gICAgICAgIG1hdGVyaWFsc1ttYXRlcmlhbERhdGEubmFtZV0gPSBtYXRlcmlhbFxuICAgICAgICBpZiAobWF0ZXJpYWxEYXRhLmNvbG9yKSB7XG4gICAgICAgICAgICBjb25zdCByZ2JhID0gbWF0ZXJpYWxEYXRhLmNvbG9yLnJnYmEuc3BsaXQoL1xccy9nKS5tYXAocGFyc2VGbG9hdClcbiAgICAgICAgICAgIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IG5ldyBDb2xvcjMocmdiYVswXSwgcmdiYVsxXSwgcmdiYVsyXSk7XG4gICAgICAgICAgICBtYXRlcmlhbC5vcGFjaXR5ID0gcmdiYVszXTtcbiAgICAgICAgICAgIG1hdGVyaWFsLnRyYW5zcGFyZW50ID0gcmdiYVszXSA8IDE7XG4gICAgICAgICAgICBtYXRlcmlhbC5kaXNhYmxlRGVwdGhXcml0ZSA9IG1hdGVyaWFsLnRyYW5zcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXRlcmlhbERhdGEudGV4dHVyZSl7XG4gICAgICAgICAgICBjb25zdCBmaWxlUGF0aCA9IHRoaXMucmVzb2x2ZVBhdGgobWF0ZXJpYWxEYXRhLnRleHR1cmUuZmlsZW5hbWUpO1xuICAgICAgICAgICAgY29uc3QgdGV4dHVyZVRhc2sgPSBhc3NldHNNYW5hZ2VyLmFkZFRleHR1cmVUYXNrKFwidGV4dHVyZVRhc2tcIittYXRlcmlhbERhdGEudGV4dHVyZS5maWxlbmFtZSwgZmlsZVBhdGgpO1xuICAgICAgICAgICAgdGV4dHVyZVRhc2sub25TdWNjZXNzID0gKCh0YXNrKSA9PlxuICAgICAgICAgICAgICAgIG1hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlID0gdGFzay50ZXh0dXJlKVxuICAgICAgICAgICAgdGV4dHVyZVRhc2sub25FcnJvciA9ICgodGFzaywgbXNnLCBleCkgPT5cbiAgICAgICAgICAgICAgICBUb29scy5FcnJvcignVVJERkpTT05Mb2FkZXI6IEVycm9yIGxvYWRpbmcgbWVzaDonK21zZywgZXgpKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXRlcmlhbFxuICAgIH1cblxuICAgIHJlc29sdmVQYXRoKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFja2FnZVBhdGggKyBwYXRoLnJlcGxhY2UoL15wYWNrYWdlOlxcL1xcLy8sICcnKVxuICAgIH1cbn1cblxuaWYgKFNjZW5lTG9hZGVyKSB7XG4gICAgU2NlbmVMb2FkZXIuUmVnaXN0ZXJQbHVnaW4obmV3IFVSREZKU09OTG9hZGVyKCkpO1xuICAgIGNvbnNvbGUubG9nKCdSZWdpc3RlcmVkIFVSREZKU09OTG9hZGVyJylcbn0gZWxzZSB7XG4gICAgY29uc29sZS5sb2coXCJDb3VsZCBub3QgcmVnaXN0ZXIgVVJERkpTT05Mb2FkZXJcIilcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8eG1sIHhtbG5zPVxcXCJodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9ibG9ja2x5L3htbFxcXCI+XFxuICA8YmxvY2sgdHlwZT1cXFwic2ltdWxhdG9yX3Jvb3RcXFwiIGlkPVxcXCJVZDB0NWVPYnlPQytUZ0IyIWZ0L1xcXCIgeD1cXFwiLTUwXFxcIiB5PVxcXCItNTBcXFwiPlxcbiAgICA8ZmllbGQgbmFtZT1cXFwiWFxcXCI+MDwvZmllbGQ+XFxuICAgIDxmaWVsZCBuYW1lPVxcXCJZXFxcIj4wPC9maWVsZD5cXG4gICAgPGZpZWxkIG5hbWU9XFxcIldcXFwiPjcyMDwvZmllbGQ+XFxuICAgIDxmaWVsZCBuYW1lPVxcXCJIXFxcIj41MDA8L2ZpZWxkPlxcbiAgICA8ZmllbGQgbmFtZT1cXFwiV0FMTFNcXFwiPkZBTFNFPC9maWVsZD5cXG4gICAgPHN0YXRlbWVudCBuYW1lPVxcXCJPQkpFQ1RTXFxcIj5cXG4gICAgICA8YmxvY2sgdHlwZT1cXFwic2ltdWxhdG9yX2dyb3VwXFxcIiBpZD1cXFwiKXh2aDQ0TFpASUx4e3FJI1QxUFNcXFwiPlxcbiAgICAgICAgPHZhbHVlIG5hbWU9XFxcIlNFVFRJTkdTXFxcIj5cXG4gICAgICAgICAgPGJsb2NrIHR5cGU9XFxcInNpbXVsYXRvcl9zZXR0aW5nc19zdGF0aWNcXFwiIGlkPVxcXCJ9KkR1Z095ZUBpN2VDQFpkJC9BbVxcXCI+XFxuICAgICAgICAgICAgPGZpZWxkIG5hbWU9XFxcIlNUQVRJQ1xcXCI+VFJVRTwvZmllbGQ+XFxuICAgICAgICAgIDwvYmxvY2s+XFxuICAgICAgICA8L3ZhbHVlPlxcbiAgICAgICAgPHN0YXRlbWVudCBuYW1lPVxcXCJPQkpFQ1RTXFxcIj5cXG4gICAgICAgICAgPGJsb2NrIHR5cGU9XFxcInNpbXVsYXRvcl9yZWN0XFxcIiBpZD1cXFwiW2B1ZTFoLU5QRnddVVtybnlgY1NcXFwiPlxcbiAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJXXFxcIj4xMDwvZmllbGQ+XFxuICAgICAgICAgICAgPGZpZWxkIG5hbWU9XFxcIkhcXFwiPjUwMDwvZmllbGQ+XFxuICAgICAgICAgICAgPHZhbHVlIG5hbWU9XFxcIlNFVFRJTkdTXFxcIj5cXG4gICAgICAgICAgICAgIDxibG9jayB0eXBlPVxcXCJzaW11bGF0b3Jfc2V0dGluZ3NfY29sb3JcXFwiIGlkPVxcXCJkQSgqdExtUUJbXmBCeFZCfmZlbVxcXCI+XFxuICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJDT0xPVVJcXFwiPiMyMjIyMjI8L2ZpZWxkPlxcbiAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT1cXFwiTU9SRVxcXCI+XFxuICAgICAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9XFxcInNpbXVsYXRvcl9zZXR0aW5nc19zZW5zb3JcXFwiIGlkPVxcXCJOKmlGNE9hK0ElP0w0SE1WPyttWFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiU0VOU09SXFxcIj5UUlVFPC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPVxcXCJNT1JFXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9XFxcInNpbXVsYXRvcl9zZXR0aW5nc19saW5lXFxcIiBpZD1cXFwicX0hXSF9M1dpc0ghOTdVciRJNi1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJMSU5FXFxcIj5UUlVFPC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT1cXFwiTU9SRVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YmxvY2sgdHlwZT1cXFwic2ltdWxhdG9yX3NldHRpbmdzX3RyYW5zbGF0ZVxcXCIgaWQ9XFxcIjBKTkE0M18xJCFZTDsuaHc5R2FvXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XFxcIlhcXFwiPi0yMDA8L2ZpZWxkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiWVxcXCI+MDwvZmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Jsb2NrPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdmFsdWU+XFxuICAgICAgICAgICAgICAgICAgICAgIDwvYmxvY2s+XFxuICAgICAgICAgICAgICAgICAgICA8L3ZhbHVlPlxcbiAgICAgICAgICAgICAgICAgIDwvYmxvY2s+XFxuICAgICAgICAgICAgICAgIDwvdmFsdWU+XFxuICAgICAgICAgICAgICA8L2Jsb2NrPlxcbiAgICAgICAgICAgIDwvdmFsdWU+XFxuICAgICAgICAgICAgPG5leHQ+XFxuICAgICAgICAgICAgICA8YmxvY2sgdHlwZT1cXFwic2ltdWxhdG9yX2dyb3VwXFxcIiBpZD1cXFwiVFMqSWltdVAwYmIvYWY3Kml1emFcXFwiPlxcbiAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT1cXFwiU0VUVElOR1NcXFwiPlxcbiAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVxcXCJzaW11bGF0b3Jfc2V0dGluZ3NfY29sb3JcXFwiIGlkPVxcXCJqTVcqeVd5OUVhMG1MQipmUDNVQlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiQ09MT1VSXFxcIj4jMzNmZjMzPC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPVxcXCJNT1JFXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9XFxcInNpbXVsYXRvcl9zZXR0aW5nc190cmFuc2xhdGVcXFwiIGlkPVxcXCJJYSU9YWNWSS5pfUdgR3kuNVhJaVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XFxcIlhcXFwiPi0yMDwvZmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XFxcIllcXFwiPjA8L2ZpZWxkPlxcbiAgICAgICAgICAgICAgICAgICAgICA8L2Jsb2NrPlxcbiAgICAgICAgICAgICAgICAgICAgPC92YWx1ZT5cXG4gICAgICAgICAgICAgICAgICA8L2Jsb2NrPlxcbiAgICAgICAgICAgICAgICA8L3ZhbHVlPlxcbiAgICAgICAgICAgICAgICA8c3RhdGVtZW50IG5hbWU9XFxcIk9CSkVDVFNcXFwiPlxcbiAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVxcXCJzaW11bGF0b3JfcmVjdFxcXCIgaWQ9XFxcIno9YjR8dVpAN1lmNTFyeTtXWFEzXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJXXFxcIj4xMTA8L2ZpZWxkPlxcbiAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XFxcIkhcXFwiPjQ8L2ZpZWxkPlxcbiAgICAgICAgICAgICAgICAgICAgPHZhbHVlIG5hbWU9XFxcIlNFVFRJTkdTXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9XFxcInNpbXVsYXRvcl9zZXR0aW5nc190cmFuc2xhdGVcXFwiIGlkPVxcXCJYe0cjUGByX3w7UmQ3Qk8/UnlOSlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XFxcIlhcXFwiPjA8L2ZpZWxkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJZXFxcIj42MDwvZmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICAgIDwvYmxvY2s+XFxuICAgICAgICAgICAgICAgICAgICA8L3ZhbHVlPlxcbiAgICAgICAgICAgICAgICAgICAgPG5leHQ+XFxuICAgICAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVxcXCJzaW11bGF0b3JfcmVjdFxcXCIgaWQ9XFxcImR6OFVXKmlxKDZVRyxdMmxzYnlDXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiV1xcXCI+MTEwPC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiSFxcXCI+NDwvZmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHZhbHVlIG5hbWU9XFxcIlNFVFRJTkdTXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVxcXCJzaW11bGF0b3Jfc2V0dGluZ3NfdHJhbnNsYXRlXFxcIiBpZD1cXFwiLTR4QDdhVU9hLGN6RDpoUCM/QTFcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiWFxcXCI+MDwvZmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJZXFxcIj4tNjA8L2ZpZWxkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9ibG9jaz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3ZhbHVlPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxuZXh0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9XFxcInNpbXVsYXRvcl9yZWN0XFxcIiBpZD1cXFwidUlRXXZeVE9afkpHKztUbCVqdE5cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiV1xcXCI+NDwvZmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJIXFxcIj4xMjQ8L2ZpZWxkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT1cXFwiU0VUVElOR1NcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVxcXCJzaW11bGF0b3Jfc2V0dGluZ3NfdHJhbnNsYXRlXFxcIiBpZD1cXFwiNl5jISVbMnBfcG9EfEw6b2wyaDBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XFxcIlhcXFwiPjU1PC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJZXFxcIj4wPC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Jsb2NrPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3ZhbHVlPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bmV4dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YmxvY2sgdHlwZT1cXFwic2ltdWxhdG9yX3JlY3RcXFwiIGlkPVxcXCJbOkhdIywkLHhHbGJZdS9LNCpKeVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiV1xcXCI+NTA8L2ZpZWxkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XFxcIkhcXFwiPjExNjwvZmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT1cXFwiU0VUVElOR1NcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YmxvY2sgdHlwZT1cXFwic2ltdWxhdG9yX3NldHRpbmdzX2NvbG9yXFxcIiBpZD1cXFwiMUNFZWRLVUBVVmpVNyhpRWpScj1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJDT0xPVVJcXFwiPiNmZmZmZmY8L2ZpZWxkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPVxcXCJNT1JFXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVxcXCJzaW11bGF0b3Jfc2V0dGluZ3Nfc2Vuc29yXFxcIiBpZD1cXFwic2VIKVF4cG40NS04UXoyc1JHN1BcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiU0VOU09SXFxcIj5UUlVFPC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHZhbHVlIG5hbWU9XFxcIk1PUkVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVxcXCJzaW11bGF0b3Jfc2V0dGluZ3NfdHJhbnNsYXRlXFxcIiBpZD1cXFwidyhCaEl6OmlyP1Q9V31NMCh+K1RcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XFxcIlhcXFwiPjI4PC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJZXFxcIj4wPC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPVxcXCJNT1JFXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9XFxcInNpbXVsYXRvcl9zZXR0aW5nc19sYWJlbFxcXCIgaWQ9XFxcIit7S11sckp+TWcycHZDZlI1WnRLXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiTEFCRUxcXFwiPmdyZWVuPC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9ibG9jaz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdmFsdWU+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9ibG9jaz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC92YWx1ZT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYmxvY2s+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC92YWx1ZT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9ibG9jaz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdmFsdWU+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9ibG9jaz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZXh0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9ibG9jaz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L25leHQ+XFxuICAgICAgICAgICAgICAgICAgICAgIDwvYmxvY2s+XFxuICAgICAgICAgICAgICAgICAgICA8L25leHQ+XFxuICAgICAgICAgICAgICAgICAgPC9ibG9jaz5cXG4gICAgICAgICAgICAgICAgPC9zdGF0ZW1lbnQ+XFxuICAgICAgICAgICAgICAgIDxuZXh0PlxcbiAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVxcXCJzaW11bGF0b3JfZ3JvdXBcXFwiIGlkPVxcXCJzUkFwfldYamkwQTkhRCVdMldeZFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT1cXFwiU0VUVElOR1NcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICA8YmxvY2sgdHlwZT1cXFwic2ltdWxhdG9yX3NldHRpbmdzX2NvbG9yXFxcIiBpZD1cXFwiaHYuNWVJekM9LyFdKXYzQEJ4WEBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJDT0xPVVJcXFwiPiMzMzMzZmY8L2ZpZWxkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPVxcXCJNT1JFXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVxcXCJzaW11bGF0b3Jfc2V0dGluZ3NfdHJhbnNsYXRlXFxcIiBpZD1cXFwiaGs6QTcofH4kMWh8TUd6Q0hHUXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiWFxcXCI+MjcwPC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XFxcIllcXFwiPjE3MDwvZmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPVxcXCJNT1JFXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YmxvY2sgdHlwZT1cXFwic2ltdWxhdG9yX3NldHRpbmdzX3JvdGF0ZVxcXCIgaWQ9XFxcIiM0RFZ4YWVBLl9OfVdSKyUxPXU/XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJBTkdMRVxcXCI+MzE1PC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Jsb2NrPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3ZhbHVlPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9ibG9jaz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3ZhbHVlPlxcbiAgICAgICAgICAgICAgICAgICAgICA8L2Jsb2NrPlxcbiAgICAgICAgICAgICAgICAgICAgPC92YWx1ZT5cXG4gICAgICAgICAgICAgICAgICAgIDxzdGF0ZW1lbnQgbmFtZT1cXFwiT0JKRUNUU1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVxcXCJzaW11bGF0b3JfcmVjdFxcXCIgaWQ9XFxcIi9lODBvQjR2eEQ4cmJHOGZeOnhrXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiV1xcXCI+MTEwPC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiSFxcXCI+NDwvZmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHZhbHVlIG5hbWU9XFxcIlNFVFRJTkdTXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVxcXCJzaW11bGF0b3Jfc2V0dGluZ3NfdHJhbnNsYXRlXFxcIiBpZD1cXFwiZl55cVhYLlIqTG43VyFoZTN0JTZcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiWFxcXCI+MDwvZmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJZXFxcIj41MDwvZmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Jsb2NrPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdmFsdWU+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPG5leHQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YmxvY2sgdHlwZT1cXFwic2ltdWxhdG9yX3JlY3RcXFwiIGlkPVxcXCJ0I2R6Y2dJVUMqYipELEVkYEFLVVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJXXFxcIj4xMTA8L2ZpZWxkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiSFxcXCI+NDwvZmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPVxcXCJTRVRUSU5HU1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9XFxcInNpbXVsYXRvcl9zZXR0aW5nc190cmFuc2xhdGVcXFwiIGlkPVxcXCIjUChdQTAqNGxCNEglXyN3NX5XT1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiWFxcXCI+MDwvZmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiWVxcXCI+LTUwPC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Jsb2NrPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3ZhbHVlPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bmV4dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YmxvY2sgdHlwZT1cXFwic2ltdWxhdG9yX3JlY3RcXFwiIGlkPVxcXCJBTFhrJC06JTsxe1shVF9PU2hFd1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiV1xcXCI+NDwvZmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiSFxcXCI+MTA0PC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPVxcXCJTRVRUSU5HU1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVxcXCJzaW11bGF0b3Jfc2V0dGluZ3NfdHJhbnNsYXRlXFxcIiBpZD1cXFwidDRuJH1zMixuVUc/OFZoXXxHQ2lcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJYXFxcIj41NTwvZmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XFxcIllcXFwiPjA8L2ZpZWxkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Jsb2NrPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC92YWx1ZT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZXh0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YmxvY2sgdHlwZT1cXFwic2ltdWxhdG9yX3JlY3RcXFwiIGlkPVxcXCJjaGltfF1wR3VYOlJTcGZRelB4a1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XFxcIldcXFwiPjUwPC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiSFxcXCI+OTY8L2ZpZWxkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPVxcXCJTRVRUSU5HU1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YmxvY2sgdHlwZT1cXFwic2ltdWxhdG9yX3NldHRpbmdzX2NvbG9yXFxcIiBpZD1cXFwiQTI5e05sZjRDVmo/V2w5YWJJRXpcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiQ09MT1VSXFxcIj4jZmZmZmZmPC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHZhbHVlIG5hbWU9XFxcIk1PUkVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVxcXCJzaW11bGF0b3Jfc2V0dGluZ3Nfc2Vuc29yXFxcIiBpZD1cXFwiMHxfO304a0w6Oj1qeVphXlpMQlNcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XFxcIlNFTlNPUlxcXCI+VFJVRTwvZmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT1cXFwiTU9SRVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVxcXCJzaW11bGF0b3Jfc2V0dGluZ3NfdHJhbnNsYXRlXFxcIiBpZD1cXFwiMHlHS058LXtyMTh6L2JIKl1DP1hcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJYXFxcIj4yODwvZmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XFxcIllcXFwiPjA8L2ZpZWxkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPVxcXCJNT1JFXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVxcXCJzaW11bGF0b3Jfc2V0dGluZ3NfbGFiZWxcXFwiIGlkPVxcXCIvbzM9S2xTI3MlcyNDI1o7bikxUVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJMQUJFTFxcXCI+Ymx1ZTwvZmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Jsb2NrPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdmFsdWU+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYmxvY2s+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3ZhbHVlPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYmxvY2s+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdmFsdWU+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Jsb2NrPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdmFsdWU+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYmxvY2s+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L25leHQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9ibG9jaz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZXh0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9ibG9jaz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L25leHQ+XFxuICAgICAgICAgICAgICAgICAgICAgIDwvYmxvY2s+XFxuICAgICAgICAgICAgICAgICAgICA8L3N0YXRlbWVudD5cXG4gICAgICAgICAgICAgICAgICAgIDxuZXh0PlxcbiAgICAgICAgICAgICAgICAgICAgICA8YmxvY2sgdHlwZT1cXFwic2ltdWxhdG9yX2dyb3VwXFxcIiBpZD1cXFwiZG52bjBPP0ZsbF0tSEkqQEVwW2pcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPVxcXCJTRVRUSU5HU1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YmxvY2sgdHlwZT1cXFwic2ltdWxhdG9yX3NldHRpbmdzX2NvbG9yXFxcIiBpZD1cXFwiezBIIXxIOiN7LVRSTGhNI0Y/UTpcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiQ09MT1VSXFxcIj4jZmZmZjAwPC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHZhbHVlIG5hbWU9XFxcIk1PUkVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVxcXCJzaW11bGF0b3Jfc2V0dGluZ3NfdHJhbnNsYXRlXFxcIiBpZD1cXFwiQ3IzL3lOUXBPTTlndFt5dnFONzBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XFxcIlhcXFwiPjEzMDwvZmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiWVxcXCI+LTE3MDwvZmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT1cXFwiTU9SRVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVxcXCJzaW11bGF0b3Jfc2V0dGluZ3Nfcm90YXRlXFxcIiBpZD1cXFwiNTpvMixpWmstSCxuQ1IsZXJpZVBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJBTkdMRVxcXCI+MTgwPC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9ibG9jaz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdmFsdWU+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9ibG9jaz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC92YWx1ZT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYmxvY2s+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC92YWx1ZT5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3RhdGVtZW50IG5hbWU9XFxcIk9CSkVDVFNcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9XFxcInNpbXVsYXRvcl9yZWN0XFxcIiBpZD1cXFwifjBKbistclcoOXtxUSxdVipXKkJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiV1xcXCI+MTEwPC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XFxcIkhcXFwiPjQ8L2ZpZWxkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT1cXFwiU0VUVElOR1NcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVxcXCJzaW11bGF0b3Jfc2V0dGluZ3NfdHJhbnNsYXRlXFxcIiBpZD1cXFwiX0otVVRLRnFiV1otellKYmAvRHFcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XFxcIlhcXFwiPjA8L2ZpZWxkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XFxcIllcXFwiPjQ1PC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Jsb2NrPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3ZhbHVlPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bmV4dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YmxvY2sgdHlwZT1cXFwic2ltdWxhdG9yX3JlY3RcXFwiIGlkPVxcXCIpVi1rNl1OWkVhaU8hNWghY35jdVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiV1xcXCI+MTEwPC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJIXFxcIj40PC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPVxcXCJTRVRUSU5HU1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVxcXCJzaW11bGF0b3Jfc2V0dGluZ3NfdHJhbnNsYXRlXFxcIiBpZD1cXFwiUFJOaGMjbi99KzElcW56VGpsQkNcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJYXFxcIj4wPC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiWVxcXCI+LTQ1PC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9ibG9jaz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdmFsdWU+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bmV4dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9XFxcInNpbXVsYXRvcl9yZWN0XFxcIiBpZD1cXFwiKDpoVFBtN05RX3NyaXF1c2ltXWlcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJXXFxcIj40PC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiSFxcXCI+OTQ8L2ZpZWxkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPVxcXCJTRVRUSU5HU1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YmxvY2sgdHlwZT1cXFwic2ltdWxhdG9yX3NldHRpbmdzX3RyYW5zbGF0ZVxcXCIgaWQ9XFxcInAoK0JsV05xXTVdX1RGRmVsN0YoXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XFxcIlhcXFwiPjU1PC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XFxcIllcXFwiPjA8L2ZpZWxkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9ibG9jaz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3ZhbHVlPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZXh0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9XFxcInNpbXVsYXRvcl9yZWN0XFxcIiBpZD1cXFwibFokWFJmbll5KDItJEZYcXFvZ1pcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiV1xcXCI+NTA8L2ZpZWxkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiSFxcXCI+ODY8L2ZpZWxkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT1cXFwiU0VUVElOR1NcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVxcXCJzaW11bGF0b3Jfc2V0dGluZ3NfY29sb3JcXFwiIGlkPVxcXCJFMXFOLyp8RihLWTBXRkJmQDNlVFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiQ09MT1VSXFxcIj4jZmZmZmZmPC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPVxcXCJNT1JFXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9XFxcInNpbXVsYXRvcl9zZXR0aW5nc19zZW5zb3JcXFwiIGlkPVxcXCJVfXAwMThTQU19TzNdN0VKNmFqdlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XFxcIlNFTlNPUlxcXCI+VFJVRTwvZmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHZhbHVlIG5hbWU9XFxcIk1PUkVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9XFxcInNpbXVsYXRvcl9zZXR0aW5nc190cmFuc2xhdGVcXFwiIGlkPVxcXCJJYGFyOHxhRGppVG0jNnpfcShnQlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJYXFxcIj4yODwvZmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJZXFxcIj4wPC9maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHZhbHVlIG5hbWU9XFxcIk1PUkVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVxcXCJzaW11bGF0b3Jfc2V0dGluZ3NfbGFiZWxcXFwiIGlkPVxcXCI6KkRERUNlWjJyOVhia2VofStQPVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiTEFCRUxcXFwiPnllbGxvdzwvZmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9ibG9jaz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC92YWx1ZT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYmxvY2s+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC92YWx1ZT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9ibG9jaz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdmFsdWU+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9ibG9jaz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC92YWx1ZT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYmxvY2s+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZXh0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Jsb2NrPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZXh0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYmxvY2s+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmV4dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYmxvY2s+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdGF0ZW1lbnQ+XFxuICAgICAgICAgICAgICAgICAgICAgIDwvYmxvY2s+XFxuICAgICAgICAgICAgICAgICAgICA8L25leHQ+XFxuICAgICAgICAgICAgICAgICAgPC9ibG9jaz5cXG4gICAgICAgICAgICAgICAgPC9uZXh0PlxcbiAgICAgICAgICAgICAgPC9ibG9jaz5cXG4gICAgICAgICAgICA8L25leHQ+XFxuICAgICAgICAgIDwvYmxvY2s+XFxuICAgICAgICA8L3N0YXRlbWVudD5cXG4gICAgICAgIDxuZXh0PlxcbiAgICAgICAgICA8YmxvY2sgdHlwZT1cXFwic2ltdWxhdG9yX3JvYm90XFxcIiBpZD1cXFwid0Aud0w6TCxaODE2ZS0ySGdfXk5cXFwiPlxcbiAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJOQU1FXFxcIj5oZWRnZWhvZzwvZmllbGQ+XFxuICAgICAgICAgICAgPGZpZWxkIG5hbWU9XFxcIkRFRkFVTFRfU0VOU09SU1xcXCI+VFJVRTwvZmllbGQ+XFxuICAgICAgICAgICAgPHZhbHVlIG5hbWU9XFxcIlNFVFRJTkdTXFxcIj5cXG4gICAgICAgICAgICAgIDxibG9jayB0eXBlPVxcXCJzaW11bGF0b3Jfc2V0dGluZ3NfdHJhbnNsYXRlXFxcIiBpZD1cXFwiWD99S0hoI3BAWWJCYnc3TD1pVTtcXFwiPlxcbiAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cXFwiWFxcXCI+LTI3MDwvZmllbGQ+XFxuICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVxcXCJZXFxcIj4wPC9maWVsZD5cXG4gICAgICAgICAgICAgIDwvYmxvY2s+XFxuICAgICAgICAgICAgPC92YWx1ZT5cXG4gICAgICAgICAgPC9ibG9jaz5cXG4gICAgICAgIDwvbmV4dD5cXG4gICAgICA8L2Jsb2NrPlxcbiAgICA8L3N0YXRlbWVudD5cXG4gIDwvYmxvY2s+XFxuPC94bWw+XCIiLCIvLyBAZmxvd1xuXG50eXBlIE1vdG9yID0ge1xuICBwb3dlcjogbnVtYmVyLFxuICBvbkNoYW5nZTogKChwb3J0OiBudW1iZXIsIHBvd2VyOiBudW1iZXIpID0+IHZvaWQpIHwgbnVsbCxcbn07XG5cbnR5cGUgU2Vydm8gPSB7XG4gIHBvc2l0aW9uOiBudW1iZXIgfCBudWxsLFxuICBvbkNoYW5nZTogKChwb3J0OiBudW1iZXIsIHBvc2l0aW9uOiBudW1iZXIgfCBudWxsKSA9PiB2b2lkKSB8IG51bGwsXG59O1xuXG50eXBlIFNlbnNvciA9IHtcbiAgYW5hbG9nVmFsdWU6IG51bWJlcixcbiAgbm9pc2VTb3VyY2U6ICgocG9ydDogbnVtYmVyLCBhbmFsb2dWYWx1ZTogbnVtYmVyKSA9PiBudW1iZXIpIHwgbnVsbCxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUFycmF5PFQ+KGxlbmd0aDogbnVtYmVyLCBjYjogKGluZGV4OiBudW1iZXIpID0+IFQpOiBUW10ge1xuICAvLyBBcnJheS5mcm9tKHsgbGVuZ3RoOiBuIH0sICh2LCBpKSA9PiAuLi4pOlxuICAvLyBmaXJzdCBwYXJhbWV0ZXIgaXMgYXJyYXktbGlrZSwgc28gYGxlbmd0aGAgaXMgYW4gYXJyYXkgbGVuZ3RoXG4gIC8vIGFsbCB2YWx1ZXMgKGB2YCkgYXJlIGB1bmRlZmluZWRgLCBtYXAgdGhlbSB0byBzb21ldGhpbmcgZWxzZS5cblxuICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aCB9LCAoX2VsZW0sIGluZGV4KSA9PiBjYihpbmRleCkpO1xufVxuXG4vKipcbiAqIFRoZSBIZWRnZWhvZyBjbGFzcyByZXByZXNlbnRzIHRoZSBjb250cm9sbGVyIG9mIGEgc2ltdWxhdGVkIHJvYm90LlxuICogQXMgc3VjaCwgaXQgbWFuYWdlcyB0aGUgc2ltdWxhdGVkIHNlbnNvcnMgKHdob3NlIGlucHV0IHZhbHVlcyBhcmUgc2V0IGJ5IHRoZSBzaW11bGF0aW9uIHdoZW4gY2hhbmdlcyBvY2N1cilcbiAqIGFuZCBhY3R1YXRvcnMgKHdoaWNoIGFyZSBzZXQgYnkgdXNlciBwcm9ncmFtcyBhbmQgcXVlcmllZCBieSB0aGUgc2ltdWxhdGlvbiB3aGVuIG5lZWRlZCkuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhlZGdlaG9nIHtcbiAgLy8gbW90b3IgKHBvcnQgPSAwLi40KSBwb3dlciwgLTEwMC4uPTEwMFxuICBtb3RvcnM6IE1vdG9yW10gPSBjcmVhdGVBcnJheSg0LCAoKSA9PiAoeyBwb3dlcjogMCwgb25DaGFuZ2U6IG51bGwgfSkpO1xuICAvLyBzZXJ2byAocG9ydCA9IDAuLjYpIHBvc2l0aW9ucywgMC4uPTEwMDAgb3IgbnVsbFxuICBzZXJ2b3M6IFNlcnZvW10gPSBjcmVhdGVBcnJheSg2LCAoKSA9PiAoeyBwb3NpdGlvbjogbnVsbCwgb25DaGFuZ2U6IG51bGwgfSkpO1xuICAvLyBzZW5zb3IgKHBvcnQgPSAwLi4xNikgdmFsdWUgaW5mZXJyZWQgZnJvbSB0aGUgc2ltdWxhdGlvblxuICAvLyB0aGUgdmFsdWUgaGVyZSBpcyBcImV4YWN0XCI7IGFuIGFuYWxvZyB2YWx1ZSByZWFkIGJ5IGEgdXNlciBwcm9ncmFtIHNob3VsZFxuICAvLyBoYXZlIHNvbWUgbm9pc2UgYXBwbGllZCB0byBpdFxuICBzZW5zb3JzOiBTZW5zb3JbXSA9IGNyZWF0ZUFycmF5KDE2LCAoKSA9PiAoeyBhbmFsb2dWYWx1ZTogNDA5NSwgbm9pc2VTb3VyY2U6IG51bGwgfSkpO1xuXG4gIC8vIFwicHVibGljXCIgQVBJcyBmb3IgdGhlIGNsaWVudFxuXG4gIG1vdmVNb3Rvcihwb3J0OiBudW1iZXIsIHBvd2VyOiBudW1iZXIpIHtcbiAgICB0aGlzLm1vdG9yc1twb3J0XS5wb3dlciA9IHBvd2VyO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnNcbiAgICB0aGlzLm1vdG9yc1twb3J0XS5vbkNoYW5nZT8uKHBvcnQsIHBvd2VyKTtcbiAgfVxuXG4gIHNldFNlcnZvKHBvcnQ6IG51bWJlciwgcG9zaXRpb246IG51bWJlciB8IG51bGwpIHtcbiAgICB0aGlzLnNlcnZvc1twb3J0XS5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnNcbiAgICB0aGlzLnNlcnZvc1twb3J0XS5vbkNoYW5nZT8uKHBvcnQsIHBvc2l0aW9uKTtcbiAgfVxuXG4gIGdldEFuYWxvZyhwb3J0OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IHsgYW5hbG9nVmFsdWUsIG5vaXNlU291cmNlIH0gPSB0aGlzLnNlbnNvcnNbcG9ydF07XG5cbiAgICBjb25zdCBub2lzZSA9IG5vaXNlU291cmNlPy4ocG9ydCwgYW5hbG9nVmFsdWUpID8/IDA7XG4gICAgY29uc3QgcmVzdWx0ID0gYW5hbG9nVmFsdWUgKyBub2lzZTtcblxuICAgIGlmIChyZXN1bHQgPiA0MDk1KSByZXR1cm4gNDA5NTtcbiAgICBpZiAocmVzdWx0IDwgMCkgcmV0dXJuIDA7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGdldERpZ2l0YWwocG9ydDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QW5hbG9nKHBvcnQpID4gMjA0NztcbiAgfVxuXG4gIG9mZigpIHtcbiAgICBmb3IgKGxldCBwb3J0ID0gMDsgcG9ydCA8IDQ7IHBvcnQgKz0gMSkge1xuICAgICAgdGhpcy5tb3ZlTW90b3IocG9ydCwgMCk7XG4gICAgfVxuICAgIGZvciAobGV0IHBvcnQgPSAwOyBwb3J0IDwgNjsgcG9ydCArPSAxKSB7XG4gICAgICB0aGlzLnNldFNlcnZvKHBvcnQsIG51bGwpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFwicHJpdmF0ZVwiIEFQSXMgbmVlZGVkIGJ5IHRoZSBzaW11bGF0aW9uXG5cbiAgZ2V0TW90b3IocG9ydDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5tb3RvcnNbcG9ydF0ucG93ZXI7XG4gIH1cblxuICBnZXRTZXJ2byhwb3J0OiBudW1iZXIpOiBudW1iZXIgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5zZXJ2b3NbcG9ydF0ucG9zaXRpb247XG4gIH1cblxuICBzZXRTZW5zb3IocG9ydDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyKSB7XG4gICAgdGhpcy5zZW5zb3JzW3BvcnRdLmFuYWxvZ1ZhbHVlID0gdmFsdWU7XG4gIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBNYXR0ZXIgZnJvbSAnbWF0dGVyLWpzJztcblxuaW1wb3J0IHsgUG9zZSwgSGVkZ2Vob2csIHNjaGVtYSB9IGZyb20gJy4nO1xuaW1wb3J0IHsgcmVzb2x2ZVNwcml0ZSwgc2V0SW5pdGlhbFBvc2UgfSBmcm9tICcuL3NjaGVtYS9oZWxwZXJzJztcbmltcG9ydCB7IERpZmZlcmVudGlhbERyaXZlIH0gZnJvbSAnLi9kcml2ZXMnO1xuaW1wb3J0IHsgQ29sbGlzaW9uU2Vuc29yLCBUb3VjaFNlbnNvciwgTGluZVNlbnNvciwgRGlzdGFuY2VTZW5zb3IgfSBmcm9tICcuL3NlbnNvcnMnO1xuaW1wb3J0IHsgU2Vydm9Bcm0gfSBmcm9tICcuL3NlcnZvJztcblxuZnVuY3Rpb24gY3JlYXRlQXJyYXk8VD4obGVuZ3RoOiBudW1iZXIsIGNiOiAoaW5kZXg6IG51bWJlcikgPT4gVCk6IFRbXSB7XG4gIC8vIEFycmF5LmZyb20oeyBsZW5ndGg6IG4gfSwgKHYsIGkpID0+IC4uLik6XG4gIC8vIGZpcnN0IHBhcmFtZXRlciBpcyBhcnJheS1saWtlLCBzbyBgbGVuZ3RoYCBpcyBhbiBhcnJheSBsZW5ndGhcbiAgLy8gYWxsIHZhbHVlcyAoYHZgKSBhcmUgYHVuZGVmaW5lZGAsIG1hcCB0aGVtIHRvIHNvbWV0aGluZyBlbHNlLlxuXG4gIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoIH0sIChfZWxlbSwgaW5kZXgpID0+IGNiKGluZGV4KSk7XG59XG5cbi8qKlxuICogQSBzaW11bGF0ZWQgcm9ib3QsIGNhcGFibGUgb2YgbW92aW5nIHRocm91Z2ggYW5kIHNlbnNpbmcgdGhlIHNpbXVsYXRpb24uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvYm90IHtcbiAgY29udHJvbGxlciA9IG5ldyBIZWRnZWhvZygpO1xuXG4gIGJvZHk6IE1hdHRlci5Cb2R5O1xuICBjb2xsaXNpb25TZW5zb3JzOiBDb2xsaXNpb25TZW5zb3JbXTtcbiAgZHJpdmU6IERpZmZlcmVudGlhbERyaXZlO1xuICBzZXJ2b0FybXM6IFNlcnZvQXJtW107XG5cbiAgcm9ib3Q6IE1hdHRlci5Db21wb3NpdGU7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBzY2hlbWEuUm9ib3RDb25maWcsIGFzc2V0czogTWFwPHN0cmluZywgW3N0cmluZywgVWludDhBcnJheV0+IHwgbnVsbCA9IG51bGwpIHtcbiAgICB0aGlzLmpzb25Jbml0KGNvbmZpZywgYXNzZXRzKTtcbiAgfVxuXG4gIGpzb25Jbml0KFxuICAgIHsgcG9zaXRpb246IHsgeCwgeSB9LCBhbmdsZSwgcGFydHMsIHJlbmRlcjogcmVuZGVyQm9keSB9OiBzY2hlbWEuUm9ib3RDb25maWcsXG4gICAgYXNzZXRzOiBNYXA8c3RyaW5nLCBbc3RyaW5nLCBVaW50OEFycmF5XT4gfCBudWxsID0gbnVsbCxcbiAgKSB7XG4gICAgcmVzb2x2ZVNwcml0ZShyZW5kZXJCb2R5Py5zcHJpdGUsIGFzc2V0cyk7XG5cbiAgICBjb25zdCBtYXRlcmlhbCA9IHtcbiAgICAgIGRlbnNpdHk6IDEsXG4gICAgICBmcmljdGlvbkFpcjogMC40LFxuICAgIH07XG4gICAgY29uc3QgbWF0ZXJpYWxHcmFiYmVyID0ge1xuICAgICAgZGVuc2l0eTogMC4wMixcbiAgICAgIGZyaWN0aW9uQWlyOiAwLFxuICAgIH07XG4gICAgY29uc3Qgc3R5bGVXaGVlbCA9IHtcbiAgICAgIHJlbmRlcjoge1xuICAgICAgICBmaWxsU3R5bGU6ICcjNzc3Nzc3JyxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBzdHlsZUJvZHkgPSB7XG4gICAgICByZW5kZXI6IHtcbiAgICAgICAgZmlsbFN0eWxlOiAnIzM4YjQ0OScsXG4gICAgICAgIC4uLnJlbmRlckJvZHksXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3Qgc3R5bGVMaW5lU2Vuc29yID0ge1xuICAgICAgLy8gZmlsbFN0eWxlIGNvbnRyb2xsZWQgYnkgc2Vuc29yXG4gICAgfTtcbiAgICBjb25zdCBzdHlsZVRvdWNoU2Vuc29yID0ge1xuICAgICAgLy8gZmlsbFN0eWxlIGNvbnRyb2xsZWQgYnkgc2Vuc29yXG4gICAgfTtcbiAgICBjb25zdCBzdHlsZURpc3RhbmNlU2Vuc29yID0ge1xuICAgICAgcmVuZGVyOiB7XG4gICAgICAgIGZpbGxTdHlsZTogJyM1NTU1NTUnLFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IG9wdGlvbnNEaXN0YW5jZVNlbnNvclNlZ21lbnQgPSB7XG4gICAgICBpc1NlbnNvcjogdHJ1ZSxcbiAgICAgIGRlbnNpdHk6IDAsXG4gICAgICBmcmljdGlvbkFpcjogMCxcbiAgICAgIC8vIGZpbGxTdHlsZSAmIG9wYWNpdHkgY29udHJvbGxlZCBieSBzZW5zb3JcbiAgICB9O1xuICAgIGNvbnN0IHN0eWxlR3JhYmJlciA9IHtcbiAgICAgIHJlbmRlcjoge1xuICAgICAgICBmaWxsU3R5bGU6ICcjNzc3Nzc3JyxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGNvbnN0IGxlZnRXaGVlbCA9IE1hdHRlci5Cb2RpZXMucmVjdGFuZ2xlKDcsIC0yMSwgMjAsIDQsIHtcbiAgICAgIC4uLm1hdGVyaWFsLFxuICAgICAgLi4uc3R5bGVXaGVlbCxcbiAgICAgIGxhYmVsOiAnbGVmdFdoZWVsJyxcbiAgICB9KTtcbiAgICBjb25zdCByaWdodFdoZWVsID0gTWF0dGVyLkJvZGllcy5yZWN0YW5nbGUoNywgMjEsIDIwLCA0LCB7XG4gICAgICAuLi5tYXRlcmlhbCxcbiAgICAgIC4uLnN0eWxlV2hlZWwsXG4gICAgICBsYWJlbDogJ3JpZ2h0V2hlZWwnLFxuICAgIH0pO1xuICAgIGNvbnN0IG1haW5Cb2R5ID0gTWF0dGVyLkJvZGllcy5yZWN0YW5nbGUoMCwgMCwgNDAsIDMyLCB7XG4gICAgICAuLi5tYXRlcmlhbCxcbiAgICAgIC4uLnN0eWxlQm9keSxcbiAgICAgIGxhYmVsOiAnbWFpbkJvZHknLFxuICAgIH0pO1xuXG4gICAgdGhpcy5jb2xsaXNpb25TZW5zb3JzID0gW107XG4gICAgY29uc3QgcGFydEJvZGllcyA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBwYXJ0IG9mIHBhcnRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBzd2l0Y2ggKHBhcnQudHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2xpbmUnOiB7XG4gICAgICAgICAgICBjb25zdCB7IHR5cGU6IF90eXBlLCBwb3J0LCBvYmplY3RzIH0gPSBwYXJ0O1xuXG4gICAgICAgICAgICBpZiAob2JqZWN0cy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGByb2JvdCBwYXJ0IG11c3QgaGF2ZSBleGFjdGx5IG9uZSBvYmplY3Q6ICR7cGFydC50eXBlfSAke3BvcnR9YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IFtvYmplY3RdID0gb2JqZWN0cztcbiAgICAgICAgICAgIGNvbnN0IHBhcnRCb2R5ID0gc2NoZW1hLmNyZWF0ZUJvZHkoXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAuLi5tYXRlcmlhbCxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZUxpbmVTZW5zb3IsXG4gICAgICAgICAgICAgICAgLi4ub2JqZWN0LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBhc3NldHMsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3Qgc2Vuc29yID0gbmV3IExpbmVTZW5zb3IodGhpcy5jb250cm9sbGVyLCBwYXJ0Qm9keSwgcG9ydCk7XG5cbiAgICAgICAgICAgIHBhcnRCb2RpZXMucHVzaChwYXJ0Qm9keSk7XG4gICAgICAgICAgICB0aGlzLmNvbGxpc2lvblNlbnNvcnMucHVzaChzZW5zb3IpO1xuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAndG91Y2gnOiB7XG4gICAgICAgICAgICBjb25zdCB7IHR5cGU6IF90eXBlLCBwb3J0LCBvYmplY3RzIH0gPSBwYXJ0O1xuXG4gICAgICAgICAgICBpZiAob2JqZWN0cy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGByb2JvdCBwYXJ0IG11c3QgaGF2ZSBleGFjdGx5IG9uZSBvYmplY3Q6ICR7cGFydC50eXBlfSAke3BvcnR9YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IFtvYmplY3RdID0gb2JqZWN0cztcbiAgICAgICAgICAgIGNvbnN0IHBhcnRCb2R5ID0gc2NoZW1hLmNyZWF0ZUJvZHkoXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAuLi5tYXRlcmlhbCxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVRvdWNoU2Vuc29yLFxuICAgICAgICAgICAgICAgIC4uLm9iamVjdCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgYXNzZXRzLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IHNlbnNvciA9IG5ldyBUb3VjaFNlbnNvcih0aGlzLmNvbnRyb2xsZXIsIHBhcnRCb2R5LCBwb3J0KTtcblxuICAgICAgICAgICAgcGFydEJvZGllcy5wdXNoKHBhcnRCb2R5KTtcbiAgICAgICAgICAgIHRoaXMuY29sbGlzaW9uU2Vuc29ycy5wdXNoKHNlbnNvcik7XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdkaXN0YW5jZSc6IHtcbiAgICAgICAgICAgIGNvbnN0IHsgdHlwZTogX3R5cGUsIHBvcnQsIG9iamVjdHMgfSA9IHBhcnQ7XG5cbiAgICAgICAgICAgIGlmIChvYmplY3RzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHJvYm90IHBhcnQgbXVzdCBoYXZlIGV4YWN0bHkgb25lIG9iamVjdDogJHtwYXJ0LnR5cGV9ICR7cG9ydH1gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgW29iamVjdF0gPSBvYmplY3RzO1xuICAgICAgICAgICAgY29uc3QgcGFydEJvZHkgPSBzY2hlbWEuY3JlYXRlQm9keShcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC4uLm1hdGVyaWFsLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlRGlzdGFuY2VTZW5zb3IsXG4gICAgICAgICAgICAgICAgLi4ub2JqZWN0LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBhc3NldHMsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgIHBvc2l0aW9uOiB7IHgsIHkgfSxcbiAgICAgICAgICAgICAgYW5nbGUsXG4gICAgICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgICAgfSA9IHBhcnRCb2R5O1xuXG4gICAgICAgICAgICBjb25zdCBjb3MgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICAgICAgICBjb25zdCBzaW4gPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSA1O1xuICAgICAgICAgICAgY29uc3QgbnVtU2VnbWVudHMgPSA2MDtcblxuICAgICAgICAgICAgY29uc3Qgc2VnbWVudHMgPSBjcmVhdGVBcnJheShudW1TZWdtZW50cywgKGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gbGVuZ3RoIC8gMiArIGxlbmd0aCAqIGluZGV4O1xuICAgICAgICAgICAgICBjb25zdCBib2R5ID0gTWF0dGVyLkJvZGllcy5yZWN0YW5nbGUoXG4gICAgICAgICAgICAgICAgeCArIGNvcyAqIGRpc3RhbmNlLFxuICAgICAgICAgICAgICAgIHkgKyBzaW4gKiBkaXN0YW5jZSxcbiAgICAgICAgICAgICAgICBsZW5ndGgsXG4gICAgICAgICAgICAgICAgMixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAuLi5vcHRpb25zRGlzdGFuY2VTZW5zb3JTZWdtZW50LFxuICAgICAgICAgICAgICAgICAgYW5nbGUsXG4gICAgICAgICAgICAgICAgICBsYWJlbDogYCR7bGFiZWx9LSR7aW5kZXh9YCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgICAgICAvLyBhZGQgYW5vdGhlciBoYWxmIGxlbmd0aCB0byBnZXQgdG8gdGhlIG91dGVyIGVkZ2Ugb2YgdGhlIHNlZ21lbnRcbiAgICAgICAgICAgICAgICBsZW5ndGggKiAoaW5kZXggKyAxKSxcbiAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3Qgc2Vuc29yID0gbmV3IERpc3RhbmNlU2Vuc29yKHRoaXMuY29udHJvbGxlciwgcG9ydCwgc2VnbWVudHMpO1xuXG4gICAgICAgICAgICBwYXJ0Qm9kaWVzLnB1c2gocGFydEJvZHksIC4uLnNlZ21lbnRzLm1hcCgoW2JvZHksIF9kaXN0YW5jZV0pID0+IGJvZHkpKTtcbiAgICAgICAgICAgIHRoaXMuY29sbGlzaW9uU2Vuc29ycy5wdXNoKC4uLnNlbnNvci5zZWdtZW50cyk7XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdzZXJ2b19hcm0nOiB7XG4gICAgICAgICAgICAvLyBoYW5kbGVkIGxhdGVyXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnNvbGUud2FybigndW5rbm93biByb2JvdCBwYXJ0OicsIHBhcnQpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYm9keSA9IE1hdHRlci5Cb2R5LmNyZWF0ZSh7XG4gICAgICBwYXJ0czogW2xlZnRXaGVlbCwgcmlnaHRXaGVlbCwgLi4ucGFydEJvZGllcywgbWFpbkJvZHldLFxuICAgICAgLi4ubWF0ZXJpYWwsXG4gICAgICBsYWJlbDogJ2JvZHknLFxuICAgIH0pO1xuXG4gICAgdGhpcy5kcml2ZSA9IG5ldyBEaWZmZXJlbnRpYWxEcml2ZSh0aGlzLmNvbnRyb2xsZXIsIDAsIDEsIGxlZnRXaGVlbCwgcmlnaHRXaGVlbCwgdGhpcy5ib2R5KTtcblxuICAgIHRoaXMuc2Vydm9Bcm1zID0gW107XG4gICAgY29uc3QgY29tcG9zaXRlUGFydEJvZGllcyA9IFtdO1xuICAgIGNvbnN0IGNvbXBvc2l0ZVBhcnRDb25zdHJhaW50cyA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBwYXJ0IG9mIHBhcnRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBzd2l0Y2ggKHBhcnQudHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2xpbmUnOlxuICAgICAgICAgIGNhc2UgJ3RvdWNoJzpcbiAgICAgICAgICBjYXNlICdkaXN0YW5jZSc6IHtcbiAgICAgICAgICAgIC8vIGhhbmRsZWQgZWFyaWxlclxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgJ3NlcnZvX2FybSc6IHtcbiAgICAgICAgICAgIGNvbnN0IHsgdHlwZTogX3R5cGUsIHBvcnQsIHBpdm90QW5jaG9yLCBwaXZvdEFybSwgbGVuZ3RoLCBvYmplY3RzIH0gPSBwYXJ0O1xuXG4gICAgICAgICAgICBpZiAob2JqZWN0cy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGByb2JvdCBwYXJ0IG11c3QgaGF2ZSBleGFjdGx5IG9uZSBvYmplY3Q6ICR7cGFydC50eXBlfSAke3BvcnR9YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IFtvYmplY3RdID0gb2JqZWN0cztcbiAgICAgICAgICAgIGNvbnN0IHBhcnRCb2R5ID0gc2NoZW1hLmNyZWF0ZUJvZHkoXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAuLi5tYXRlcmlhbEdyYWJiZXIsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVHcmFiYmVyLFxuICAgICAgICAgICAgICAgIC4uLm9iamVjdCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgYXNzZXRzLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3Qgc2Vydm9Bcm0gPSBuZXcgU2Vydm9Bcm0oXG4gICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlcixcbiAgICAgICAgICAgICAgcG9ydCxcbiAgICAgICAgICAgICAgdGhpcy5ib2R5LFxuICAgICAgICAgICAgICBwaXZvdEFuY2hvcixcbiAgICAgICAgICAgICAgcGFydEJvZHksXG4gICAgICAgICAgICAgIHBpdm90QXJtLFxuICAgICAgICAgICAgICBsZW5ndGgsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb21wb3NpdGVQYXJ0Qm9kaWVzLnB1c2gocGFydEJvZHkpO1xuICAgICAgICAgICAgY29tcG9zaXRlUGFydENvbnN0cmFpbnRzLnB1c2goc2Vydm9Bcm0ucGl2b3RDb25zdHJhaW50LCBzZXJ2b0FybS5jb250cm9sQ29uc3RyYWludCk7XG4gICAgICAgICAgICB0aGlzLnNlcnZvQXJtcy5wdXNoKHNlcnZvQXJtKTtcblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ3Vua25vd24gcm9ib3QgcGFydDonLCBwYXJ0KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnJvYm90ID0gTWF0dGVyLkNvbXBvc2l0ZS5jcmVhdGUoe1xuICAgICAgYm9kaWVzOiBbdGhpcy5ib2R5LCAuLi5jb21wb3NpdGVQYXJ0Qm9kaWVzXSxcbiAgICAgIGNvbnN0cmFpbnRzOiBbLi4uY29tcG9zaXRlUGFydENvbnN0cmFpbnRzXSxcbiAgICAgIGxhYmVsOiAnYm90JyxcbiAgICB9KTtcblxuICAgIGNvbnN0IHBvc2UgPSB7IHgsIHksIGFuZ2xlIH07XG4gICAgdGhpcy5zZXRQb3NlKHBvc2UpO1xuICAgIHNldEluaXRpYWxQb3NlKHRoaXMuYm9keSk7XG4gICAgLy8gVE9ETyB0ZW1wb3JhcnlcbiAgfVxuXG4gIHNldFBvc2UoeyB4LCB5LCBhbmdsZSB9OiBQb3NlKSB7XG4gICAgTWF0dGVyLkJvZHkuc2V0UG9zaXRpb24odGhpcy5ib2R5LCB7IHgsIHkgfSk7XG4gICAgTWF0dGVyLkJvZHkuc2V0QW5nbGUodGhpcy5ib2R5LCBhbmdsZSk7XG4gIH1cblxuICBiZWZvcmVVcGRhdGUoKSB7XG4gICAgdGhpcy5kcml2ZS5iZWZvcmVVcGRhdGUoKTtcbiAgICBmb3IgKGNvbnN0IHNlcnZvQXJtIG9mIHRoaXMuc2Vydm9Bcm1zKSB7XG4gICAgICBzZXJ2b0FybS5iZWZvcmVVcGRhdGUoKTtcbiAgICB9XG4gIH1cblxuICByZXNldCgpIHtcbiAgICBmb3IgKGNvbnN0IHNlcnZvQXJtIG9mIHRoaXMuc2Vydm9Bcm1zKSB7XG4gICAgICBzZXJ2b0FybS5yZXNldCgpO1xuICAgIH1cbiAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IG1lcmdlIGZyb20gJ2xvZGFzaC5tZXJnZSc7XG5cbmltcG9ydCBNYXR0ZXIgZnJvbSAnbWF0dGVyLWpzJztcbmltcG9ydCAncGF0aHNlZyc7XG5pbXBvcnQgJy4uLy4uLy4uLy4uL2NsaWVudC9wb2x5LWRlY29tcC1wb2x5ZmlsbCc7XG5cbmltcG9ydCB7IFBvaW50LCBSb2JvdCwgc2NoZW1hIH0gZnJvbSAnLic7XG5cbnR5cGUgRXh0ZXJuYWxTZW5zb3JIYW5kbGVyID0gKFxuICBldmVudE5hbWU6ICdjb2xsaXNpb25TdGFydCcgfCAnY29sbGlzaW9uRW5kJyxcbiAgc2Vuc29yOiBNYXR0ZXIuQm9keSB8IE1hdHRlci5Db21wb3NpdGUsXG4gIG90aGVyOiBNYXR0ZXIuQm9keSB8IE1hdHRlci5Db21wb3NpdGUsXG4pID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+O1xuXG4vKipcbiAqIE1hbmFnZXMgYSByb2JvdCBzaW11bGF0aW9uLlxuICogVGhlIHNpbXVsYXRpb24gY2FuIGNvbnRhaW4gbXVsdGlwbGUgcm9ib3RzLCBhbmQgb2JqZWN0cyByZXByZXNlbnRpbmcgdGhlIGVudmlyb25tZW50LlxuICogVGhpcyBjbGFzcyBpcyByZXNwb25zaWJsZSBmb3IgbWFuYWdpbmcgdGhlIE1hdHRlci5qcyBzaW11bGF0aW9uIGxpZmVjeWNsZVxuICogYW5kIHRyaWdnZXJpbmcgcm9ib3QgYmVoYXZpb3IgKGFjY2VsZXJhdGluZyB0aGUgcm9ib3RzLCBzZXR0aW5nIHZhbHVlcyBmb3IgdGhlaXIgc2Vuc29ycykuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpbXVsYXRpb24ge1xuICB3b3JsZDogTWF0dGVyLldvcmxkO1xuICBlbmdpbmU6IE1hdHRlci5FbmdpbmU7XG4gIHJ1bm5lcjogTWF0dGVyLlJ1bm5lcjtcblxuICByZW5kZXI6IE1hdHRlci5SZW5kZXIgfCBudWxsID0gbnVsbDtcbiAgYm91bmRzOiB7IG1pbjogUG9pbnQsIG1heDogUG9pbnQgfSB8IG51bGwgPSBudWxsO1xuXG4gIC8vIGFzc2V0c1xuICBhc3NldHM6IE1hcDxzdHJpbmcsIFtzdHJpbmcsIFVpbnQ4QXJyYXldPiB8IG51bGwgPSBudWxsO1xuXG4gIC8vIHNwZWNpYWwgYm9kaWVzIGZvciBzaW11bGF0aW9uIGxvZ2lcbiAgcm9ib3RzOiBNYXA8c3RyaW5nLCBSb2JvdD4gPSBuZXcgTWFwKCk7XG4gIHNlbnNvcnNDYWNoZTogU2V0PE1hdHRlci5Cb2R5PiA9IG5ldyBTZXQoKTtcblxuICAvLyB0aW1lcnMgd2FpdGluZyBmb3Igc2ltdWxhdGVkIHRpbWUgdG8gcGFzc1xuICB0aW1lcnM6IFtudW1iZXIsICgpID0+IHZvaWRdW10gPSBbXTtcblxuICBleHRlcm5hbFNlbnNvckhhbmRsZXJzOiBFeHRlcm5hbFNlbnNvckhhbmRsZXJbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMud29ybGQgPSBNYXR0ZXIuV29ybGQuY3JlYXRlKHtcbiAgICAgIGdyYXZpdHk6IHsgeDogMCwgeTogMCB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5lbmdpbmUgPSBNYXR0ZXIuRW5naW5lLmNyZWF0ZSh7IHdvcmxkOiB0aGlzLndvcmxkIH0pO1xuICAgIHRoaXMucnVubmVyID0gTWF0dGVyLlJ1bm5lci5jcmVhdGUoKTtcblxuICAgIC8vIHJvYm90IHVwZGF0ZSBvbiBzaW11bGF0aW9uIHRpY2tcbiAgICBNYXR0ZXIuRXZlbnRzLm9uKHRoaXMucnVubmVyLCAnYmVmb3JlVXBkYXRlJywgKHsgdGltZXN0YW1wIH0pID0+IHtcbiAgICAgIGZvciAoY29uc3Qgcm9ib3Qgb2YgdGhpcy5yb2JvdHMudmFsdWVzKCkpIHtcbiAgICAgICAgcm9ib3QuYmVmb3JlVXBkYXRlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudGltZXJzID0gdGhpcy50aW1lcnMuZmlsdGVyKChbZGVhZGxpbmUsIHJlc29sdmVdKSA9PiB7XG4gICAgICAgIC8vIGtlZXAgdGltZXJzIHRoYXQgaGF2ZSBub3QgeWV0IGV4cGlyZWRcbiAgICAgICAgaWYgKGRlYWRsaW5lID4gdGltZXN0YW1wKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAvLyBwcm9jZXNzIHRoZSB0aW1lciBhbmQgcmVtb3ZlXG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBleHRyYWN0Qm9keUZvclNESyh7XG4gICAgICBpZCxcbiAgICAgIGxhYmVsLFxuICAgICAgcG9zaXRpb24sXG4gICAgICBzcGVlZCxcbiAgICAgIHZlbG9jaXR5LFxuICAgICAgYW5nbGUsXG4gICAgICBhbmd1bGFyU3BlZWQsXG4gICAgICBhbmd1bGFyVmVsb2NpdHksXG4gICAgICBib3VuZHMsXG4gICAgfTogTWF0dGVyLkJvZHkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkLFxuICAgICAgICBsYWJlbCxcbiAgICAgICAgcG9zaXRpb24sXG4gICAgICAgIHNwZWVkLFxuICAgICAgICB2ZWxvY2l0eSxcbiAgICAgICAgYW5nbGUsXG4gICAgICAgIGFuZ3VsYXJTcGVlZCxcbiAgICAgICAgYW5ndWxhclZlbG9jaXR5LFxuICAgICAgICBib3VuZHMsXG4gICAgICB9O1xuICAgIH1cbiAgICAvLyBjaGVjayBmb3IgbGluZSBkZXRlY3Rpb25cbiAgICBjb25zdCBjb2xsaXNpb25IYW5kbGVyID0gKHsgbmFtZSwgcGFpcnMgfSkgPT4ge1xuICAgICAgZm9yIChjb25zdCB7IGJvZHlBLCBib2R5QiB9IG9mIHBhaXJzKSB7XG4gICAgICAgIGZvciAoY29uc3QgaGFuZGxlciBvZiB0aGlzLmV4dGVybmFsU2Vuc29ySGFuZGxlcnMpIHtcbiAgICAgICAgICBoYW5kbGVyKG5hbWUsIGV4dHJhY3RCb2R5Rm9yU0RLKGJvZHlBKSwgZXh0cmFjdEJvZHlGb3JTREsoYm9keUIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZW5zb3IgPSBudWxsO1xuICAgICAgICBsZXQgb3RoZXIgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5zZW5zb3JzQ2FjaGUuaGFzKGJvZHlBKSkge1xuICAgICAgICAgIHNlbnNvciA9IGJvZHlBO1xuICAgICAgICAgIG90aGVyID0gYm9keUI7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zZW5zb3JzQ2FjaGUuaGFzKGJvZHlCKSkge1xuICAgICAgICAgIHNlbnNvciA9IGJvZHlCO1xuICAgICAgICAgIG90aGVyID0gYm9keUE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBzZW5zb3IucGx1Z2luLmhlZGdlaG9nLnNlbnNvci5oYW5kbGVDb2xsaXNpb24obmFtZSwgb3RoZXIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBNYXR0ZXIuRXZlbnRzLm9uKHRoaXMuZW5naW5lLCAnY29sbGlzaW9uU3RhcnQnLCBjb2xsaXNpb25IYW5kbGVyKTtcbiAgICBNYXR0ZXIuRXZlbnRzLm9uKHRoaXMuZW5naW5lLCAnY29sbGlzaW9uRW5kJywgY29sbGlzaW9uSGFuZGxlcik7XG4gIH1cblxuICBhc3luYyBzbGVlcChtaWxsaXM6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiAvKiBhd2FpdCAqLyBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgdGhpcy50aW1lcnMucHVzaChbdGhpcy5lbmdpbmUudGltaW5nLnRpbWVzdGFtcCArIG1pbGxpcywgcmVzb2x2ZV0pO1xuICAgIH0pO1xuICB9XG5cbiAganNvbkluaXQoXG4gICAge1xuICAgICAgY2VudGVyOiB7IHgsIHkgfSxcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zaGFkb3dcbiAgICAgIHdpZHRoLFxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvd1xuICAgICAgaGVpZ2h0LFxuICAgICAgb2JqZWN0cyxcbiAgICB9OiBzY2hlbWEuU2ltdWxhdGlvbixcbiAgICBhc3NldHM6IE1hcDxzdHJpbmcsIFtzdHJpbmcsIFVpbnQ4QXJyYXldPiB8IG51bGwgPSBudWxsLFxuICApIHtcbiAgICB0aGlzLmNsZWFyKGZhbHNlKTtcblxuICAgIHRoaXMuYXNzZXRzID0gYXNzZXRzO1xuXG4gICAgdGhpcy5sb29rQXQoe1xuICAgICAgbWluOiB7IHg6IHggLSB3aWR0aCAvIDIsIHk6IHkgLSBoZWlnaHQgLyAyIH0sXG4gICAgICBtYXg6IHsgeDogeCArIHdpZHRoIC8gMiwgeTogeSArIGhlaWdodCAvIDIgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuanNvbkFkZChvYmplY3RzKTtcbiAgfVxuXG4gIGpzb25BZGQob2JqZWN0czogc2NoZW1hLk9iamVjdFtdLCB0ZW1wb3Jhcnk6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgIGZvciAoY29uc3Qgb2JqZWN0IG9mIG9iamVjdHMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChvYmplY3QudHlwZSA9PT0gJ3JvYm90Jykge1xuICAgICAgICAgIGNvbnN0IHsgdHlwZTogX3R5cGUsIG5hbWUsIC4uLm9wdGlvbnMgfSA9IG9iamVjdDtcbiAgICAgICAgICAvLyBSb2JvdCBpcyBhZGRlZCBoZXJlXG4gICAgICAgICAgdGhpcy5hZGRSb2JvdChuYW1lLCBuZXcgUm9ib3Qob3B0aW9ucywgdGhpcy5hc3NldHMpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB0aGlzIGZhaWxzIGNsZWFubHkgaWYgdGhlIG9iamVjdCB0eXBlIGlzIG5vdCBrbm93blxuICAgICAgICAgIGNvbnN0IGJvZHkgPSBzY2hlbWEuY3JlYXRlQm9keShvYmplY3QsIHRoaXMuYXNzZXRzLCB0ZW1wb3JhcnkpO1xuXG4gICAgICAgICAgdGhpcy5hZGQoW2JvZHldKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZVNlbnNvckNhY2hlKCk7XG4gIH1cblxuICB1cGRhdGVCb2RpZXMob2JqZWN0czoge1tsYWJlbDogc3RyaW5nXTogYW55fSkge1xuICAgIGZvciAoY29uc3QgYm9keSBvZiB0aGlzLndvcmxkLmJvZGllcykge1xuICAgICAgY29uc3Qgc2V0dGluZ3MgPSBvYmplY3RzW2JvZHkubGFiZWxdO1xuICAgICAgaWYgKHNldHRpbmdzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgTWF0dGVyLkJvZHkuc2V0KGJvZHksIHtcbiAgICAgICAgICAuLi5zZXR0aW5ncyxcbiAgICAgICAgICAvLyBtZXJnZSByZW5kZXIsIGFzIHRoYXQgZW5jYXBzdWxhdGVzIG11bHRpcGxlIHNldHRpbmdzXG4gICAgICAgICAgcmVuZGVyOiB7XG4gICAgICAgICAgICAuLi5ib2R5LnJlbmRlcixcbiAgICAgICAgICAgIC4uLnNldHRpbmdzLnJlbmRlcixcbiAgICAgICAgICAgIHNwcml0ZToge1xuICAgICAgICAgICAgICAuLi5ib2R5LnJlbmRlci5zcHJpdGUsXG4gICAgICAgICAgICAgIC4uLnNldHRpbmdzLnJlbmRlci5zcHJpdGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gYWxzbyByZWN1cnNpdmVseSBtZXJnZSBwbHVnaW5zLCB3aGljaCBlbmNhcHN1bGF0ZSBhcmJpdHJhcnkgZGF0YVxuICAgICAgICAgIHBsdWdpbjogbWVyZ2Uoe30sIGJvZHkucGx1Z2luLCBzZXR0aW5ncy5wbHVnaW4pLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZW1vdmVCb2RpZXMobGFiZWxzOiBzdHJpbmdbXSkge1xuICAgIGNvbnN0IGJvZGllc1RvUmVtb3ZlID0gdGhpcy53b3JsZC5ib2RpZXMuZmlsdGVyKChib2R5KSA9PiBsYWJlbHMuaW5jbHVkZXMoYm9keS5sYWJlbCkpO1xuICAgIGZvciAoY29uc3QgYm9keSBvZiBib2RpZXNUb1JlbW92ZSkge1xuICAgICAgTWF0dGVyLldvcmxkLnJlbW92ZSh0aGlzLndvcmxkLCBib2R5KTtcbiAgICB9XG4gIH1cblxuICBtb3VudChjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgdGhpcy51bm1vdW50KCk7XG5cbiAgICBjb25zdCBkaW1lbnNpb24gPSB7fTtcbiAgICBpZiAodGhpcy5ib3VuZHMgIT09IG51bGwpIHtcbiAgICAgIGRpbWVuc2lvbi53aWR0aCA9IHRoaXMuYm91bmRzLm1heC54IC0gdGhpcy5ib3VuZHMubWluLng7XG4gICAgICBkaW1lbnNpb24uaGVpZ2h0ID0gdGhpcy5ib3VuZHMubWF4LnkgLSB0aGlzLmJvdW5kcy5taW4ueTtcbiAgICB9XG5cbiAgICAvLyBUT0RPIGNyZWF0aW5nIGEgUmVuZGVyIGluc3RhbmNlIHdpdGggYSBydW5uaW5nIEVuZ2luZSB3aWxsIGVycm9yLFxuICAgIC8vIGFzIHRoZSBFbmdpbmUncyBpbnRlcm5hbCBzdGF0ZSBpcyByZWN1cnNpdmUuXG4gICAgLy8gbW91bnQoKSBjYW4gdGhlcmVmb3JlIG5vdCBiZSBjYWxsZWQgYWZ0ZXIgaW5pdGlhbGx5IHN0YXJ0aW5nIHRoZSBzaW11bGF0aW9uXG4gICAgdGhpcy5yZW5kZXIgPSBNYXR0ZXIuUmVuZGVyLmNyZWF0ZSh7XG4gICAgICBjYW52YXMsXG4gICAgICBlbmdpbmU6IHRoaXMuZW5naW5lLFxuICAgICAgb3B0aW9uczogeyAuLi5kaW1lbnNpb24sIHdpcmVmcmFtZXM6IGZhbHNlLCBiYWNrZ3JvdW5kOiAnI2VlZWVlZScgfSxcbiAgICB9KTtcbiAgICBpZiAodGhpcy5ib3VuZHMgIT09IG51bGwpIE1hdHRlci5SZW5kZXIubG9va0F0KHRoaXMucmVuZGVyLCB0aGlzLmJvdW5kcyk7XG4gIH1cblxuICB1bm1vdW50KCkge1xuICAgIGlmICh0aGlzLnJlbmRlciAhPT0gbnVsbCkgdGhpcy5zdG9wUmVuZGVyKCk7XG4gICAgdGhpcy5yZW5kZXIgPSBudWxsO1xuICB9XG5cbiAgc3RhcnRNYXR0ZXIoKSB7XG4gICAgTWF0dGVyLlJ1bm5lci5ydW4odGhpcy5ydW5uZXIsIHRoaXMuZW5naW5lKTtcbiAgfVxuXG4gIHN0YXJ0UmVuZGVyKCkge1xuICAgIE1hdHRlci5SZW5kZXIucnVuKHRoaXMucmVuZGVyKTtcbiAgfVxuXG4gIHN0b3BNYXR0ZXIoKSB7XG4gICAgTWF0dGVyLlJ1bm5lci5zdG9wKHRoaXMucnVubmVyKTtcbiAgfVxuXG4gIHN0b3BSZW5kZXIoKSB7XG4gICAgTWF0dGVyLlJlbmRlci5zdG9wKHRoaXMucmVuZGVyKTtcbiAgfVxuXG4gIGxvb2tBdChib3VuZHM6IHsgbWluOiBQb2ludCwgbWF4OiBQb2ludCB9KSB7XG4gICAgdGhpcy5ib3VuZHMgPSBib3VuZHM7XG4gICAgaWYgKHRoaXMucmVuZGVyICE9PSBudWxsKSBNYXR0ZXIuUmVuZGVyLmxvb2tBdCh0aGlzLnJlbmRlciwgYm91bmRzKTtcbiAgfVxuXG4gIGFkZChib2RpZXM6IChNYXR0ZXIuQm9keSB8IE1hdHRlci5Db21wb3NpdGUpW10pIHtcbiAgICBNYXR0ZXIuV29ybGQuYWRkKHRoaXMud29ybGQsIGJvZGllcyk7XG4gIH1cblxuICBhZGRTZW5zb3JIYW5kbGVyKGhhbmRsZXI6IEV4dGVybmFsU2Vuc29ySGFuZGxlcikge1xuICAgIGlmICghdGhpcy5leHRlcm5hbFNlbnNvckhhbmRsZXJzLmluY2x1ZGVzKGhhbmRsZXIpKSB7XG4gICAgICB0aGlzLmV4dGVybmFsU2Vuc29ySGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbiAgICB9XG4gIH1cblxuICByZW1vdmVTZW5zb3JIYW5kbGVyKGhhbmRsZXI6IEV4dGVybmFsU2Vuc29ySGFuZGxlcikge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5leHRlcm5hbFNlbnNvckhhbmRsZXJzLmluZGV4T2YoaGFuZGxlcik7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgdGhpcy5leHRlcm5hbFNlbnNvckhhbmRsZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG5cbiAgYWRkUm9ib3QobmFtZTogc3RyaW5nLCByb2JvdDogUm9ib3QpIHtcbiAgICB0aGlzLnJvYm90cy5zZXQobmFtZSwgcm9ib3QpO1xuICAgIHRoaXMuYWRkKHJvYm90LnJvYm90KTtcbiAgfVxuXG4gIC8vIHRoaXMgbWV0aG9kIGhhcyB0byBiZSBjYWxsZWQgYWZ0ZXIgYWRkaW5nIG9uZSBvciBtb3JlIHJvYm90cyB0byB0aGVcbiAgLy8gc2ltdWxhdGlvbiwgYmVmb3JlIHVzaW5nIGFueSBuZXcgcm9ib3QncyBzZW5zb3JzLlxuICB1cGRhdGVTZW5zb3JDYWNoZSgpIHtcbiAgICB0aGlzLnNlbnNvcnNDYWNoZS5jbGVhcigpO1xuICAgIGZvciAoY29uc3Qgcm9ib3Qgb2YgdGhpcy5yb2JvdHMudmFsdWVzKCkpIHtcbiAgICAgIGZvciAoY29uc3Qgc2Vuc29yIG9mIHJvYm90LmNvbGxpc2lvblNlbnNvcnMpIHtcbiAgICAgICAgdGhpcy5zZW5zb3JzQ2FjaGUuYWRkKHNlbnNvci5zZW5zb3JCb2R5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjbGVhcihrZWVwU3RhdGljOiBib29sZWFuKSB7XG4gICAgTWF0dGVyLkNvbXBvc2l0ZS5jbGVhcih0aGlzLndvcmxkLCBrZWVwU3RhdGljKTtcbiAgICB0aGlzLnJvYm90cy5jbGVhcigpO1xuICAgIHRoaXMudXBkYXRlU2Vuc29yQ2FjaGUoKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIGNvbnN0IGJvZGllc1RvUmVtb3ZlID0gW107XG5cbiAgICBmb3IgKGNvbnN0IGNvbXBvc2l0ZSBvZiBbXG4gICAgICAuLi5NYXR0ZXIuQ29tcG9zaXRlLmFsbENvbXBvc2l0ZXModGhpcy53b3JsZCksXG4gICAgICAuLi5NYXR0ZXIuQ29tcG9zaXRlLmFsbEJvZGllcyh0aGlzLndvcmxkKSxcbiAgICBdKSB7XG4gICAgICBpZiAoY29tcG9zaXRlLnBsdWdpbi5oZWRnZWhvZz8uaW5pdGlhbFBvc2UpIHtcbiAgICAgICAgY29uc3QgeyB4LCB5LCBhbmdsZSB9ID0gY29tcG9zaXRlLnBsdWdpbi5oZWRnZWhvZy5pbml0aWFsUG9zZTtcbiAgICAgICAgTWF0dGVyLkJvZHkuc2V0UG9zaXRpb24oY29tcG9zaXRlLCB7IHgsIHkgfSk7XG4gICAgICAgIE1hdHRlci5Cb2R5LnNldEFuZ2xlKGNvbXBvc2l0ZSwgYW5nbGUpO1xuICAgICAgICBNYXR0ZXIuQm9keS5zZXRWZWxvY2l0eShjb21wb3NpdGUsIHsgeDogMCwgeTogMCB9KTtcbiAgICAgICAgTWF0dGVyLkJvZHkuc2V0QW5ndWxhclZlbG9jaXR5KGNvbXBvc2l0ZSwgMCk7XG4gICAgICB9XG4gICAgICBpZiAoY29tcG9zaXRlLnBsdWdpbi5oZWRnZWhvZz8udGVtcG9yYXJ5KSB7XG4gICAgICAgIGJvZGllc1RvUmVtb3ZlLnB1c2goY29tcG9zaXRlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBib2R5IG9mIGJvZGllc1RvUmVtb3ZlKSB7XG4gICAgICBNYXR0ZXIuV29ybGQucmVtb3ZlKHRoaXMud29ybGQsIGJvZHkpO1xuICAgIH1cblxuICAgIGZvciAoY29uc3Qgcm9ib3Qgb2YgdGhpcy5yb2JvdHMudmFsdWVzKCkpIHtcbiAgICAgIHJvYm90LnJlc2V0KCk7XG4gICAgfVxuICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgTWF0dGVyIGZyb20gJ21hdHRlci1qcyc7XG5cbmltcG9ydCB7IFBvaW50LCBIZWRnZWhvZyB9IGZyb20gJy4nO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L3ByZWZlci1kZWZhdWx0LWV4cG9ydFxuZXhwb3J0IGNsYXNzIERpZmZlcmVudGlhbERyaXZlIHtcbiAgY29udHJvbGxlcjogSGVkZ2Vob2c7XG5cbiAgbGVmdFBvcnQ6IG51bWJlcjtcbiAgcmlnaHRQb3J0OiBudW1iZXI7XG5cbiAgbGVmdFdoZWVsOiBNYXR0ZXIuQm9keTtcbiAgcmlnaHRXaGVlbDogTWF0dGVyLkJvZHk7XG4gIGJvZHk6IE1hdHRlci5Cb2R5O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGNvbnRyb2xsZXI6IEhlZGdlaG9nLFxuICAgIGxlZnRQb3J0OiBudW1iZXIsXG4gICAgcmlnaHRQb3J0OiBudW1iZXIsXG4gICAgbGVmdFdoZWVsOiBNYXR0ZXIuQm9keSxcbiAgICByaWdodFdoZWVsOiBNYXR0ZXIuQm9keSxcbiAgICBib2R5OiBNYXR0ZXIuQm9keSxcbiAgKSB7XG4gICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB0aGlzLmxlZnRQb3J0ID0gbGVmdFBvcnQ7XG4gICAgdGhpcy5yaWdodFBvcnQgPSByaWdodFBvcnQ7XG4gICAgdGhpcy5sZWZ0V2hlZWwgPSBsZWZ0V2hlZWw7XG4gICAgdGhpcy5yaWdodFdoZWVsID0gcmlnaHRXaGVlbDtcbiAgICB0aGlzLmJvZHkgPSBib2R5O1xuICB9XG5cbiAgYXBwbHlGb3JjZShwb3M6IFBvaW50LCBmb3JjZTogbnVtYmVyLCBjb3M6IG51bWJlciwgc2luOiBudW1iZXIpIHtcbiAgICBNYXR0ZXIuQm9keS5hcHBseUZvcmNlKHRoaXMuYm9keSwgcG9zLCB7XG4gICAgICB4OiBmb3JjZSAqIGNvcyxcbiAgICAgIHk6IGZvcmNlICogc2luLFxuICAgIH0pO1xuICB9XG5cbiAgYmVmb3JlVXBkYXRlKCkge1xuICAgIGNvbnN0IGxQb3MgPSB0aGlzLmxlZnRXaGVlbC5wb3NpdGlvbjtcbiAgICBjb25zdCByUG9zID0gdGhpcy5yaWdodFdoZWVsLnBvc2l0aW9uO1xuICAgIGNvbnN0IGR4ID0gbFBvcy54IC0gclBvcy54O1xuICAgIGNvbnN0IGR5ID0gbFBvcy55IC0gclBvcy55O1xuICAgIGNvbnN0IGh5cG90ID0gTWF0aC5oeXBvdChkeCwgZHkpO1xuXG4gICAgLy8gY29zaW5lIGFuZCBzaW5lIG9mIHRoZSBhbmdsZSBpbiB3aGljaCB0aGUgZm9yY2VzIGFyZSBkaXJlY3RlZFxuICAgIC8vIHRoaXMgaXMgbm9ybWFsIHRvIHRoZSBheGlzIG9mIHRoZSB3aGVlbHMsIHRoZXJlZm9yZSBbLWR5LCBkeF0gaW5zdGVhZCBvZiBbZHgsIGR5XVxuICAgIGNvbnN0IGNvcyA9IC1keSAvIGh5cG90O1xuICAgIGNvbnN0IHNpbiA9IGR4IC8gaHlwb3Q7XG5cbiAgICB0aGlzLmFwcGx5Rm9yY2UobFBvcywgdGhpcy5jb250cm9sbGVyLmdldE1vdG9yKHRoaXMubGVmdFBvcnQpIC8gODAwLCBjb3MsIHNpbik7XG4gICAgdGhpcy5hcHBseUZvcmNlKHJQb3MsIHRoaXMuY29udHJvbGxlci5nZXRNb3Rvcih0aGlzLnJpZ2h0UG9ydCkgLyA4MDAsIGNvcywgc2luKTtcbiAgfVxufVxuIiwiLy8gd29yayBhcm91bmQgaHR0cHM6Ly9naXRodWIuY29tL2Jlbm1vc2hlci9lc2xpbnQtcGx1Z2luLWltcG9ydC9pc3N1ZXMvMTc1M1xuaW1wb3J0ICogYXMgc2NoZW1hIGZyb20gJy4vc2NoZW1hJztcblxuZXhwb3J0IHsgc2NoZW1hIH07XG5leHBvcnQgeyBQb2ludCwgUG9zZSB9IGZyb20gJy4vc2NoZW1hJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSGVkZ2Vob2cgfSBmcm9tICcuL0hlZGdlaG9nJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgUm9ib3QgfSBmcm9tICcuL1JvYm90JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU2ltdWxhdGlvbiB9IGZyb20gJy4vU2ltdWxhdGlvbic7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgTWF0dGVyIGZyb20gJ21hdHRlci1qcyc7XG5cbmltcG9ydCB0eXBlIHsgUG9zZSB9IGZyb20gJy4vbWlzYyc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlU3ByaXRlKFxuICBzcHJpdGU6IHsgdGV4dHVyZTogc3RyaW5nIHwgdm9pZCB9IHwgdm9pZCxcbiAgYXNzZXRzOiBNYXA8c3RyaW5nLCBbc3RyaW5nLCBVaW50OEFycmF5XT4gfCBudWxsID0gbnVsbCxcbikge1xuICBpZiAoc3ByaXRlPy50ZXh0dXJlICYmIHNwcml0ZS50ZXh0dXJlLnN0YXJ0c1dpdGgoJ2Fzc2V0OicpKSB7XG4gICAgaWYgKGFzc2V0cyA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBUcnlpbmcgdG8gdXNlICcke3Nwcml0ZS50ZXh0dXJlfScsIGJ1dCB0aGVyZSdzIG5vIGFzc2V0IG1hcGApO1xuICAgIH1cbiAgICAvLyB0aGUgcmVzdWx0IG1heSBiZSB1bmRlZmluZWQsIHdoaWNoIGlzIGZpbmUgd2l0aCB1cyxcbiAgICAvLyBiZWNhdXNlIHRoYXQgbWVhbnMgTWF0dGVyLmpzIHdpbGwgbm90IGZhaWwgbG9hZGluZyBhIHRleHR1cmVcbiAgICBzcHJpdGUudGV4dHVyZSA9IGFzc2V0cy5nZXQoc3ByaXRlLnRleHR1cmUpPy5bMF07XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEluaXRpYWxQb3NlKGJvZHk6IE1hdHRlci5Cb2R5LCBwb3NlOiBQb3NlIHwgdm9pZCkge1xuICBpZiAoIWJvZHkucGx1Z2luLmhlZGdlaG9nKSBib2R5LnBsdWdpbi5oZWRnZWhvZyA9IHt9O1xuICBib2R5LnBsdWdpbi5oZWRnZWhvZy5pbml0aWFsUG9zZSA9IHBvc2UgPz8geyAuLi5ib2R5LnBvc2l0aW9uLCBhbmdsZTogYm9keS5hbmdsZSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0VGVtcG9yYXJ5KGJvZHk6IE1hdHRlci5Cb2R5LCB0ZW1wb3Jhcnk6IGJvb2xlYW4pIHtcbiAgaWYgKCFib2R5LnBsdWdpbi5oZWRnZWhvZykgYm9keS5wbHVnaW4uaGVkZ2Vob2cgPSB7fTtcbiAgYm9keS5wbHVnaW4uaGVkZ2Vob2cudGVtcG9yYXJ5ID0gdGVtcG9yYXJ5O1xufVxuIiwiLy8gQGZsb3dcblxuZXhwb3J0ICogZnJvbSAnLi9taXNjJztcbmV4cG9ydCAqIGZyb20gJy4vc2ltdWxhdGlvbic7XG5leHBvcnQgKiBmcm9tICcuL3NldHRpbmdzJztcbmV4cG9ydCAqIGZyb20gJy4vb2JqZWN0cyc7XG5leHBvcnQgKiBmcm9tICcuL3JvYm90JztcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBNYXR0ZXIgZnJvbSAnbWF0dGVyLWpzJztcblxuaW1wb3J0IHR5cGUge1xuICBUcmFuc2xhdGlvbixcbiAgUm90YXRpb24sXG4gIFJlbmRlckNvbG9yLFxuICBSZW5kZXJWaXNpYmlsaXR5LFxuICBSZW5kZXJTcHJpdGUsXG4gIFN0YXRpYyxcbiAgU2Vuc29yLFxuICBMaW5lLFxuICBEZW5zaXR5LFxuICBGcmljdGlvbkFpcixcbiAgTGFiZWwsXG59IGZyb20gJy4vc2V0dGluZ3MnO1xuaW1wb3J0IHsgcmVzb2x2ZVNwcml0ZSwgc2V0SW5pdGlhbFBvc2UsIHNldFRlbXBvcmFyeSB9IGZyb20gJy4vaGVscGVycyc7XG5cbnR5cGUgT2JqZWN0Q29uZmlnID0ge3xcbiAgLi4uVHJhbnNsYXRpb24sXG4gIC4uLlJvdGF0aW9uLFxuICByZW5kZXI/OiB7XG4gICAgLi4uUmVuZGVyQ29sb3IsXG4gICAgLi4uUmVuZGVyVmlzaWJpbGl0eSxcbiAgICAuLi5SZW5kZXJTcHJpdGUsXG4gIH0sXG4gIC4uLlN0YXRpYyxcbiAgLi4uU2Vuc29yLFxuICAuLi5MaW5lLFxuICAuLi5EZW5zaXR5LFxuICAuLi5GcmljdGlvbkFpcixcbiAgLi4uTGFiZWwsXG58fTtcblxuZXhwb3J0IHR5cGUgUmVjdGFuZ2xlID0ge1xuICB0eXBlOiAncmVjdGFuZ2xlJyxcbiAgd2lkdGg6IG51bWJlcixcbiAgaGVpZ2h0OiBudW1iZXIsXG4gIC4uLk9iamVjdENvbmZpZyxcbn07XG5cbmV4cG9ydCB0eXBlIENpcmNsZSA9IHtcbiAgdHlwZTogJ2NpcmNsZScsXG4gIHJhZGl1czogbnVtYmVyLFxuICAuLi5PYmplY3RDb25maWcsXG59O1xuXG5leHBvcnQgdHlwZSBTdmcgPSB7XG4gIHR5cGU6ICdzdmcnLFxuICBzcmM6IHN0cmluZyxcbiAgc2NhbGU6IG51bWJlcixcbiAgZ3JhbnVsYXJpdHk6IG51bWJlcixcbiAgLi4uT2JqZWN0Q29uZmlnLFxufTtcblxuZXhwb3J0IHR5cGUgT2JqZWN0ID0gUmVjdGFuZ2xlIHwgQ2lyY2xlIHwgU3ZnO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQm9keShcbiAgY29uZmlnOiBPYmplY3QsXG4gIGFzc2V0czogTWFwPHN0cmluZywgW3N0cmluZywgVWludDhBcnJheV0+IHwgbnVsbCA9IG51bGwsXG4gIHRlbXBvcmFyeTogYm9vbGVhbiA9IGZhbHNlLFxuKTogTWF0dGVyLkJvZHkge1xuICBsZXQgYm9keTtcblxuICBzd2l0Y2ggKGNvbmZpZy50eXBlKSB7XG4gICAgY2FzZSAncmVjdGFuZ2xlJzoge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvd1xuICAgICAgY29uc3QgeyB0eXBlOiBfdHlwZSwgd2lkdGgsIGhlaWdodCwgLi4ub3B0aW9ucyB9ID0gY29uZmlnO1xuICAgICAgcmVzb2x2ZVNwcml0ZShvcHRpb25zPy5yZW5kZXI/LnNwcml0ZSwgYXNzZXRzKTtcblxuICAgICAgYm9keSA9IE1hdHRlci5Cb2RpZXMucmVjdGFuZ2xlKDAsIDAsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgJ2NpcmNsZSc6IHtcbiAgICAgIGNvbnN0IHsgdHlwZTogX3R5cGUsIHJhZGl1cywgLi4ub3B0aW9ucyB9ID0gY29uZmlnO1xuICAgICAgcmVzb2x2ZVNwcml0ZShvcHRpb25zPy5yZW5kZXI/LnNwcml0ZSwgYXNzZXRzKTtcblxuICAgICAgYm9keSA9IE1hdHRlci5Cb2RpZXMuY2lyY2xlKDAsIDAsIHJhZGl1cywgb3B0aW9ucyk7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSAnc3ZnJzoge1xuICAgICAgY29uc3Qge1xuICAgICAgICB0eXBlOiBfdHlwZSxcbiAgICAgICAgc3JjLFxuICAgICAgICBzY2FsZSxcbiAgICAgICAgZ3JhbnVsYXJpdHksXG4gICAgICAgIHBvc2l0aW9uOiB7IHgsIHkgfSxcbiAgICAgICAgYW5nbGUsXG4gICAgICAgIC4uLm9wdGlvbnNcbiAgICAgIH0gPSBjb25maWc7XG4gICAgICByZXNvbHZlU3ByaXRlKG9wdGlvbnM/LnJlbmRlcj8uc3ByaXRlLCBhc3NldHMpO1xuXG4gICAgICBpZiAoYXNzZXRzID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVHJ5aW5nIHRvIHVzZSAnJHtzcmN9JywgYnV0IHRoZXJlJ3Mgbm8gYXNzZXQgbWFwYCk7XG4gICAgICB9XG4gICAgICBjb25zdCBzdmdCdWZmZXIgPSBhc3NldHMuZ2V0KHNyYyk/LlsxXSA/PyBudWxsO1xuICAgICAgaWYgKHN2Z0J1ZmZlciA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGFzc2V0IG5vdCBmb3VuZDogJyR7c3JjfSdgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN2Z1RleHQgPSBuZXcgVGV4dERlY29kZXIoJ3V0Zi04JykuZGVjb2RlKHN2Z0J1ZmZlcik7XG4gICAgICBjb25zdCBzdmdEb2N1bWVudCA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoc3ZnVGV4dCwgJ2ltYWdlL3N2Zyt4bWwnKTtcblxuICAgICAgY29uc3QgcGF0aHMgPSBBcnJheS5mcm9tKHN2Z0RvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYXRoJykpO1xuICAgICAgY29uc3QgdmVydGV4U2V0cyA9IHBhdGhzLm1hcCgocGF0aCkgPT5cbiAgICAgICAgTWF0dGVyLlZlcnRpY2VzLnNjYWxlKE1hdHRlci5TdmcucGF0aFRvVmVydGljZXMocGF0aCwgZ3JhbnVsYXJpdHkpLCBzY2FsZSwgc2NhbGUpLFxuICAgICAgKTtcblxuICAgICAgYm9keSA9IE1hdHRlci5Cb2RpZXMuZnJvbVZlcnRpY2VzKHgsIHksIHZlcnRleFNldHMsIG9wdGlvbnMsIHRydWUpO1xuICAgICAgTWF0dGVyLkJvZHkuc2V0QW5nbGUoYm9keSwgYW5nbGUpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgJ3JvYm90Jzoge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBjcmVhdGVCb2R5IGNhbiBub3QgaGFuZGxlIHJvYm90c2ApO1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHVua25vd24gc2ltdWxhdGlvbiBvYmplY3Q6ICR7Y29uZmlnLnR5cGV9YCk7XG4gICAgfVxuICB9XG5cbiAgc2V0SW5pdGlhbFBvc2UoYm9keSk7XG4gIHNldFRlbXBvcmFyeShib2R5LCB0ZW1wb3JhcnkpO1xuXG4gIHJldHVybiBib2R5O1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IE1hdHRlciBmcm9tICdtYXR0ZXItanMnO1xuXG5pbXBvcnQgeyBIZWRnZWhvZyB9IGZyb20gJy4nO1xuXG4vKipcbiAqIEEgY29sbGlzaW9uIHNlbnNvciBzZW5zZXMgaXRzIGVudmlyb25tZW50IGJ5IGtlZXBpbmcgdHJhY2sgb2Ygd2hldGhlciBpdCBjdXJyZW50bHkgY29sbGlkZXMgd2l0aFxuICogb3RoZXIgc2ltdWxhdGlvbiBvYmplY3RzLlxuICogQSBzZW5zb3IgY2FuIHJlc3RyaWN0IHRoZSBjbGFzcyBvZiByZWxldmFudCBjb2xsaXNpb24gYm9kaWVzLCBhbmQgaGFuZGxlIGl0cyBjb2xsaXNpb24gc3RhdGVcbiAqIGluIGFueSB3YXksIGJ1dCB1c3VhbGx5IGJ5IHNldHRpbmcgYSBzZW5zb3IgdmFsdWUgb24gaXRzIGNvbnRyb2xsZXIgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb2xsaXNpb25TZW5zb3Ige1xuICBzZW5zb3JCb2R5OiBNYXR0ZXIuQm9keTtcbiAgY29sbGlzaW9uQ291bnQgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKHNlbnNvckJvZHk6IE1hdHRlci5Cb2R5KSB7XG4gICAgdGhpcy5zZW5zb3JCb2R5ID0gc2Vuc29yQm9keTtcblxuICAgIHRoaXMuc2Vuc29yQm9keS5wbHVnaW4uaGVkZ2Vob2cgPSB7XG4gICAgICBzZW5zb3I6IHRoaXMsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGJvZHkgdGhpcyBzZW5zb3IgaXMgY29sbGlkaW5nIHdpdGggaXMgcmVsZXZhbnQgZm9yIHRoZSBzZW5zb3IuXG4gICAqIEZvciBleGFtcGxlLCBhIHRvdWNoIHNlbnNvciB3b3VsZCBub3Qgd2FudCB0byBkZXRlY3QgY29sbGlzaW9ucyB3aXRoIHNlbnNvciBib2RpZXMsXG4gICAqIGFzIHRoZXkgYXJlIGludGFuZ2libGVcbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gIG1hdGNoZXMoX290aGVyOiBNYXR0ZXIuQm9keSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHNlbnNvciBzdGF0ZSBhZnRlciBoYW5kbGluZyBhIGNvbGxpc2lvbi5cbiAgICovXG4gIHVwZGF0ZSgpIHt9XG5cbiAgaXNDb2xsaWRpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29sbGlzaW9uQ291bnQgPiAwO1xuICB9XG5cbiAgaGFuZGxlQ29sbGlzaW9uKGV2ZW50TmFtZTogJ2NvbGxpc2lvblN0YXJ0JyB8ICdjb2xsaXNpb25FbmQnLCBvdGhlcjogTWF0dGVyLkJvZHkpIHtcbiAgICBpZiAoIXRoaXMubWF0Y2hlcyhvdGhlcikpIHJldHVybjtcblxuICAgIHN3aXRjaCAoZXZlbnROYW1lKSB7XG4gICAgICBjYXNlICdjb2xsaXNpb25TdGFydCc6XG4gICAgICAgIHRoaXMuY29sbGlzaW9uQ291bnQgKz0gMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjb2xsaXNpb25FbmQnOlxuICAgICAgICB0aGlzLmNvbGxpc2lvbkNvdW50IC09IDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcbiAgICAgICAgdGhyb3cgJ3VucmVhY2hhYmxlJztcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG59XG5cbi8qKlxuICogU2ltcGxlIGNvbGxpc2lvbiBzZW5zb3JzIGFyZSBhc3NvY2lhdGVkIHdpdGggYSBzaW5nbGUgc2Vuc29yIHBvcnQgYW5kIHVwZGF0ZSB0aGF0IHNlbnNvciB3aXRoXG4gKiBvbmUgb2YgdHdvIHZhbHVlcywgZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlcmUgaXMgYSBjb2xsaXNpb24gb3Igbm90LlxuICovXG5leHBvcnQgY2xhc3MgU2ltcGxlQ29sbGlzaW9uU2Vuc29yIGV4dGVuZHMgQ29sbGlzaW9uU2Vuc29yIHtcbiAgY29udHJvbGxlcjogSGVkZ2Vob2c7XG5cbiAgcG9ydDogbnVtYmVyO1xuICAvLyB0aGUgc2Vuc29yIHZhbHVlIHdoZW4gdGhlIHNlbnNvciBib2R5IGlzIG5vdCBjb2xsaWRlZCBvciBjb2xsaWRlZCwgcmVzcGVjdGl2ZWx5XG4gIHZhbHVlczogW251bWJlciwgbnVtYmVyXTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBjb250cm9sbGVyOiBIZWRnZWhvZyxcbiAgICBzZW5zb3JCb2R5OiBNYXR0ZXIuQm9keSxcbiAgICBwb3J0OiBudW1iZXIsXG4gICAgdmFsdWVzOiBbbnVtYmVyLCBudW1iZXJdLFxuICApIHtcbiAgICBzdXBlcihzZW5zb3JCb2R5KTtcblxuICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgdGhpcy5wb3J0ID0gcG9ydDtcbiAgICB0aGlzLnZhbHVlcyA9IHZhbHVlcztcblxuICAgIC8vIFRPRE8gYWRkIG5vaXNlIHNvdXJjZSB0byBzZW5zb3JcblxuICAgIC8vIHNldCBpbml0aWFsIHZhbHVlIHRvIG5vdCBjb2xsaWRlZFxuICAgIHRoaXMudXBkYXRlKGZhbHNlKTtcbiAgfVxuXG4gIHVwZGF0ZShjb2xsaWRpbmc6IGJvb2xlYW4gfCB2b2lkKSB7XG4gICAgaWYgKGNvbGxpZGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb2xsaWRpbmcgPSB0aGlzLmlzQ29sbGlkaW5nKCk7XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIHNlbnNvciBib2R5IHN0eWxlXG4gICAgdGhpcy5zZW5zb3JCb2R5LnJlbmRlci5maWxsU3R5bGUgPSBjb2xsaWRpbmcgPyAnI2ZmYTUwMCcgOiAnIzc3Nzc3Nyc7XG5cbiAgICBjb25zdCB2YWx1ZSA9IGNvbGxpZGluZyA/IHRoaXMudmFsdWVzWzFdIDogdGhpcy52YWx1ZXNbMF07XG4gICAgdGhpcy5jb250cm9sbGVyLnNldFNlbnNvcih0aGlzLnBvcnQsIHZhbHVlKTtcbiAgfVxufVxuXG4vKipcbiAqIEEgdG91Y2ggc2Vuc29yIGRldGVjdHMgY29sbGlzaW9ucyB3aXRoIHRhbmdpYmxlIGJvZGllcyBvZiB0aGUgc2ltdWxhdGlvblxuICovXG5leHBvcnQgY2xhc3MgVG91Y2hTZW5zb3IgZXh0ZW5kcyBTaW1wbGVDb2xsaXNpb25TZW5zb3Ige1xuICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyOiBIZWRnZWhvZywgc2Vuc29yQm9keTogTWF0dGVyLkJvZHksIHBvcnQ6IG51bWJlcikge1xuICAgIHN1cGVyKGNvbnRyb2xsZXIsIHNlbnNvckJvZHksIHBvcnQsIFs0MDk1LCAwXSk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuICBtYXRjaGVzKG90aGVyOiBNYXR0ZXIuQm9keSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhb3RoZXIuaXNTZW5zb3I7XG4gIH1cbn1cblxuLyoqXG4gKiBBIGxpbmUgc2Vuc29yIGRldGVjdHMgY29sbGlzaW9ucyB3aXRoIGxpbmVzIGluIHRoZSBzaW11bGF0aW9uLCBhcyBpbmRpY2F0ZWQgYnkgdGhlIHBsdWdpblxuICogcHJvcGVyeSBgaGVkZ2Vob2cuaXNMaW5lYC5cbiAqL1xuZXhwb3J0IGNsYXNzIExpbmVTZW5zb3IgZXh0ZW5kcyBTaW1wbGVDb2xsaXNpb25TZW5zb3Ige1xuICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyOiBIZWRnZWhvZywgc2Vuc29yQm9keTogTWF0dGVyLkJvZHksIHBvcnQ6IG51bWJlcikge1xuICAgIHN1cGVyKGNvbnRyb2xsZXIsIHNlbnNvckJvZHksIHBvcnQsIFsxMDAsIDQwMDBdKTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gIG1hdGNoZXMob3RoZXI6IE1hdHRlci5Cb2R5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIG90aGVyLnBsdWdpbi5oZWRnZWhvZz8uaXNMaW5lID8/IGZhbHNlO1xuICB9XG59XG5cbmNsYXNzIERpc3RhbmNlU2Vuc29yU2VnbWVudCBleHRlbmRzIENvbGxpc2lvblNlbnNvciB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICBzZW5zb3I6IERpc3RhbmNlU2Vuc29yO1xuXG4gIGRpc3RhbmNlOiBudW1iZXI7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gIGNvbnN0cnVjdG9yKHNlbnNvcjogRGlzdGFuY2VTZW5zb3IsIHNlbnNvckJvZHk6IE1hdHRlci5Cb2R5LCBkaXN0YW5jZTogbnVtYmVyKSB7XG4gICAgc3VwZXIoc2Vuc29yQm9keSk7XG5cbiAgICB0aGlzLnNlbnNvciA9IHNlbnNvcjtcbiAgICB0aGlzLmRpc3RhbmNlID0gZGlzdGFuY2U7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuICBtYXRjaGVzKG90aGVyOiBNYXR0ZXIuQm9keSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhb3RoZXIuaXNTZW5zb3I7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgdGhpcy5zZW5zb3IudXBkYXRlKCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERpc3RhbmNlU2Vuc29yIHtcbiAgY29udHJvbGxlcjogSGVkZ2Vob2c7XG5cbiAgcG9ydDogbnVtYmVyO1xuICAvLyBzZWdtZW50cyBhcmUgb3JkZXJlZCBuZWFyIHRvIGZhciwgc28gdGhlIGZpcnN0IGNvbGxpZGluZyBzZWdtZW50IGRldGVybWluZXMgdGhlIGRpc3RhbmNlXG4gIHNlZ21lbnRzOiBEaXN0YW5jZVNlbnNvclNlZ21lbnRbXTtcbiAgbWF4RGlzdGFuY2U6IG51bWJlcjtcblxuICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyOiBIZWRnZWhvZywgcG9ydDogbnVtYmVyLCBzZWdtZW50czogW01hdHRlci5Cb2R5LCBudW1iZXJdW10pIHtcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgIHRoaXMucG9ydCA9IHBvcnQ7XG4gICAgdGhpcy5zZWdtZW50cyA9IHNlZ21lbnRzLm1hcChcbiAgICAgIChbc2Vuc29yQm9keSwgZGlzdGFuY2VdKSA9PiBuZXcgRGlzdGFuY2VTZW5zb3JTZWdtZW50KHRoaXMsIHNlbnNvckJvZHksIGRpc3RhbmNlKSxcbiAgICApO1xuICAgIHRoaXMubWF4RGlzdGFuY2UgPSB0aGlzLnNlZ21lbnRzW3RoaXMuc2VnbWVudHMubGVuZ3RoIC0gMV0uZGlzdGFuY2UgKyAxO1xuXG4gICAgLy8gVE9ETyBhZGQgbm9pc2Ugc291cmNlIHRvIHNlbnNvclxuXG4gICAgLy8gc2V0IGluaXRpYWwgdmFsdWUgdG8gbWF4aW11bSBkaXN0YW5jZVxuICAgIHRoaXMudXBkYXRlKHRoaXMubWF4RGlzdGFuY2UpO1xuICB9XG5cbiAgZ2V0RGlzdGFuY2UoKSB7XG4gICAgZm9yIChjb25zdCBzZWdtZW50IG9mIHRoaXMuc2VnbWVudHMpIHtcbiAgICAgIGlmIChzZWdtZW50LmlzQ29sbGlkaW5nKCkpIHJldHVybiBzZWdtZW50LmRpc3RhbmNlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm1heERpc3RhbmNlO1xuICB9XG5cbiAgdXBkYXRlKGRpc3RhbmNlOiBudW1iZXIgfCB2b2lkKSB7XG4gICAgaWYgKGRpc3RhbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGRpc3RhbmNlID0gdGhpcy5nZXREaXN0YW5jZSgpO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSBzZW5zb3Igc2VnbWVudCBzdHlsZXNcbiAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2YgdGhpcy5zZWdtZW50cykge1xuICAgICAgaWYgKHNlZ21lbnQuZGlzdGFuY2UgPCBkaXN0YW5jZSkge1xuICAgICAgICBzZWdtZW50LnNlbnNvckJvZHkucmVuZGVyLmZpbGxTdHlsZSA9ICcjNTU1NTU1JztcbiAgICAgICAgc2VnbWVudC5zZW5zb3JCb2R5LnJlbmRlci5vcGFjaXR5ID0gMC40O1xuICAgICAgfSBlbHNlIGlmIChzZWdtZW50LmRpc3RhbmNlID09PSBkaXN0YW5jZSkge1xuICAgICAgICBzZWdtZW50LnNlbnNvckJvZHkucmVuZGVyLmZpbGxTdHlsZSA9ICcjMDAwMDAwJztcbiAgICAgICAgc2VnbWVudC5zZW5zb3JCb2R5LnJlbmRlci5vcGFjaXR5ID0gMC44O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VnbWVudC5zZW5zb3JCb2R5LnJlbmRlci5maWxsU3R5bGUgPSAnIzU1NTU1NSc7XG4gICAgICAgIHNlZ21lbnQuc2Vuc29yQm9keS5yZW5kZXIub3BhY2l0eSA9IDAuMDU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdGhpcyBpcyBtb2RlbGxlZCBsb29zZWx5IGFmdGVyIGh0dHBzOi8vbHVjc21hbGwuY29tL2ltYWdlcy9wcmV2aWV3LzIwMTMwNTA3LXZvbHRhZ2UtdnMtZGlzdGFuY2UucG5nXG4gICAgLy8gdW5kZXIgYSBjZXJ0YWluIGRpc3RhbmNlIHRocmVzaG9sZCwgdGhlIHZhbHVlIGdyb3dzIGxpbmVhcmx5IHdpdGggdGhlIGRpc3RhbmNlIHRvIHRoZSBtYXggdmFsdWVcbiAgICAvLyBvdmVyIHRoYXQgdGhyZXNob2xkLCB0aGUgdmFsdWUgZmFsbHMgb2ZmIGZyb20gdGhlIG1heCB2YWx1ZSBpbnZlcnNlbHkgd2l0aCB0aGUgZGlzdGFuY2VcbiAgICBjb25zdCBtYXhWYWx1ZSA9IDQwMDA7XG4gICAgY29uc3QgZGlzdGFuY2VUaHJlc2hvbGQgPSAyMDtcbiAgICBjb25zdCBiaWFzID0gMjA7XG4gICAgY29uc3QgdmFsdWUgPVxuICAgICAgZGlzdGFuY2UgPCBkaXN0YW5jZVRocmVzaG9sZFxuICAgICAgICA/IG1heFZhbHVlICogKGRpc3RhbmNlIC8gZGlzdGFuY2VUaHJlc2hvbGQpXG4gICAgICAgIDogKG1heFZhbHVlICogKGRpc3RhbmNlVGhyZXNob2xkICsgYmlhcykpIC8gKGRpc3RhbmNlICsgYmlhcyk7XG5cbiAgICB0aGlzLmNvbnRyb2xsZXIuc2V0U2Vuc29yKHRoaXMucG9ydCwgdmFsdWUpO1xuICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgTWF0dGVyIGZyb20gJ21hdHRlci1qcyc7XG5cbmltcG9ydCB7IFBvc2UsIFBvaW50LCBIZWRnZWhvZyB9IGZyb20gJy4nO1xuXG5mdW5jdGlvbiBwb3NlVG9Qb2ludCh7IHgsIHkgfTogUG9zZSk6IFBvaW50IHtcbiAgcmV0dXJuIHsgeCwgeSB9O1xufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm0oeyB4LCB5LCBhbmdsZSB9OiBQb3NlLCB7IHg6IGR4LCB5OiBkeSwgYW5nbGU6IGRhbmdsZSB9OiBQb3NlKTogUG9zZSB7XG4gIGNvbnN0IGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgY29uc3Qgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICByZXR1cm4ge1xuICAgIHg6IHggKyBjb3MgKiBkeCAtIHNpbiAqIGR5LFxuICAgIHk6IHkgKyBzaW4gKiBkeCArIGNvcyAqIGR5LFxuICAgIGFuZ2xlOiBhbmdsZSArIGRhbmdsZSxcbiAgfTtcbn1cblxuZXhwb3J0IGNsYXNzIFNlcnZvQXJtIHtcbiAgY29udHJvbGxlcjogSGVkZ2Vob2c7XG5cbiAgcG9ydDogbnVtYmVyO1xuXG4gIGFuY2hvcjogTWF0dGVyLkJvZHk7XG4gIHBpdm90QW5jaG9yOiBQb3NlO1xuICBhcm06IE1hdHRlci5Cb2R5O1xuICBwaXZvdEFybTogUG9zZTtcbiAgbGVuZ3RoOiBudW1iZXI7XG5cbiAgcGl2b3RDb25zdHJhaW50OiBNYXR0ZXIuQ29uc3RyYWludDtcbiAgY29udHJvbENvbnN0cmFpbnQ6IE1hdHRlci5Db25zdHJhaW50O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGNvbnRyb2xsZXI6IEhlZGdlaG9nLFxuICAgIHBvcnQ6IG51bWJlcixcbiAgICAvLyB0aGUgYm9keSB0byB3aGljaCB0aGUgc2Vydm8gYXJtIGlzIGFuY2hvcmVkXG4gICAgYW5jaG9yOiBNYXR0ZXIuQm9keSxcbiAgICAvLyB0aGUgcG9zZSwgcmVsYXRpdmUgdG8gdGhlIGFuY2hvciwgd2hlcmUgdGhlIGFybSdzIHBpdm90IHBvaW50IGlzIGxvY2F0ZWRcbiAgICBwaXZvdEFuY2hvcjogUG9zZSxcbiAgICAvLyB0aGUgYm9keSByZXByZXNlbnRpbmcgdGhlIHNlcnZvIGFybVxuICAgIGFybTogTWF0dGVyLkJvZHksXG4gICAgLy8gdGhlIHBvc2UsIHJlbGF0aXZlIHRvIHRoZSBhcm0sIHdoZXJlIHRoZSBhcm0ncyBwaXZvdCBwb2ludCBpcyBsb2NhdGVkXG4gICAgcGl2b3RBcm06IFBvc2UsXG4gICAgLy8gdGhlIGRpc3RhbmNlIGZyb20gdGhlIHBpdm90IGNvbnN0cmFpbnQgYXQgd2hpY2ggdGhlIGNvbnRyb2wgY29uc3RyYWludCBhdHRhY2hlcyB0byB0aGUgYm9kaWVzXG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICkge1xuICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgdGhpcy5wb3J0ID0gcG9ydDtcbiAgICB0aGlzLmFuY2hvciA9IGFuY2hvcjtcbiAgICB0aGlzLnBpdm90QW5jaG9yID0gcGl2b3RBbmNob3I7XG4gICAgdGhpcy5hcm0gPSBhcm07XG4gICAgdGhpcy5waXZvdEFybSA9IHBpdm90QXJtO1xuICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuXG4gICAgdGhpcy5waXZvdENvbnN0cmFpbnQgPSBNYXR0ZXIuQ29uc3RyYWludC5jcmVhdGUoe1xuICAgICAgYm9keUE6IGFuY2hvcixcbiAgICAgIHBvaW50QTogcG9zZVRvUG9pbnQocGl2b3RBbmNob3IpLFxuICAgICAgYm9keUI6IGFybSxcbiAgICAgIHBvaW50QjogcG9zZVRvUG9pbnQocGl2b3RBcm0pLFxuICAgICAgbGVuZ3RoOiAwLFxuICAgICAgcmVuZGVyOiB7IHZpc2libGU6IGZhbHNlIH0sXG4gICAgfSk7XG5cbiAgICBjb25zdCB0cmFuc2xhdGlvbiA9IHsgeDogbGVuZ3RoLCB5OiAwLCBhbmdsZTogMCB9O1xuICAgIHRoaXMuY29udHJvbENvbnN0cmFpbnQgPSBNYXR0ZXIuQ29uc3RyYWludC5jcmVhdGUoe1xuICAgICAgYm9keUE6IGFuY2hvcixcbiAgICAgIHBvaW50QTogcG9zZVRvUG9pbnQodHJhbnNmb3JtKHBpdm90QW5jaG9yLCB0cmFuc2xhdGlvbikpLFxuICAgICAgYm9keUI6IGFybSxcbiAgICAgIHBvaW50QjogcG9zZVRvUG9pbnQodHJhbnNmb3JtKHBpdm90QXJtLCB0cmFuc2xhdGlvbikpLFxuICAgICAgbGVuZ3RoOiAwLFxuICAgICAgcmVuZGVyOiB7IHZpc2libGU6IGZhbHNlIH0sXG4gICAgfSk7XG4gIH1cblxuICBzZXRQb3NpdGlvbihwb3NpdGlvbjogbnVtYmVyKSB7XG4gICAgLy8gcG9zaXRpb24gMC4uPTEwMDAgc2hvdWxkIGJlIHRyYW5zbGF0ZWQgaW50byBhbmdsZSAtOTDCsC4uPTkwwrBcbiAgICAvLyAwLi49MTAwMCAtPiAtNTAwLi49NTAwIC0+IC0xLzIuLj0xLzIgLT4gUEkvMi4uPVBJLzJcbiAgICBjb25zdCBkQW5nbGUgPSAoKHBvc2l0aW9uIC0gNTAwKSAvIDEwMDApICogTWF0aC5QSTtcblxuICAgIC8vIHRoZSBhbmNob3IgcGl2b3QgcG9pbnQgcm90YXRlZCBieSBkQW5nbGVcbiAgICBsZXQgcGl2b3RBbmNob3IgPSB7IC4uLnRoaXMucGl2b3RBbmNob3IsIGFuZ2xlOiB0aGlzLnBpdm90QW5jaG9yLmFuZ2xlICsgZEFuZ2xlIH07XG5cbiAgICAvLyBmb3Igc29tZSByZWFzb24sIHdlIGhhdmUgdG8gY29uc2lkZXIgdGhlIGFuY2hvcidzIGFuZ2xlLCBidXQgbm90IGl0cyBwb3NpdGlvblxuICAgIC8vIHRoaXMgdHJhbnNmb3JtYXRpb24gcm90YXRlcyB0aGUgY29vcmRpbmF0ZSBmcmFtZSBpbiB3aGljaCB0aGUgcGl2b3QgcG9zZSBpc1xuICAgIC8vIHNwZWNpZmllZCBieSB0aGUgcGl2b3QncyBhbmdsZVxuICAgIGNvbnN0IHJvdGF0aW9uID0geyB4OiAwLCB5OiAwLCBhbmdsZTogdGhpcy5hbmNob3IuYW5nbGUgfTtcbiAgICBwaXZvdEFuY2hvciA9IHRyYW5zZm9ybShyb3RhdGlvbiwgcGl2b3RBbmNob3IpO1xuXG4gICAgY29uc3QgdHJhbnNsYXRpb24gPSB7IHg6IHRoaXMubGVuZ3RoLCB5OiAwLCBhbmdsZTogMCB9O1xuICAgIGNvbnN0IHBvaW50QSA9IHBvc2VUb1BvaW50KHRyYW5zZm9ybShwaXZvdEFuY2hvciwgdHJhbnNsYXRpb24pKTtcblxuICAgIHRoaXMuY29udHJvbENvbnN0cmFpbnQucG9pbnRBID0gcG9pbnRBO1xuICB9XG5cbiAgYmVmb3JlVXBkYXRlKCkge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5jb250cm9sbGVyLmdldFNlcnZvKHRoaXMucG9ydCk7XG4gICAgaWYgKHBvc2l0aW9uICE9PSBudWxsKSB0aGlzLnNldFBvc2l0aW9uKHBvc2l0aW9uKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIC8vIHRoZSBkZWZhdWx0IHBvc2l0aW9uIGlzIGluIHRoZSBtaWRkbGUgb2YgdGhlIHZhbHVlIHJhbmdlLCBpLmUuIDUwMFxuICAgIHRoaXMuc2V0UG9zaXRpb24oNTAwKTtcbiAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbS9zZXJ2ZXInO1xuaW1wb3J0IHVzZVN0eWxlcyBmcm9tICdpc29tb3JwaGljLXN0eWxlLWxvYWRlci91c2VTdHlsZXMnO1xuXG5pbXBvcnQgQmxvY2tseSBmcm9tICdibG9ja2x5L2NvcmUnO1xuLy8gbG9hZGluZyB0aGlzIGNsZWFycyBhbnkgcHJldmlvdXNseSBzZXQgYmxvY2tzLCBzbyBtYWtlIHN1cmUgdGhpcyBtb2R1bGUgaXMgbG9hZGVkXG4vLyBiZWZvcmUgYWRkaW5nIGFueSBjdXN0b20gYmxvY2tzXG5pbXBvcnQgJ2Jsb2NrbHkvYmxvY2tzJztcblxuaW1wb3J0IHsgdXNlTG9jYWxlIH0gZnJvbSAnLi4vLi4vbG9jYWxlJztcbmltcG9ydCB7IHR5cGUgTG9jYWxlTWFwLCBnZXRUcmFuc2xhdGlvbiB9IGZyb20gJy4uLy4uLy4uL3RyYW5zbGF0aW9ucyc7XG5cbmltcG9ydCB7IFNsaWRlTGVmdEljb24sIFNsaWRlUmlnaHRJY29uIH0gZnJvbSAnLi4vLi4vbWlzYy9wYWxldHRlJztcbmltcG9ydCAqIGFzIGhvb2tzIGZyb20gJy4uLy4uL21pc2MvaG9va3MnO1xuXG5pbXBvcnQgQmxvY2tseUNvbXBvbmVudCwge1xuICB0eXBlIExvY2FsZSBhcyBCbG9ja2x5TG9jYWxlLFxuICB0eXBlIFdvcmtzcGFjZVRyYW5zZm9ybSxcbn0gZnJvbSAnLi4vQmxvY2tseSc7XG5pbXBvcnQgVG9vbEJhciBmcm9tICcuLi9Ub29sQmFyJztcbmltcG9ydCBUb29sQmFySWNvbkJ1dHRvbiBmcm9tICcuLi9Ub29sQmFyL1Rvb2xCYXJJY29uQnV0dG9uJztcbmltcG9ydCBUb29sQmFySXRlbSBmcm9tICcuLi9Ub29sQmFyL1Rvb2xCYXJJdGVtJztcblxuaW1wb3J0IHMgZnJvbSAnLi9TaW11bGF0b3JFZGl0b3Iuc2Nzcyc7XG5cbmltcG9ydCB1c2VGaWxlLCB7IFByb2plY3QgfSBmcm9tICcuLi91c2VGaWxlJztcblxuaW1wb3J0IHsgc2NoZW1hIH0gZnJvbSAnLi4vU2ltdWxhdG9yL3NpbXVsYXRpb24nO1xuXG5pbXBvcnQgKiBhcyBibG9ja3MgZnJvbSAnLi9ibG9ja3MnO1xuXG4vLyBUT0RPIHRyYW5zbGF0ZSBzaW11bGF0b3IgZWRpdG9yXG5jb25zdCBMT0NBTEVTOiBMb2NhbGVNYXA8QmxvY2tseUxvY2FsZT4gPSB7XG4gIGVuOiB7XG4gICAgcnRsOiBmYWxzZSxcbiAgICBtc2c6IHt9LFxuICB9LFxufTtcblxuY29uc3Qgd29ya3NwYWNlT3B0aW9ucyA9IHtcbiAgdG9vbGJveDogUmVhY3RET00ucmVuZGVyVG9TdGF0aWNNYXJrdXAoXG4gICAgPHhtbD5cbiAgICAgIDxjYXRlZ29yeSBuYW1lPVwiU2ltdWxhdGlvblwiIGNvbG91cj1cIjEyMFwiPlxuICAgICAgICB7YmxvY2tzLlNJTVVMQVRPUl9ST09ULnRvb2xib3hCbG9ja3MuZGVmYXVsdCgpfVxuICAgICAgICB7YmxvY2tzLlNJTVVMQVRPUl9SRUNULnRvb2xib3hCbG9ja3MuZGVmYXVsdCgpfVxuICAgICAgICB7YmxvY2tzLlNJTVVMQVRPUl9DSVJDTEUudG9vbGJveEJsb2Nrcy5kZWZhdWx0KCl9XG4gICAgICAgIHtibG9ja3MuU0lNVUxBVE9SX1NWRy50b29sYm94QmxvY2tzLmRlZmF1bHQoKX1cbiAgICAgICAge2Jsb2Nrcy5TSU1VTEFUT1JfR1JPVVAudG9vbGJveEJsb2Nrcy5kZWZhdWx0KCl9XG4gICAgICAgIHtibG9ja3MuU0lNVUxBVE9SX0dST1VQLnRvb2xib3hCbG9ja3MubGluZSgpfVxuICAgICAgPC9jYXRlZ29yeT5cbiAgICAgIDxjYXRlZ29yeSBuYW1lPVwiU2V0dGluZ3NcIiBjb2xvdXI9XCIxMjBcIj5cbiAgICAgICAge2Jsb2Nrcy5TSU1VTEFUT1JfU0VUVElOR1NfVFJBTlNMQVRFLnRvb2xib3hCbG9ja3MuZGVmYXVsdCgpfVxuICAgICAgICA8YmxvY2sgdHlwZT1cInNpbXVsYXRvcl9zZXR0aW5nc190cmFuc2xhdGVcIj5cbiAgICAgICAgICA8dmFsdWUgbmFtZT1cIk1PUkVcIj5cbiAgICAgICAgICAgIDxibG9jayB0eXBlPVwic2ltdWxhdG9yX3NldHRpbmdzX3JvdGF0ZVwiIC8+XG4gICAgICAgICAgPC92YWx1ZT5cbiAgICAgICAgPC9ibG9jaz5cbiAgICAgICAge2Jsb2Nrcy5TSU1VTEFUT1JfU0VUVElOR1NfQ09MT1IudG9vbGJveEJsb2Nrcy5kZWZhdWx0KCl9XG4gICAgICAgIHtibG9ja3MuU0lNVUxBVE9SX1NFVFRJTkdTX1ZJU0lCSUxJVFkudG9vbGJveEJsb2Nrcy5kZWZhdWx0KCl9XG4gICAgICAgIHtibG9ja3MuU0lNVUxBVE9SX1NFVFRJTkdTX1NQUklURS50b29sYm94QmxvY2tzLmRlZmF1bHQoKX1cbiAgICAgICAge2Jsb2Nrcy5TSU1VTEFUT1JfU0VUVElOR1NfU1BSSVRFLnRvb2xib3hCbG9ja3MuZXh0ZXJuYWwoKX1cbiAgICAgICAge2Jsb2Nrcy5TSU1VTEFUT1JfU0VUVElOR1NfU1RBVElDLnRvb2xib3hCbG9ja3MuZGVmYXVsdCgpfVxuICAgICAgICB7YmxvY2tzLlNJTVVMQVRPUl9TRVRUSU5HU19TRU5TT1IudG9vbGJveEJsb2Nrcy5kZWZhdWx0KCl9XG4gICAgICAgIDxibG9jayB0eXBlPVwic2ltdWxhdG9yX3NldHRpbmdzX3NlbnNvclwiPlxuICAgICAgICAgIDx2YWx1ZSBuYW1lPVwiTU9SRVwiPlxuICAgICAgICAgICAgPGJsb2NrIHR5cGU9XCJzaW11bGF0b3Jfc2V0dGluZ3NfbGluZVwiIC8+XG4gICAgICAgICAgPC92YWx1ZT5cbiAgICAgICAgPC9ibG9jaz5cbiAgICAgICAge2Jsb2Nrcy5TSU1VTEFUT1JfU0VUVElOR1NfREVOU0lUWS50b29sYm94QmxvY2tzLmRlZmF1bHQoKX1cbiAgICAgICAge2Jsb2Nrcy5TSU1VTEFUT1JfU0VUVElOR1NfRlJJQ1RJT05fQUlSLnRvb2xib3hCbG9ja3MuZGVmYXVsdCgpfVxuICAgICAgICB7YmxvY2tzLlNJTVVMQVRPUl9TRVRUSU5HU19MQUJFTC50b29sYm94QmxvY2tzLmRlZmF1bHQoKX1cbiAgICAgIDwvY2F0ZWdvcnk+XG4gICAgICA8Y2F0ZWdvcnkgbmFtZT1cIlJvYm90c1wiIGNvbG91cj1cIjEyMFwiPlxuICAgICAgICB7YmxvY2tzLlNJTVVMQVRPUl9ST0JPVC50b29sYm94QmxvY2tzLmRlZmF1bHQoKX1cbiAgICAgICAge2Jsb2Nrcy5TSU1VTEFUT1JfUk9CT1RfUEFSVF9MSU5FLnRvb2xib3hCbG9ja3MuZGVmYXVsdCgpfVxuICAgICAgICB7YmxvY2tzLlNJTVVMQVRPUl9ST0JPVF9QQVJUX1RPVUNILnRvb2xib3hCbG9ja3MuZGVmYXVsdCgpfVxuICAgICAgICB7YmxvY2tzLlNJTVVMQVRPUl9ST0JPVF9QQVJUX0RJU1RBTkNFLnRvb2xib3hCbG9ja3MuZGVmYXVsdCgpfVxuICAgICAgICB7YmxvY2tzLlNJTVVMQVRPUl9ST0JPVF9QQVJUX1NFUlZPX0FSTS50b29sYm94QmxvY2tzLmRlZmF1bHQoKX1cbiAgICAgIDwvY2F0ZWdvcnk+XG4gICAgPC94bWw+LFxuICApLFxuICBtb3ZlOiB7XG4gICAgc2Nyb2xsYmFyczogdHJ1ZSxcbiAgICBkcmFnOiB0cnVlLFxuICAgIHdoZWVsOiBmYWxzZSxcbiAgfSxcbiAgem9vbToge1xuICAgIGNvbnRyb2xzOiBmYWxzZSxcbiAgICB3aGVlbDogdHJ1ZSxcbiAgICBtYXhTY2FsZTogMS41LFxuICAgIG1pblNjYWxlOiAwLjQsXG4gICAgc2NhbGVTcGVlZDogMS4wMixcbiAgfSxcbiAgZ3JpZDoge1xuICAgIHNwYWNpbmc6IDIwLFxuICAgIGxlbmd0aDogMyxcbiAgICBjb2xvdXI6ICcjY2NjJyxcbiAgICBzbmFwOiB0cnVlLFxuICB9LFxuICB0cmFzaGNhbjogZmFsc2UsXG4gIHNjcm9sbGJhcnM6IHRydWUsXG59O1xuXG5leHBvcnQgdHlwZSBDb250cm9sbGVkU3RhdGUgPSB7fFxuICBqc29uQ29sbGFwc2VkOiBib29sZWFuLFxuICB3b3Jrc3BhY2VUcmFuc2Zvcm06IFdvcmtzcGFjZVRyYW5zZm9ybSxcbnx9O1xuXG50eXBlIFByb3BzID0ge3xcbiAgcHJvamVjdDogUHJvamVjdCxcbiAgcGF0aDogc3RyaW5nLFxuICBvbkNvbmZpZ0NoYW5nZTogKGNvbmZpZzogc2NoZW1hLlNpbXVsYXRpb24gfCBudWxsKSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPixcbiAgLi4uQ29udHJvbGxlZFN0YXRlLFxuICBvblVwZGF0ZTogKHN0YXRlOiBDb250cm9sbGVkU3RhdGUpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+LFxuICBsYXlvdXROb2RlOiBhbnksXG58fTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVDb25maWcod29ya3NwYWNlOiBCbG9ja2x5LldvcmtzcGFjZSk6IHNjaGVtYS5TaW11bGF0aW9uIHwgbnVsbCB7XG4gIGNvbnN0IHJvb3RzID0gd29ya3NwYWNlLmdldEJsb2Nrc0J5VHlwZSgnc2ltdWxhdG9yX3Jvb3QnKTtcbiAgaWYgKHJvb3RzLmxlbmd0aCAhPT0gMSkgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgW3NpbXVsYXRpb25dID0gcm9vdHM7XG4gIHJldHVybiBzaW11bGF0aW9uLnNlcmlhbGl6ZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVDb25maWdGcm9tWG1sKHdvcmtzcGFjZVhtbDogc3RyaW5nKTogc2NoZW1hLlNpbXVsYXRpb24gfCBudWxsIHtcbiAgY29uc3Qgd29ya3NwYWNlID0gbmV3IEJsb2NrbHkuV29ya3NwYWNlKCk7XG4gIEJsb2NrbHkuWG1sLmRvbVRvV29ya3NwYWNlKEJsb2NrbHkuWG1sLnRleHRUb0RvbSh3b3Jrc3BhY2VYbWwpLCB3b3Jrc3BhY2UpO1xuICBjb25zdCByZXN1bHQgPSBnZW5lcmF0ZUNvbmZpZyh3b3Jrc3BhY2UpO1xuICB3b3Jrc3BhY2UuZGlzcG9zZSgpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBTaW11bGF0b3JFZGl0b3Ioe1xuICBsYXlvdXROb2RlLFxuICBwcm9qZWN0LFxuICBwYXRoLFxuICBvbkNvbmZpZ0NoYW5nZSxcbiAganNvbkNvbGxhcHNlZCxcbiAgd29ya3NwYWNlVHJhbnNmb3JtLFxuICBvblVwZGF0ZSxcbn06IFByb3BzKSB7XG4gIGNvbnN0IGJsb2NrbHlSZWYgPSBob29rcy51c2VFbGVtZW50UmVmPHR5cGVvZiBCbG9ja2x5Q29tcG9uZW50PigpO1xuICBjb25zdCBqc29uUmVmID0gaG9va3MudXNlRWxlbWVudFJlZjwncHJlJz4oKTtcblxuICBjb25zdCBbY29udGVudCwgc2V0Q29udGVudF0gPSB1c2VGaWxlKHByb2plY3QsIHBhdGgsICd1dGY4Jyk7XG5cbiAgLy8gdXBkYXRlIHdvcmtzcGFjZSBzaXplIHdoZW4gdGhlIGNvbnRhaW5pbmcgdGFiIGlzIHJlc2l6ZWQgb3IgbWFkZSB2aXNpYmxlXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGF5b3V0Tm9kZS5zZXRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICBpZiAoYmxvY2tseVJlZi5jdXJyZW50KSBibG9ja2x5UmVmLmN1cnJlbnQucmVmcmVzaFNpemVEZWZlcnJlZCgpO1xuICAgIH0pO1xuICAgIGxheW91dE5vZGUuc2V0RXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eScsICh7IHZpc2libGUgfSkgPT4ge1xuICAgICAgaWYgKGJsb2NrbHlSZWYuY3VycmVudCkgYmxvY2tseVJlZi5jdXJyZW50LnVwZGF0ZVZpc2liaWxpdHkodmlzaWJsZSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgbGF5b3V0Tm9kZS5zZXRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBudWxsKTtcbiAgICAgIGxheW91dE5vZGUuc2V0RXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eScsIG51bGwpO1xuICAgIH07XG4gIH0sIFtsYXlvdXROb2RlLCBibG9ja2x5UmVmXSk7XG5cbiAgLy8gYW5pbWF0ZSB3b3Jrc3BhY2Ugc2l6ZSB3aGVuIHRoZSBzaWRlYmFyIGlzIGV4cGFuZGluZyBvciBjb2xsYXBzaW5nXG4gIGNvbnN0IFtzdGFydEFuaW1hdGlvbiwgc3RvcEFuaW1hdGlvbl0gPSBob29rcy51c2VBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgaWYgKGJsb2NrbHlSZWYuY3VycmVudCkgYmxvY2tseVJlZi5jdXJyZW50LnJlZnJlc2hTaXplKCk7XG4gIH0pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChqc29uUmVmLmN1cnJlbnQgPT09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY29uc3QganNvbkVsZW0gPSBqc29uUmVmLmN1cnJlbnQ7XG5cbiAgICBjb25zdCBvblRyYW5zaXRpb25FbmQgPSAoKSA9PiB7XG4gICAgICBzdG9wQW5pbWF0aW9uKCk7XG4gICAgICBpZiAoYmxvY2tseVJlZi5jdXJyZW50KSBibG9ja2x5UmVmLmN1cnJlbnQucmVmcmVzaFNpemVEZWZlcnJlZCgpO1xuICAgIH07XG5cbiAgICBqc29uRWxlbS5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgb25UcmFuc2l0aW9uRW5kKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBqc29uRWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgb25UcmFuc2l0aW9uRW5kKTtcbiAgICB9O1xuICB9KTtcblxuICBmdW5jdGlvbiBoYW5kbGVUb2dnbGVKc29uQ29sbGFwc2VkKCkge1xuICAgIG9uVXBkYXRlKHsganNvbkNvbGxhcHNlZDogIWpzb25Db2xsYXBzZWQsIHdvcmtzcGFjZVRyYW5zZm9ybSB9KTtcbiAgICBzdGFydEFuaW1hdGlvbigpO1xuICB9XG5cbiAgLy8gaGFuZGxlIGJsb2NrbHkgY2hhbmdlcyBieSBzYXZpbmcgdGhlIGZpbGUgYW5kIHJlZ2VuZXJhdGluZyBjb2RlXG4gIGNvbnN0IFtqc29uLCBzZXRKc29uXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZUJsb2NrbHlDaGFuZ2Uod29ya3NwYWNlOiBCbG9ja2x5LldvcmtzcGFjZSkge1xuICAgIGNvbnN0IGNvbmZpZyA9IGdlbmVyYXRlQ29uZmlnKHdvcmtzcGFjZSk7XG4gICAgc2V0SnNvbihjb25maWcgPT09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGNvbmZpZywgdW5kZWZpbmVkLCAyKSk7XG4gICAgb25Db25maWdDaGFuZ2UoY29uZmlnKTtcblxuICAgIGNvbnN0IHdvcmtzcGFjZVhtbCA9IEJsb2NrbHkuWG1sLmRvbVRvVGV4dChCbG9ja2x5LlhtbC53b3Jrc3BhY2VUb0RvbSh3b3Jrc3BhY2UpKTtcbiAgICBzZXRDb250ZW50KHdvcmtzcGFjZVhtbCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVCbG9ja2x5U2Nyb2xsKHdvcmtzcGFjZTogQmxvY2tseS5Xb3Jrc3BhY2UpIHtcbiAgICBjb25zdCB7IHNjcm9sbFgsIHNjcm9sbFksIHNjYWxlIH0gPSB3b3Jrc3BhY2U7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvd1xuICAgIGNvbnN0IHdvcmtzcGFjZVRyYW5zZm9ybSA9IHsgc2Nyb2xsWCwgc2Nyb2xsWSwgc2NhbGUgfTtcbiAgICBvblVwZGF0ZSh7IGpzb25Db2xsYXBzZWQsIHdvcmtzcGFjZVRyYW5zZm9ybSB9KTtcbiAgfVxuXG4gIHVzZVN0eWxlcyhzKTtcbiAgY29uc3QgeyBwcmVmZXJyZWRMb2NhbGVzIH0gPSB1c2VMb2NhbGUoKTtcbiAgY29uc3QgbG9jYWxlID0gZ2V0VHJhbnNsYXRpb24ocHJlZmVycmVkTG9jYWxlcywgTE9DQUxFUykgPz8gTE9DQUxFUy5lbjtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cy50YWJSb290fT5cbiAgICAgIHtjb250ZW50ID09PSBudWxsID8gbnVsbCA6IChcbiAgICAgICAgPEJsb2NrbHlDb21wb25lbnRcbiAgICAgICAgICBmb3J3YXJkZWRSZWY9e2Jsb2NrbHlSZWZ9XG4gICAgICAgICAgaW5pdGlhbFdvcmtzcGFjZVhtbD17Y29udGVudH1cbiAgICAgICAgICBsb2NhbGU9e2xvY2FsZX1cbiAgICAgICAgICB3b3Jrc3BhY2VPcHRpb25zPXt3b3Jrc3BhY2VPcHRpb25zfVxuICAgICAgICAgIHdvcmtzcGFjZVRyYW5zZm9ybT17d29ya3NwYWNlVHJhbnNmb3JtfVxuICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVCbG9ja2x5Q2hhbmdlfVxuICAgICAgICAgIG9uU2Nyb2xsPXtoYW5kbGVCbG9ja2x5U2Nyb2xsfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICAgIDxUb29sQmFyPlxuICAgICAgICA8VG9vbEJhckl0ZW0+XG4gICAgICAgICAgPFRvb2xCYXJJY29uQnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUb2dnbGVKc29uQ29sbGFwc2VkfVxuICAgICAgICAgICAgaWNvbj17anNvbkNvbGxhcHNlZCA/IFNsaWRlTGVmdEljb24gOiBTbGlkZVJpZ2h0SWNvbn1cbiAgICAgICAgICAgIGRpc2FibGVSaXBwbGVcbiAgICAgICAgICAvPlxuICAgICAgICA8L1Rvb2xCYXJJdGVtPlxuICAgICAgPC9Ub29sQmFyPlxuICAgICAgPHByZVxuICAgICAgICByZWY9e2pzb25SZWZ9XG4gICAgICAgIGNsYXNzTmFtZT17anNvbkNvbGxhcHNlZCA/IGAke3MuanNvbkNvbnRhaW5lcn0gJHtzLmNvbGxhcHNlZH1gIDogcy5qc29uQ29udGFpbmVyfVxuICAgICAgPlxuICAgICAgICB7anNvbn1cbiAgICAgIDwvcHJlPlxuICAgIDwvZGl2PlxuICApO1xufVxuU2ltdWxhdG9yRWRpdG9yLmRlZmF1bHRQcm9wcyA9IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L2RlZmF1bHQtcHJvcHMtbWF0Y2gtcHJvcC10eXBlc1xuICBqc29uQ29sbGFwc2VkOiB0cnVlLFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvZGVmYXVsdC1wcm9wcy1tYXRjaC1wcm9wLXR5cGVzXG4gIHdvcmtzcGFjZVRyYW5zZm9ybToge1xuICAgIHNjcm9sbFg6IDAuMCxcbiAgICBzY3JvbGxZOiAwLjAsXG4gICAgc2NhbGU6IDEuMCxcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNpbXVsYXRvckVkaXRvcjtcbiIsIlxuICAgIHZhciByZWZzID0gMDtcbiAgICB2YXIgY3NzID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0yIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0zIS4vU2ltdWxhdG9yRWRpdG9yLnNjc3NcIik7XG4gICAgdmFyIGluc2VydENzcyA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2lzb21vcnBoaWMtc3R5bGUtbG9hZGVyL2luc2VydENzcy5qc1wiKTtcbiAgICB2YXIgY29udGVudCA9IHR5cGVvZiBjc3MgPT09ICdzdHJpbmcnID8gW1ttb2R1bGUuaWQsIGNzcywgJyddXSA6IGNzcztcblxuICAgIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGNzcy5sb2NhbHMgfHwge307XG4gICAgZXhwb3J0cy5fZ2V0Q29udGVudCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gY29udGVudDsgfTtcbiAgICBleHBvcnRzLl9nZXRDc3MgPSBmdW5jdGlvbigpIHsgcmV0dXJuICcnICsgY3NzOyB9O1xuICAgIGV4cG9ydHMuX2luc2VydENzcyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHsgcmV0dXJuIGluc2VydENzcyhjb250ZW50LCBvcHRpb25zKSB9O1xuXG4gICAgLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuICAgIC8vIGh0dHBzOi8vd2VicGFjay5naXRodWIuaW8vZG9jcy9ob3QtbW9kdWxlLXJlcGxhY2VtZW50XG4gICAgLy8gT25seSBhY3RpdmF0ZWQgaW4gYnJvd3NlciBjb250ZXh0XG4gICAgaWYgKG1vZHVsZS5ob3QgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50KSB7XG4gICAgICB2YXIgcmVtb3ZlQ3NzID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS03LXJ1bGVzLTIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS03LXJ1bGVzLTMhLi9TaW11bGF0b3JFZGl0b3Iuc2Nzc1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY3NzID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0yIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0zIS4vU2ltdWxhdG9yRWRpdG9yLnNjc3NcIik7XG4gICAgICAgIGNvbnRlbnQgPSB0eXBlb2YgY3NzID09PSAnc3RyaW5nJyA/IFtbbW9kdWxlLmlkLCBjc3MsICcnXV0gOiBjc3M7XG4gICAgICAgIHJlbW92ZUNzcyA9IGluc2VydENzcyhjb250ZW50LCB7IHJlcGxhY2U6IHRydWUgfSk7XG4gICAgICB9KTtcbiAgICAgIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgcmVtb3ZlQ3NzKCk7IH0pO1xuICAgIH1cbiAgIiwiLy8gQGZsb3dcblxuZXhwb3J0IGZ1bmN0aW9uIGFueUFuY2VzdG9yKGJsb2NrLCBjb25kaXRpb24pIHtcbiAgZm9yIChcbiAgICBsZXQgYW5jZXN0b3IgPSBibG9jay5nZXRTdXJyb3VuZFBhcmVudCgpO1xuICAgIGFuY2VzdG9yICE9PSBudWxsO1xuICAgIGFuY2VzdG9yID0gYW5jZXN0b3IuZ2V0U3Vycm91bmRQYXJlbnQoKVxuICApIHtcbiAgICBpZiAoY29uZGl0aW9uKGFuY2VzdG9yKSkgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9yYmlkc0FuY2VzdG9yKHR5cGVzLCB3YXJuaW5nKSB7XG4gIHJldHVybiBmdW5jdGlvbiBvbmNoYW5nZSgpIHtcbiAgICAvLyBEb24ndCBjaGFuZ2Ugc3RhdGUgYXQgdGhlIHN0YXJ0IG9mIGEgZHJhZy5cbiAgICBpZiAodGhpcy53b3Jrc3BhY2UuaXNEcmFnZ2luZygpKSByZXR1cm47XG5cbiAgICAvLyBJcyB0aGUgYmxvY2sgbmVzdGVkIGluIGEgZm9yYmlkZGVuIGFuY2VzdG9yP1xuICAgIGNvbnN0IGxlZ2FsID0gIWFueUFuY2VzdG9yKHRoaXMsIChibG9jaykgPT4gdHlwZXMuaW5kZXhPZihibG9jay50eXBlKSAhPT0gLTEpO1xuICAgIGlmIChsZWdhbCkge1xuICAgICAgdGhpcy5zZXRXYXJuaW5nVGV4dChudWxsKTtcbiAgICAgIGlmICghdGhpcy5pc0luRmx5b3V0KSB0aGlzLnNldEVuYWJsZWQodHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0V2FybmluZ1RleHQod2FybmluZyk7XG4gICAgICBpZiAoIXRoaXMuaXNJbkZseW91dCAmJiAhdGhpcy5nZXRJbmhlcml0ZWREaXNhYmxlZCgpKSB7XG4gICAgICAgIHRoaXMuc2V0RW5hYmxlZChmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW5wdXREZXNjZW5kYW50cyhpbnB1dDogc3RyaW5nKSB7XG4gIGNvbnN0IGJsb2NrID0gdGhpcy5nZXRJbnB1dFRhcmdldEJsb2NrKGlucHV0KTtcbiAgcmV0dXJuIGJsb2NrPy5nZXREZXNjZW5kYW50cyh0cnVlKSA/PyBbXTtcbn1cblxuLy8gcmVhZHMgdGhlIFNFVFRJTkdTIGlucHV0IGFuZCByZWN1cnNpdmVseSB0aGF0IGJsb2NrJ3MgTU9SRSBpbnB1dFxuLy8gdG8gZ2V0IGEgc2V0dGluZ3Mgb2JqZWN0XG5leHBvcnQgZnVuY3Rpb24gZ2V0U2V0dGluZ3MoKSB7XG4gIGxldCBzZXR0aW5nczogYW55ID0ge1xuICAgIHBvc2l0aW9uOiB7IHg6IDAsIHk6IDAgfSxcbiAgICBhbmdsZTogMCxcbiAgfTtcbiAgZm9yIChcbiAgICBsZXQgYmxvY2sgPSB0aGlzLmdldElucHV0VGFyZ2V0QmxvY2soJ1NFVFRJTkdTJyk7XG4gICAgYmxvY2sgIT09IG51bGw7XG4gICAgYmxvY2sgPSBibG9jay5nZXRJbnB1dFRhcmdldEJsb2NrKCdNT1JFJylcbiAgKSB7XG4gICAgY29uc3QgbW9yZVNldHRpbmdzID0gYmxvY2suZ2V0U2V0dGluZ3MoKTtcbiAgICBzZXR0aW5ncyA9IHtcbiAgICAgIC8vIG92ZXJ3cml0ZSBzZXR0aW5ncyB3aXRoIGxhdGVyIHNldHRpbmdzXG4gICAgICAuLi5zZXR0aW5ncyxcbiAgICAgIC4uLm1vcmVTZXR0aW5ncyxcbiAgICAgIC8vIGhvd2V2ZXIgbWVyZ2Ugc29tZSBzcGVjaWZpYyBwcm9wZXJ0aWVzXG4gICAgICAuLi4oKCdyZW5kZXInIGluIHNldHRpbmdzIHx8ICdyZW5kZXInIGluIG1vcmVTZXR0aW5nc1xuICAgICAgICA/IHtcbiAgICAgICAgICAgIHJlbmRlcjoge1xuICAgICAgICAgICAgICAuLi5zZXR0aW5ncy5yZW5kZXIsXG4gICAgICAgICAgICAgIC4uLm1vcmVTZXR0aW5ncy5yZW5kZXIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH1cbiAgICAgICAgOiBudWxsKTogYW55KSxcbiAgICAgIC4uLigoJ3BsdWdpbicgaW4gc2V0dGluZ3MgfHwgJ3BsdWdpbicgaW4gbW9yZVNldHRpbmdzXG4gICAgICAgID8ge1xuICAgICAgICAgICAgcGx1Z2luOiB7XG4gICAgICAgICAgICAgIGhlZGdlaG9nOiB7XG4gICAgICAgICAgICAgICAgLi4uc2V0dGluZ3MucGx1Z2luPy5oZWRnZWhvZyxcbiAgICAgICAgICAgICAgICAuLi5tb3JlU2V0dGluZ3MucGx1Z2luPy5oZWRnZWhvZyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfVxuICAgICAgICA6IG51bGwpOiBhbnkpLFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHNldHRpbmdzO1xufVxuXG4vLyBjb2xsZWN0cyBzZXR0aW5ncyBmcm9tIHRoZSBvYmplY3QgYW5kIGFsbCBpdHMgYW5jZXN0b3IgZ3JvdXBzIGFuZCBjb2xsZWN0cyB0aGVtIGludG8gb25lIHNldHRpbmcgb2JqZWN0XG5leHBvcnQgZnVuY3Rpb24gY29sbGVjdFNldHRpbmdzKG9iamVjdCkge1xuICAvLyBwb3NpdGlvbiBhbmQgYW5nbGUgYXJlIHRyZWF0ZWQgc2VwYXJhdGVseSB0byBvdGhlciBzZXR0aW5nc1xuICBsZXQgeyBwb3NpdGlvbiwgYW5nbGUsIC4uLnNldHRpbmdzIH0gPSBvYmplY3QuZ2V0U2V0dGluZ3MoKTtcblxuICBmb3IgKFxuICAgIGxldCBncm91cCA9IG9iamVjdC5nZXRTdXJyb3VuZFBhcmVudCgpO1xuICAgIGdyb3VwLnR5cGUgPT09ICdzaW11bGF0b3JfZ3JvdXAnO1xuICAgIGdyb3VwID0gZ3JvdXAuZ2V0U3Vycm91bmRQYXJlbnQoKVxuICApIHtcbiAgICBjb25zdCB7IHBvc2l0aW9uOiBvdXRlclBvc2l0aW9uLCBhbmdsZTogb3V0ZXJBbmdsZSwgLi4ub3V0ZXJTZXR0aW5ncyB9ID0gZ3JvdXAuZ2V0U2V0dGluZ3MoKTtcblxuICAgIGNvbnN0IGNvcyA9IE1hdGguY29zKG91dGVyQW5nbGUpO1xuICAgIGNvbnN0IHNpbiA9IE1hdGguc2luKG91dGVyQW5nbGUpO1xuICAgIHBvc2l0aW9uID0ge1xuICAgICAgeDogb3V0ZXJQb3NpdGlvbi54ICsgY29zICogcG9zaXRpb24ueCAtIHNpbiAqIHBvc2l0aW9uLnksXG4gICAgICB5OiBvdXRlclBvc2l0aW9uLnkgKyBzaW4gKiBwb3NpdGlvbi54ICsgY29zICogcG9zaXRpb24ueSxcbiAgICB9O1xuICAgIGFuZ2xlICs9IG91dGVyQW5nbGU7XG5cbiAgICBzZXR0aW5ncyA9IHtcbiAgICAgIC8vIHdlJ3JlIGdvaW5nIGZyb20gbW9zdCB0byBsZWFzdCBzcGVjaWZpYywgc28gZG9uJ3Qgb3ZlcnJpZGUgcHJvcGVydGllcyBhbHJlYWR5IHByZXNlbnRcbiAgICAgIC4uLm91dGVyU2V0dGluZ3MsXG4gICAgICAuLi5zZXR0aW5ncyxcbiAgICAgIC8vIGhvd2V2ZXIgbWVyZ2Ugc29tZSBzcGVjaWZpYyBwcm9wZXJ0aWVzXG4gICAgICAuLi4oKCdyZW5kZXInIGluIG91dGVyU2V0dGluZ3MgfHwgJ3JlbmRlcicgaW4gc2V0dGluZ3NcbiAgICAgICAgPyB7XG4gICAgICAgICAgICByZW5kZXI6IHtcbiAgICAgICAgICAgICAgLi4ub3V0ZXJTZXR0aW5ncy5yZW5kZXIsXG4gICAgICAgICAgICAgIC4uLnNldHRpbmdzLnJlbmRlcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfVxuICAgICAgICA6IG51bGwpOiBhbnkpLFxuICAgICAgLi4uKCgncGx1Z2luJyBpbiBvdXRlclNldHRpbmdzIHx8ICdwbHVnaW4nIGluIHNldHRpbmdzXG4gICAgICAgID8ge1xuICAgICAgICAgICAgcGx1Z2luOiB7XG4gICAgICAgICAgICAgIGhlZGdlaG9nOiB7XG4gICAgICAgICAgICAgICAgLi4ub3V0ZXJTZXR0aW5ncy5wbHVnaW4/LmhlZGdlaG9nLFxuICAgICAgICAgICAgICAgIC4uLnNldHRpbmdzLnBsdWdpbj8uaGVkZ2Vob2csXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH1cbiAgICAgICAgOiBudWxsKTogYW55KSxcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgcG9zaXRpb24sXG4gICAgYW5nbGUsXG4gICAgLi4uc2V0dGluZ3MsXG4gIH07XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgQmxvY2tseSBmcm9tICdibG9ja2x5L2NvcmUnO1xuXG5pbXBvcnQgc2ltdWxhdGlvbkJsb2NrcyBmcm9tICcuL3NpbXVsYXRpb24nO1xuaW1wb3J0IHNldHRpbmdzQmxvY2tzIGZyb20gJy4vc2V0dGluZ3MnO1xuaW1wb3J0IG9iamVjdEJsb2NrcyBmcm9tICcuL29iamVjdHMnO1xuaW1wb3J0IHJvYm90QmxvY2tzIGZyb20gJy4vcm9ib3QnO1xuXG5leHBvcnQgKiBmcm9tICcuL3NpbXVsYXRpb24nO1xuZXhwb3J0ICogZnJvbSAnLi9zZXR0aW5ncyc7XG5leHBvcnQgKiBmcm9tICcuL29iamVjdHMnO1xuZXhwb3J0ICogZnJvbSAnLi9yb2JvdCc7XG5cbmNvbnN0IGJsb2NrcyA9IFsuLi5zaW11bGF0aW9uQmxvY2tzLCAuLi5zZXR0aW5nc0Jsb2NrcywgLi4ub2JqZWN0QmxvY2tzLCAuLi5yb2JvdEJsb2Nrc107XG5cbmJsb2Nrcy5mb3JFYWNoKChibG9jaykgPT4ge1xuICBjb25zdCB7IHR5cGUgfSA9IGJsb2NrLmJsb2NrSnNvbjtcblxuICBCbG9ja2x5LkJsb2Nrc1t0eXBlXSA9IHtcbiAgICBpbml0KCkge1xuICAgICAgdGhpcy5qc29uSW5pdChibG9jay5ibG9ja0pzb24pO1xuICAgIH0sXG4gICAgLi4uYmxvY2suYmxvY2tFeHRyYXMsXG4gIH07XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgYmxvY2tzO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBzY2hlbWEgfSBmcm9tICcuLi8uLi9TaW11bGF0b3Ivc2ltdWxhdGlvbic7XG5cbmltcG9ydCB7IGdldFNldHRpbmdzLCBjb2xsZWN0U2V0dGluZ3MgfSBmcm9tICcuL2hlbHBlcnMnO1xuXG5leHBvcnQgY29uc3QgU0lNVUxBVE9SX1JFQ1QgPSB7XG4gIGJsb2NrSnNvbjoge1xuICAgIHR5cGU6ICdzaW11bGF0b3JfcmVjdCcsXG4gICAgbWVzc2FnZTA6ICdSZWN0YW5nbGUgd2l0aCBzaXplICUxIHggJTIgJTMnLFxuICAgIGFyZ3MwOiBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdmaWVsZF9udW1iZXInLFxuICAgICAgICBuYW1lOiAnVycsXG4gICAgICAgIHZhbHVlOiAxMDAsXG4gICAgICAgIHByZWNpc2lvbjogMSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdmaWVsZF9udW1iZXInLFxuICAgICAgICBuYW1lOiAnSCcsXG4gICAgICAgIHZhbHVlOiAxMDAsXG4gICAgICAgIHByZWNpc2lvbjogMSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdpbnB1dF92YWx1ZScsXG4gICAgICAgIG5hbWU6ICdTRVRUSU5HUycsXG4gICAgICAgIGNoZWNrOiAnU2ltdWxhdG9yT2JqZWN0U2V0dGluZ3MnLFxuICAgICAgfSxcbiAgICBdLFxuICAgIHByZXZpb3VzU3RhdGVtZW50OiAnU2ltdWxhdG9yT2JqZWN0JyxcbiAgICBuZXh0U3RhdGVtZW50OiAnU2ltdWxhdG9yT2JqZWN0JyxcbiAgICBjb2xvdXI6IDI0MCxcbiAgICB0b29sdGlwOiAnUmVjdGFuZ2xlIGRlZmluZWQgYnkgaXRzIHdpZHRoIGFuZCBoZWlnaHQnLFxuICAgIGhlbHBVcmw6ICdUT0RPJyxcbiAgfSxcbiAgYmxvY2tFeHRyYXM6IHtcbiAgICBnZXRGaWVsZHMoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAncmVjdGFuZ2xlJyxcbiAgICAgICAgd2lkdGg6IHRoaXMuZ2V0RmllbGRWYWx1ZSgnVycpLFxuICAgICAgICBoZWlnaHQ6IHRoaXMuZ2V0RmllbGRWYWx1ZSgnSCcpLFxuICAgICAgfTtcbiAgICB9LFxuICAgIGdldFNldHRpbmdzLFxuICAgIHNlcmlhbGl6ZSgpOiBzY2hlbWEuUmVjdGFuZ2xlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRoaXMuZ2V0RmllbGRzKCksXG4gICAgICAgIC4uLmNvbGxlY3RTZXR0aW5ncyh0aGlzKSxcbiAgICAgIH07XG4gICAgfSxcbiAgfSxcbiAgdG9vbGJveEJsb2Nrczoge1xuICAgIGRlZmF1bHQ6ICgpID0+IDxibG9jayB0eXBlPVwic2ltdWxhdG9yX3JlY3RcIiAvPixcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBTSU1VTEFUT1JfQ0lSQ0xFID0ge1xuICBibG9ja0pzb246IHtcbiAgICB0eXBlOiAnc2ltdWxhdG9yX2NpcmNsZScsXG4gICAgbWVzc2FnZTA6ICdDaXJjbGUgd2l0aCByYWRpdXMgJTEgJTInLFxuICAgIGFyZ3MwOiBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdmaWVsZF9udW1iZXInLFxuICAgICAgICBuYW1lOiAnUicsXG4gICAgICAgIHZhbHVlOiA1MCxcbiAgICAgICAgcHJlY2lzaW9uOiAxLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2lucHV0X3ZhbHVlJyxcbiAgICAgICAgbmFtZTogJ1NFVFRJTkdTJyxcbiAgICAgICAgY2hlY2s6ICdTaW11bGF0b3JPYmplY3RTZXR0aW5ncycsXG4gICAgICB9LFxuICAgIF0sXG4gICAgcHJldmlvdXNTdGF0ZW1lbnQ6ICdTaW11bGF0b3JPYmplY3QnLFxuICAgIG5leHRTdGF0ZW1lbnQ6ICdTaW11bGF0b3JPYmplY3QnLFxuICAgIGNvbG91cjogMjQwLFxuICAgIHRvb2x0aXA6ICdDaXJjbGUgZGVmaW5lZCBieSBpdHMgcmFkaXVzJyxcbiAgICBoZWxwVXJsOiAnVE9ETycsXG4gIH0sXG4gIGJsb2NrRXh0cmFzOiB7XG4gICAgZ2V0RmllbGRzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2NpcmNsZScsXG4gICAgICAgIHJhZGl1czogdGhpcy5nZXRGaWVsZFZhbHVlKCdSJyksXG4gICAgICB9O1xuICAgIH0sXG4gICAgZ2V0U2V0dGluZ3MsXG4gICAgc2VyaWFsaXplKCk6IHNjaGVtYS5DaXJjbGUge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4udGhpcy5nZXRGaWVsZHMoKSxcbiAgICAgICAgLi4uY29sbGVjdFNldHRpbmdzKHRoaXMpLFxuICAgICAgfTtcbiAgICB9LFxuICB9LFxuICB0b29sYm94QmxvY2tzOiB7XG4gICAgZGVmYXVsdDogKCkgPT4gPGJsb2NrIHR5cGU9XCJzaW11bGF0b3JfY2lyY2xlXCIgLz4sXG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgU0lNVUxBVE9SX1NWRyA9IHtcbiAgYmxvY2tKc29uOiB7XG4gICAgdHlwZTogJ3NpbXVsYXRvcl9zdmcnLFxuICAgIG1lc3NhZ2UwOiAnU1ZHICUxIEAgJTIlJSwgZ3JhbnVsYXJpdHkgJTMgJTQnLFxuICAgIGFyZ3MwOiBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdmaWVsZF9pbnB1dCcsXG4gICAgICAgIG5hbWU6ICdTUkMnLFxuICAgICAgICB2YWx1ZTogJ2Fzc2V0OmZvby5zdmcnLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2ZpZWxkX251bWJlcicsXG4gICAgICAgIG5hbWU6ICdTQ0FMRScsXG4gICAgICAgIHZhbHVlOiAxMDAsXG4gICAgICAgIG1pbjogMSxcbiAgICAgICAgcHJlY2lzaW9uOiAxLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2ZpZWxkX251bWJlcicsXG4gICAgICAgIG5hbWU6ICdHUkFOVUxBUklUWScsXG4gICAgICAgIHZhbHVlOiAxNSxcbiAgICAgICAgbWluOiAxLFxuICAgICAgICBwcmVjaXNpb246IDEsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiAnaW5wdXRfdmFsdWUnLFxuICAgICAgICBuYW1lOiAnU0VUVElOR1MnLFxuICAgICAgICBjaGVjazogJ1NpbXVsYXRvck9iamVjdFNldHRpbmdzJyxcbiAgICAgIH0sXG4gICAgXSxcbiAgICBwcmV2aW91c1N0YXRlbWVudDogJ1NpbXVsYXRvck9iamVjdCcsXG4gICAgbmV4dFN0YXRlbWVudDogJ1NpbXVsYXRvck9iamVjdCcsXG4gICAgY29sb3VyOiAyNDAsXG4gICAgdG9vbHRpcDogJ1NoYXBlIGZyb20gU1ZHJyxcbiAgICBoZWxwVXJsOiAnVE9ETycsXG4gIH0sXG4gIGJsb2NrRXh0cmFzOiB7XG4gICAgZ2V0RmllbGRzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ3N2ZycsXG4gICAgICAgIHNyYzogdGhpcy5nZXRGaWVsZFZhbHVlKCdTUkMnKSxcbiAgICAgICAgc2NhbGU6IHRoaXMuZ2V0RmllbGRWYWx1ZSgnU0NBTEUnKSAvIDEwMCxcbiAgICAgICAgZ3JhbnVsYXJpdHk6IHRoaXMuZ2V0RmllbGRWYWx1ZSgnR1JBTlVMQVJJVFknKSxcbiAgICAgIH07XG4gICAgfSxcbiAgICBnZXRTZXR0aW5ncyxcbiAgICBzZXJpYWxpemUoKTogc2NoZW1hLlN2ZyB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi50aGlzLmdldEZpZWxkcygpLFxuICAgICAgICAuLi5jb2xsZWN0U2V0dGluZ3ModGhpcyksXG4gICAgICB9O1xuICAgIH0sXG4gIH0sXG4gIHRvb2xib3hCbG9ja3M6IHtcbiAgICBkZWZhdWx0OiAoKSA9PiA8YmxvY2sgdHlwZT1cInNpbXVsYXRvcl9zdmdcIiAvPixcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBTSU1VTEFUT1JfR1JPVVAgPSB7XG4gIGJsb2NrSnNvbjoge1xuICAgIHR5cGU6ICdzaW11bGF0b3JfZ3JvdXAnLFxuICAgIG1lc3NhZ2UwOiAnR3JvdXAgJTEgJTInLFxuICAgIGFyZ3MwOiBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdpbnB1dF92YWx1ZScsXG4gICAgICAgIG5hbWU6ICdTRVRUSU5HUycsXG4gICAgICAgIGNoZWNrOiAnU2ltdWxhdG9yT2JqZWN0U2V0dGluZ3MnLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2lucHV0X3N0YXRlbWVudCcsXG4gICAgICAgIG5hbWU6ICdPQkpFQ1RTJyxcbiAgICAgICAgY2hlY2s6ICdTaW11bGF0b3JPYmplY3QnLFxuICAgICAgfSxcbiAgICBdLFxuICAgIHByZXZpb3VzU3RhdGVtZW50OiAnU2ltdWxhdG9yT2JqZWN0JyxcbiAgICBuZXh0U3RhdGVtZW50OiAnU2ltdWxhdG9yT2JqZWN0JyxcbiAgICBjb2xvdXI6IDI3MCxcbiAgICB0b29sdGlwOlxuICAgICAgJ0dyb3VwcyBtdWx0aXBsZSBvYmplY3RzIGFuZCBhcHBsaWVzIHRoZSBzZXR0aW5ncyB0byBhbGwgb2YgdGhlbS4gJyArXG4gICAgICAnTW9yZSBzcGVjaWZpYyBzZXR0aW5ncyB3aW47IG1vdmluZyBhbmQgcm90YXRpbmcgYXJlIGNvbXBvc2VkLicsXG4gICAgaGVscFVybDogJ1RPRE8nLFxuICB9LFxuICBibG9ja0V4dHJhczoge1xuICAgIGdldFNldHRpbmdzLFxuICB9LFxuICB0b29sYm94QmxvY2tzOiB7XG4gICAgZGVmYXVsdDogKCkgPT4gPGJsb2NrIHR5cGU9XCJzaW11bGF0b3JfZ3JvdXBcIiAvPixcbiAgICBsaW5lOiAoKSA9PiAoXG4gICAgICA8YmxvY2sgdHlwZT1cInNpbXVsYXRvcl9ncm91cFwiPlxuICAgICAgICA8dmFsdWUgbmFtZT1cIlNFVFRJTkdTXCI+XG4gICAgICAgICAgPGJsb2NrIHR5cGU9XCJzaW11bGF0b3Jfc2V0dGluZ3NfY29sb3JcIj5cbiAgICAgICAgICAgIDx2YWx1ZSBuYW1lPVwiTU9SRVwiPlxuICAgICAgICAgICAgICA8YmxvY2sgdHlwZT1cInNpbXVsYXRvcl9zZXR0aW5nc19zdGF0aWNcIj5cbiAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT1cIk1PUkVcIj5cbiAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVwic2ltdWxhdG9yX3NldHRpbmdzX3NlbnNvclwiPlxuICAgICAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT1cIk1PUkVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8YmxvY2sgdHlwZT1cInNpbXVsYXRvcl9zZXR0aW5nc19saW5lXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC92YWx1ZT5cbiAgICAgICAgICAgICAgICAgIDwvYmxvY2s+XG4gICAgICAgICAgICAgICAgPC92YWx1ZT5cbiAgICAgICAgICAgICAgPC9ibG9jaz5cbiAgICAgICAgICAgIDwvdmFsdWU+XG4gICAgICAgICAgPC9ibG9jaz5cbiAgICAgICAgPC92YWx1ZT5cbiAgICAgIDwvYmxvY2s+XG4gICAgKSxcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFtTSU1VTEFUT1JfUkVDVCwgU0lNVUxBVE9SX0NJUkNMRSwgU0lNVUxBVE9SX1NWRywgU0lNVUxBVE9SX0dST1VQXTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgc2NoZW1hIH0gZnJvbSAnLi4vLi4vU2ltdWxhdG9yL3NpbXVsYXRpb24nO1xuXG5pbXBvcnQgeyBnZXRJbnB1dERlc2NlbmRhbnRzLCBnZXRTZXR0aW5ncywgY29sbGVjdFNldHRpbmdzIH0gZnJvbSAnLi9oZWxwZXJzJztcblxuZXhwb3J0IGNvbnN0IFNJTVVMQVRPUl9ST0JPVCA9IHtcbiAgYmxvY2tKc29uOiB7XG4gICAgdHlwZTogJ3NpbXVsYXRvcl9yb2JvdCcsXG4gICAgbWVzc2FnZTA6ICdSb2JvdCAlMSwgd2l0aCBkZWZhdWx0IHNlbnNvcnMgJTIsIHdpdGggZGVmYXVsdCBncmFiYmVyICUzICU0ICU1JyxcbiAgICBhcmdzMDogW1xuICAgICAge1xuICAgICAgICB0eXBlOiAnZmllbGRfaW5wdXQnLFxuICAgICAgICBuYW1lOiAnTkFNRScsXG4gICAgICAgIHRleHQ6ICdoZWRnZWhvZycsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiAnZmllbGRfY2hlY2tib3gnLFxuICAgICAgICBuYW1lOiAnREVGQVVMVF9TRU5TT1JTJyxcbiAgICAgICAgY2hlY2tlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdmaWVsZF9jaGVja2JveCcsXG4gICAgICAgIG5hbWU6ICdERUZBVUxUX0dSQUJCRVInLFxuICAgICAgICBjaGVja2VkOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdpbnB1dF92YWx1ZScsXG4gICAgICAgIG5hbWU6ICdTRVRUSU5HUycsXG4gICAgICAgIGNoZWNrOiAnU2ltdWxhdG9yT2JqZWN0U2V0dGluZ3MnLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2lucHV0X3N0YXRlbWVudCcsXG4gICAgICAgIG5hbWU6ICdQQVJUUycsXG4gICAgICAgIGFsaWduOiAnUklHSFQnLFxuICAgICAgICBjaGVjazogJ1NpbXVsYXRvclJvYm90UGFydCcsXG4gICAgICB9LFxuICAgIF0sXG4gICAgcHJldmlvdXNTdGF0ZW1lbnQ6ICdTaW11bGF0b3JPYmplY3QnLFxuICAgIG5leHRTdGF0ZW1lbnQ6ICdTaW11bGF0b3JPYmplY3QnLFxuICAgIGNvbG91cjogOTAsXG4gICAgdG9vbHRpcDogJ3NpbXVsYXRlZCByb2JvdCcsXG4gICAgaGVscFVybDogJ1RPRE8nLFxuICB9LFxuICBibG9ja0V4dHJhczoge1xuICAgIGdldElucHV0RGVzY2VuZGFudHMsXG4gICAgZ2V0RmllbGRzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ3JvYm90JyxcbiAgICAgICAgbmFtZTogdGhpcy5nZXRGaWVsZFZhbHVlKCdOQU1FJyksXG4gICAgICB9O1xuICAgIH0sXG4gICAgZ2V0U2V0dGluZ3MsXG4gICAgc2VyaWFsaXplKCk6IHNjaGVtYS5Sb2JvdCB7XG4gICAgICBjb25zdCBvYmplY3RUeXBlcyA9IFtcbiAgICAgICAgJ3NpbXVsYXRvcl9yb2JvdF9wYXJ0X2xpbmUnLFxuICAgICAgICAnc2ltdWxhdG9yX3JvYm90X3BhcnRfdG91Y2gnLFxuICAgICAgICAnc2ltdWxhdG9yX3JvYm90X3BhcnRfZGlzdGFuY2UnLFxuICAgICAgICAnc2ltdWxhdG9yX3JvYm90X3BhcnRfc2Vydm9fYXJtJyxcbiAgICAgIF07XG5cbiAgICAgIGxldCBwYXJ0cyA9IHRoaXMuZ2V0SW5wdXREZXNjZW5kYW50cygnUEFSVFMnKVxuICAgICAgICAuZmlsdGVyKChibG9jaykgPT4gb2JqZWN0VHlwZXMuaW5jbHVkZXMoYmxvY2sudHlwZSkpXG4gICAgICAgIC5tYXAoKG9iamVjdCkgPT4gb2JqZWN0LnNlcmlhbGl6ZSgpKTtcblxuICAgICAgaWYgKHRoaXMuZ2V0RmllbGQoJ0RFRkFVTFRfR1JBQkJFUicpLmdldFZhbHVlQm9vbGVhbigpKSB7XG4gICAgICAgIGZ1bmN0aW9uIHNlcnZvQXJtKHBvcnQ6IG51bWJlciwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGFuZ2xlOiBudW1iZXIsIGxhYmVsOiBzdHJpbmcpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ3NlcnZvX2FybScsXG4gICAgICAgICAgICBwb3J0LFxuICAgICAgICAgICAgcGl2b3RBbmNob3I6IHtcbiAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgeSxcbiAgICAgICAgICAgICAgYW5nbGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGl2b3RBcm06IHtcbiAgICAgICAgICAgICAgeDogLTE3LFxuICAgICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgICBhbmdsZTogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsZW5ndGg6IDMwLFxuICAgICAgICAgICAgb2JqZWN0czogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3JlY3RhbmdsZScsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDM1LFxuICAgICAgICAgICAgICAgIGhlaWdodDogMyxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBhbmdsZTogMCxcbiAgICAgICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcnRzID0gW1xuICAgICAgICAgIHNlcnZvQXJtKDAsIDI3LCAtMTksIDAsICdsZWZ0U2Vydm9Bcm0nKSxcbiAgICAgICAgICBzZXJ2b0FybSgxLCAyNywgMTksIDAsICdsZWZ0U2Vydm9Bcm0nKSxcbiAgICAgICAgICAuLi5wYXJ0cyxcbiAgICAgICAgXTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZ2V0RmllbGQoJ0RFRkFVTFRfU0VOU09SUycpLmdldFZhbHVlQm9vbGVhbigpKSB7XG4gICAgICAgIGZ1bmN0aW9uIGxpbmVTZW5zb3IocG9ydDogbnVtYmVyLCB4OiBudW1iZXIsIHk6IG51bWJlciwgbGFiZWw6IHN0cmluZykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnbGluZScsXG4gICAgICAgICAgICBwb3J0LFxuICAgICAgICAgICAgb2JqZWN0czogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2NpcmNsZScsXG4gICAgICAgICAgICAgICAgcmFkaXVzOiAyLFxuICAgICAgICAgICAgICAgIGFuZ2xlOiAwLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7IHgsIHkgfSxcbiAgICAgICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGRpc3RhbmNlU2Vuc29yKHBvcnQ6IG51bWJlciwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGFuZ2xlOiBudW1iZXIsIGxhYmVsOiBzdHJpbmcpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2Rpc3RhbmNlJyxcbiAgICAgICAgICAgIHBvcnQsXG4gICAgICAgICAgICBvYmplY3RzOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncmVjdGFuZ2xlJyxcbiAgICAgICAgICAgICAgICB3aWR0aDogMyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDMsXG4gICAgICAgICAgICAgICAgYW5nbGUsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHsgeCwgeSB9LFxuICAgICAgICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdG91Y2hTZW5zb3IocG9ydDogbnVtYmVyLCBvYmplY3Q6IE9iamVjdCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAndG91Y2gnLFxuICAgICAgICAgICAgcG9ydCxcbiAgICAgICAgICAgIG9iamVjdHM6IFtvYmplY3RdLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkZWcgPSBNYXRoLlBJIC8gMTgwO1xuICAgICAgICBwYXJ0cyA9IFtcbiAgICAgICAgICBsaW5lU2Vuc29yKDAsIDIyLCAtMjIsICdsZWZ0TGluZVNlbnNvcicpLFxuICAgICAgICAgIGxpbmVTZW5zb3IoMSwgMjIsIC04LCAnY2VudGVyTGVmdExpbmVTZW5zb3InKSxcbiAgICAgICAgICBsaW5lU2Vuc29yKDIsIDIyLCA4LCAnY2VudGVyUmlnaHRMaW5lU2Vuc29yJyksXG4gICAgICAgICAgbGluZVNlbnNvcigzLCAyMiwgMjIsICdyaWdodExpbmVTZW5zb3InKSxcbiAgICAgICAgICBkaXN0YW5jZVNlbnNvcig0LCAyMCwgLTE0LCAtNjAgKiBkZWcsICdsZWZ0RGlzdGFuY2VTZW5zb3InKSxcbiAgICAgICAgICBkaXN0YW5jZVNlbnNvcig1LCAyMCwgMCwgMCAqIGRlZywgJ2NlbnRlckRpc3RhbmNlU2Vuc29yJyksXG4gICAgICAgICAgZGlzdGFuY2VTZW5zb3IoNiwgMjAsIDE0LCA2MCAqIGRlZywgJ3JpZ2h0RGlzdGFuY2VTZW5zb3InKSxcbiAgICAgICAgICB0b3VjaFNlbnNvcig4LCB7XG4gICAgICAgICAgICB0eXBlOiAncmVjdGFuZ2xlJyxcbiAgICAgICAgICAgIHdpZHRoOiAzLFxuICAgICAgICAgICAgaGVpZ2h0OiAzMixcbiAgICAgICAgICAgIGFuZ2xlOiAwLFxuICAgICAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgICAgeDogMjQsXG4gICAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGFiZWw6ICdmcm9udFRvdWNoU2Vuc29yJyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICAuLi5wYXJ0cyxcbiAgICAgICAgXTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qge1xuICAgICAgICBzdGF0aWM6IF9zdGF0aWMsXG4gICAgICAgIHNlbnNvcjogX3NlbnNvcixcbiAgICAgICAgZGVuc2l0eTogX2RlbnNpdHksXG4gICAgICAgIGZyaWN0aW9uQWlyOiBfZnJpY3Rpb25BaXIsXG4gICAgICAgIC4uLnNldHRpbmdzXG4gICAgICB9ID0gY29sbGVjdFNldHRpbmdzKHRoaXMpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi50aGlzLmdldEZpZWxkcygpLFxuICAgICAgICAuLi5zZXR0aW5ncyxcbiAgICAgICAgcGFydHMsXG4gICAgICB9O1xuICAgIH0sXG4gIH0sXG4gIHRvb2xib3hCbG9ja3M6IHtcbiAgICBkZWZhdWx0OiAoKSA9PiA8YmxvY2sgdHlwZT1cInNpbXVsYXRvcl9yb2JvdFwiIC8+LFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IFNJTVVMQVRPUl9ST0JPVF9QQVJUX0xJTkUgPSB7XG4gIGJsb2NrSnNvbjoge1xuICAgIHR5cGU6ICdzaW11bGF0b3Jfcm9ib3RfcGFydF9saW5lJyxcbiAgICBtZXNzYWdlMDogJ0xpbmUgU2Vuc29yICUxICUyICUzJyxcbiAgICBhcmdzMDogW1xuICAgICAge1xuICAgICAgICB0eXBlOiAnZmllbGRfbnVtYmVyJyxcbiAgICAgICAgbmFtZTogJ1BPUlQnLFxuICAgICAgICB2YWx1ZTogMCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdpbnB1dF9kdW1teScsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiAnaW5wdXRfc3RhdGVtZW50JyxcbiAgICAgICAgbmFtZTogJ09CSkVDVFMnLFxuICAgICAgICBhbGlnbjogJ1JJR0hUJyxcbiAgICAgICAgY2hlY2s6ICdTaW11bGF0b3JPYmplY3QnLFxuICAgICAgfSxcbiAgICBdLFxuICAgIHByZXZpb3VzU3RhdGVtZW50OiAnU2ltdWxhdG9yUm9ib3RQYXJ0JyxcbiAgICBuZXh0U3RhdGVtZW50OiAnU2ltdWxhdG9yUm9ib3RQYXJ0JyxcbiAgICBjb2xvdXI6IDkwLFxuICAgIHRvb2x0aXA6ICdzaW11bGF0ZWQgbGluZSAocmVmbGVjdGFuY2UpIHNlbnNvcicsXG4gICAgaGVscFVybDogJ1RPRE8nLFxuICB9LFxuICBibG9ja0V4dHJhczoge1xuICAgIGdldElucHV0RGVzY2VuZGFudHMsXG4gICAgZ2V0RmllbGRzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2xpbmUnLFxuICAgICAgICBwb3J0OiB0aGlzLmdldEZpZWxkVmFsdWUoJ1BPUlQnKSxcbiAgICAgIH07XG4gICAgfSxcbiAgICBzZXJpYWxpemUoKTogc2NoZW1hLlRvdWNoU2Vuc29yIHtcbiAgICAgIGNvbnN0IG9iamVjdFR5cGVzID0gWydzaW11bGF0b3JfcmVjdCcsICdzaW11bGF0b3JfY2lyY2xlJywgJ3NpbXVsYXRvcl9zdmcnXTtcblxuICAgICAgY29uc3Qgb2JqZWN0cyA9IHRoaXMuZ2V0SW5wdXREZXNjZW5kYW50cygnT0JKRUNUUycpXG4gICAgICAgIC5maWx0ZXIoKGJsb2NrKSA9PiBvYmplY3RUeXBlcy5pbmNsdWRlcyhibG9jay50eXBlKSlcbiAgICAgICAgLm1hcCgob2JqZWN0KSA9PiBvYmplY3Quc2VyaWFsaXplKCkpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi50aGlzLmdldEZpZWxkcygpLFxuICAgICAgICBvYmplY3RzLFxuICAgICAgfTtcbiAgICB9LFxuICB9LFxuICB0b29sYm94QmxvY2tzOiB7XG4gICAgZGVmYXVsdDogKCkgPT4gKFxuICAgICAgPGJsb2NrIHR5cGU9XCJzaW11bGF0b3Jfcm9ib3RfcGFydF9saW5lXCI+XG4gICAgICAgIDx2YWx1ZSBuYW1lPVwiT0JKRUNUU1wiPlxuICAgICAgICAgIDxibG9jayB0eXBlPVwic2ltdWxhdG9yX2NpcmNsZVwiPlxuICAgICAgICAgICAgPGZpZWxkIG5hbWU9XCJSXCI+MjwvZmllbGQ+XG4gICAgICAgICAgICA8dmFsdWUgbmFtZT1cIlNFVFRJTkdTXCI+XG4gICAgICAgICAgICAgIDxibG9jayB0eXBlPVwic2ltdWxhdG9yX3NldHRpbmdzX3RyYW5zbGF0ZVwiPlxuICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPVwiTU9SRVwiPlxuICAgICAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9XCJzaW11bGF0b3Jfc2V0dGluZ3NfbGFiZWxcIj5cbiAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XCJMQUJFTFwiPmxpbmVTZW5zb3I8L2ZpZWxkPlxuICAgICAgICAgICAgICAgICAgPC9ibG9jaz5cbiAgICAgICAgICAgICAgICA8L3ZhbHVlPlxuICAgICAgICAgICAgICA8L2Jsb2NrPlxuICAgICAgICAgICAgPC92YWx1ZT5cbiAgICAgICAgICA8L2Jsb2NrPlxuICAgICAgICA8L3ZhbHVlPlxuICAgICAgPC9ibG9jaz5cbiAgICApLFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IFNJTVVMQVRPUl9ST0JPVF9QQVJUX1RPVUNIID0ge1xuICBibG9ja0pzb246IHtcbiAgICB0eXBlOiAnc2ltdWxhdG9yX3JvYm90X3BhcnRfdG91Y2gnLFxuICAgIG1lc3NhZ2UwOiAnVG91Y2ggU2Vuc29yICUxICUyICUzJyxcbiAgICBhcmdzMDogW1xuICAgICAge1xuICAgICAgICB0eXBlOiAnZmllbGRfbnVtYmVyJyxcbiAgICAgICAgbmFtZTogJ1BPUlQnLFxuICAgICAgICB2YWx1ZTogMCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdpbnB1dF9kdW1teScsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiAnaW5wdXRfc3RhdGVtZW50JyxcbiAgICAgICAgbmFtZTogJ09CSkVDVFMnLFxuICAgICAgICBhbGlnbjogJ1JJR0hUJyxcbiAgICAgICAgY2hlY2s6ICdTaW11bGF0b3JPYmplY3QnLFxuICAgICAgfSxcbiAgICBdLFxuICAgIHByZXZpb3VzU3RhdGVtZW50OiAnU2ltdWxhdG9yUm9ib3RQYXJ0JyxcbiAgICBuZXh0U3RhdGVtZW50OiAnU2ltdWxhdG9yUm9ib3RQYXJ0JyxcbiAgICBjb2xvdXI6IDkwLFxuICAgIHRvb2x0aXA6ICdzaW11bGF0ZWQgdG91Y2ggc2Vuc29yJyxcbiAgICBoZWxwVXJsOiAnVE9ETycsXG4gIH0sXG4gIGJsb2NrRXh0cmFzOiB7XG4gICAgZ2V0SW5wdXREZXNjZW5kYW50cyxcbiAgICBnZXRGaWVsZHMoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAndG91Y2gnLFxuICAgICAgICBwb3J0OiB0aGlzLmdldEZpZWxkVmFsdWUoJ1BPUlQnKSxcbiAgICAgIH07XG4gICAgfSxcbiAgICBzZXJpYWxpemUoKTogc2NoZW1hLlRvdWNoU2Vuc29yIHtcbiAgICAgIGNvbnN0IG9iamVjdFR5cGVzID0gWydzaW11bGF0b3JfcmVjdCcsICdzaW11bGF0b3JfY2lyY2xlJywgJ3NpbXVsYXRvcl9zdmcnXTtcblxuICAgICAgY29uc3Qgb2JqZWN0cyA9IHRoaXMuZ2V0SW5wdXREZXNjZW5kYW50cygnT0JKRUNUUycpXG4gICAgICAgIC5maWx0ZXIoKGJsb2NrKSA9PiBvYmplY3RUeXBlcy5pbmNsdWRlcyhibG9jay50eXBlKSlcbiAgICAgICAgLm1hcCgob2JqZWN0KSA9PiBvYmplY3Quc2VyaWFsaXplKCkpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi50aGlzLmdldEZpZWxkcygpLFxuICAgICAgICBvYmplY3RzLFxuICAgICAgfTtcbiAgICB9LFxuICB9LFxuICB0b29sYm94QmxvY2tzOiB7XG4gICAgZGVmYXVsdDogKCkgPT4gKFxuICAgICAgPGJsb2NrIHR5cGU9XCJzaW11bGF0b3Jfcm9ib3RfcGFydF90b3VjaFwiPlxuICAgICAgICA8dmFsdWUgbmFtZT1cIk9CSkVDVFNcIj5cbiAgICAgICAgICA8YmxvY2sgdHlwZT1cInNpbXVsYXRvcl9yZWN0XCI+XG4gICAgICAgICAgICA8ZmllbGQgbmFtZT1cIldcIj4zPC9maWVsZD5cbiAgICAgICAgICAgIDxmaWVsZCBuYW1lPVwiSFwiPjMyPC9maWVsZD5cbiAgICAgICAgICAgIDx2YWx1ZSBuYW1lPVwiU0VUVElOR1NcIj5cbiAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9XCJzaW11bGF0b3Jfc2V0dGluZ3NfdHJhbnNsYXRlXCI+XG4gICAgICAgICAgICAgICAgPHZhbHVlIG5hbWU9XCJNT1JFXCI+XG4gICAgICAgICAgICAgICAgICA8YmxvY2sgdHlwZT1cInNpbXVsYXRvcl9zZXR0aW5nc19sYWJlbFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cIkxBQkVMXCI+dG91Y2hTZW5zb3I8L2ZpZWxkPlxuICAgICAgICAgICAgICAgICAgPC9ibG9jaz5cbiAgICAgICAgICAgICAgICA8L3ZhbHVlPlxuICAgICAgICAgICAgICA8L2Jsb2NrPlxuICAgICAgICAgICAgPC92YWx1ZT5cbiAgICAgICAgICA8L2Jsb2NrPlxuICAgICAgICA8L3ZhbHVlPlxuICAgICAgPC9ibG9jaz5cbiAgICApLFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IFNJTVVMQVRPUl9ST0JPVF9QQVJUX0RJU1RBTkNFID0ge1xuICBibG9ja0pzb246IHtcbiAgICB0eXBlOiAnc2ltdWxhdG9yX3JvYm90X3BhcnRfZGlzdGFuY2UnLFxuICAgIG1lc3NhZ2UwOiAnRGlzdGFuY2UgU2Vuc29yICUxICUyICUzJyxcbiAgICBhcmdzMDogW1xuICAgICAge1xuICAgICAgICB0eXBlOiAnZmllbGRfbnVtYmVyJyxcbiAgICAgICAgbmFtZTogJ1BPUlQnLFxuICAgICAgICB2YWx1ZTogMCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdpbnB1dF9kdW1teScsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiAnaW5wdXRfc3RhdGVtZW50JyxcbiAgICAgICAgbmFtZTogJ09CSkVDVFMnLFxuICAgICAgICBhbGlnbjogJ1JJR0hUJyxcbiAgICAgICAgY2hlY2s6ICdTaW11bGF0b3JPYmplY3QnLFxuICAgICAgfSxcbiAgICBdLFxuICAgIHByZXZpb3VzU3RhdGVtZW50OiAnU2ltdWxhdG9yUm9ib3RQYXJ0JyxcbiAgICBuZXh0U3RhdGVtZW50OiAnU2ltdWxhdG9yUm9ib3RQYXJ0JyxcbiAgICBjb2xvdXI6IDkwLFxuICAgIHRvb2x0aXA6ICdzaW11bGF0ZWQgKGluZnJhcmVkIHRyaWFuZ3VsYXRpb24pIGRpc3RhbmNlIHNlbnNvcicsXG4gICAgaGVscFVybDogJ1RPRE8nLFxuICB9LFxuICBibG9ja0V4dHJhczoge1xuICAgIGdldElucHV0RGVzY2VuZGFudHMsXG4gICAgZ2V0RmllbGRzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2Rpc3RhbmNlJyxcbiAgICAgICAgcG9ydDogdGhpcy5nZXRGaWVsZFZhbHVlKCdQT1JUJyksXG4gICAgICB9O1xuICAgIH0sXG4gICAgc2VyaWFsaXplKCk6IHNjaGVtYS5Ub3VjaFNlbnNvciB7XG4gICAgICBjb25zdCBvYmplY3RUeXBlcyA9IFsnc2ltdWxhdG9yX3JlY3QnLCAnc2ltdWxhdG9yX2NpcmNsZScsICdzaW11bGF0b3Jfc3ZnJ107XG5cbiAgICAgIGNvbnN0IG9iamVjdHMgPSB0aGlzLmdldElucHV0RGVzY2VuZGFudHMoJ09CSkVDVFMnKVxuICAgICAgICAuZmlsdGVyKChibG9jaykgPT4gb2JqZWN0VHlwZXMuaW5jbHVkZXMoYmxvY2sudHlwZSkpXG4gICAgICAgIC5tYXAoKG9iamVjdCkgPT4gb2JqZWN0LnNlcmlhbGl6ZSgpKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4udGhpcy5nZXRGaWVsZHMoKSxcbiAgICAgICAgb2JqZWN0cyxcbiAgICAgIH07XG4gICAgfSxcbiAgfSxcbiAgdG9vbGJveEJsb2Nrczoge1xuICAgIGRlZmF1bHQ6ICgpID0+IChcbiAgICAgIDxibG9jayB0eXBlPVwic2ltdWxhdG9yX3JvYm90X3BhcnRfZGlzdGFuY2VcIj5cbiAgICAgICAgPHZhbHVlIG5hbWU9XCJPQkpFQ1RTXCI+XG4gICAgICAgICAgPGJsb2NrIHR5cGU9XCJzaW11bGF0b3JfcmVjdFwiPlxuICAgICAgICAgICAgPGZpZWxkIG5hbWU9XCJXXCI+MzwvZmllbGQ+XG4gICAgICAgICAgICA8ZmllbGQgbmFtZT1cIkhcIj4zPC9maWVsZD5cbiAgICAgICAgICAgIDx2YWx1ZSBuYW1lPVwiU0VUVElOR1NcIj5cbiAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9XCJzaW11bGF0b3Jfc2V0dGluZ3NfdHJhbnNsYXRlXCI+XG4gICAgICAgICAgICAgICAgPHZhbHVlIG5hbWU9XCJNT1JFXCI+XG4gICAgICAgICAgICAgICAgICA8YmxvY2sgdHlwZT1cInNpbXVsYXRvcl9zZXR0aW5nc19yb3RhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgPHZhbHVlIG5hbWU9XCJNT1JFXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9XCJzaW11bGF0b3Jfc2V0dGluZ3NfbGFiZWxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVwiTEFCRUxcIj5kaXN0YW5jZVNlbnNvcjwvZmllbGQ+XG4gICAgICAgICAgICAgICAgICAgICAgPC9ibG9jaz5cbiAgICAgICAgICAgICAgICAgICAgPC92YWx1ZT5cbiAgICAgICAgICAgICAgICAgIDwvYmxvY2s+XG4gICAgICAgICAgICAgICAgPC92YWx1ZT5cbiAgICAgICAgICAgICAgPC9ibG9jaz5cbiAgICAgICAgICAgIDwvdmFsdWU+XG4gICAgICAgICAgPC9ibG9jaz5cbiAgICAgICAgPC92YWx1ZT5cbiAgICAgIDwvYmxvY2s+XG4gICAgKSxcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBTSU1VTEFUT1JfUk9CT1RfUEFSVF9TRVJWT19BUk0gPSB7XG4gIGJsb2NrSnNvbjoge1xuICAgIHR5cGU6ICdzaW11bGF0b3Jfcm9ib3RfcGFydF9zZXJ2b19hcm0nLFxuICAgIG1lc3NhZ2UwOlxuICAgICAgJ1NlcnZvIEFybSAlMSAlMiBBbmNob3IgcGl2b3QgYXQgKCUzLCAlNCkgJTXCsCAlNiBBcm0gcGl2b3QgYXQgKCU3LCAlOCkgJTnCsCAlMTAgQ29udHJvbCBwb2ludCBkaXN0YW5jZSAlMTEgJTEyICUxMycsXG4gICAgYXJnczA6IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2ZpZWxkX251bWJlcicsXG4gICAgICAgIG5hbWU6ICdQT1JUJyxcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiAnaW5wdXRfZHVtbXknLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2ZpZWxkX251bWJlcicsXG4gICAgICAgIG5hbWU6ICdBTkNIT1JfWCcsXG4gICAgICAgIHZhbHVlOiAwLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2ZpZWxkX251bWJlcicsXG4gICAgICAgIG5hbWU6ICdBTkNIT1JfWScsXG4gICAgICAgIHZhbHVlOiAwLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2ZpZWxkX2FuZ2xlJyxcbiAgICAgICAgbmFtZTogJ0FOQ0hPUl9BTkdMRScsXG4gICAgICAgIHZhbHVlOiAwLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2lucHV0X2R1bW15JyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdmaWVsZF9udW1iZXInLFxuICAgICAgICBuYW1lOiAnQVJNX1gnLFxuICAgICAgICB2YWx1ZTogMCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdmaWVsZF9udW1iZXInLFxuICAgICAgICBuYW1lOiAnQVJNX1knLFxuICAgICAgICB2YWx1ZTogMCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdmaWVsZF9hbmdsZScsXG4gICAgICAgIG5hbWU6ICdBUk1fQU5HTEUnLFxuICAgICAgICB2YWx1ZTogMCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdpbnB1dF9kdW1teScsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiAnZmllbGRfbnVtYmVyJyxcbiAgICAgICAgbmFtZTogJ0NPTlRST0xfTEVOR1RIJyxcbiAgICAgICAgdmFsdWU6IDMwLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2lucHV0X2R1bW15JyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdpbnB1dF9zdGF0ZW1lbnQnLFxuICAgICAgICBuYW1lOiAnT0JKRUNUUycsXG4gICAgICAgIGFsaWduOiAnUklHSFQnLFxuICAgICAgICBjaGVjazogJ1NpbXVsYXRvck9iamVjdCcsXG4gICAgICB9LFxuICAgIF0sXG4gICAgcHJldmlvdXNTdGF0ZW1lbnQ6ICdTaW11bGF0b3JSb2JvdFBhcnQnLFxuICAgIG5leHRTdGF0ZW1lbnQ6ICdTaW11bGF0b3JSb2JvdFBhcnQnLFxuICAgIGNvbG91cjogOTAsXG4gICAgdG9vbHRpcDogJ3NpbXVsYXRlZCBzZXJ2byBhcm0nLFxuICAgIGhlbHBVcmw6ICdUT0RPJyxcbiAgfSxcbiAgYmxvY2tFeHRyYXM6IHtcbiAgICBnZXRJbnB1dERlc2NlbmRhbnRzLFxuICAgIGdldEZpZWxkcygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdzZXJ2b19hcm0nLFxuICAgICAgICBwb3J0OiB0aGlzLmdldEZpZWxkVmFsdWUoJ1BPUlQnKSxcbiAgICAgICAgcGl2b3RBbmNob3I6IHtcbiAgICAgICAgICB4OiB0aGlzLmdldEZpZWxkVmFsdWUoJ0FOQ0hPUl9YJyksXG4gICAgICAgICAgeTogdGhpcy5nZXRGaWVsZFZhbHVlKCdBTkNIT1JfWScpLFxuICAgICAgICAgIGFuZ2xlOiAtKHRoaXMuZ2V0RmllbGRWYWx1ZSgnQU5DSE9SX0FOR0xFJykgLyAxODApICogTWF0aC5QSSxcbiAgICAgICAgfSxcbiAgICAgICAgcGl2b3RBcm06IHtcbiAgICAgICAgICB4OiB0aGlzLmdldEZpZWxkVmFsdWUoJ0FSTV9YJyksXG4gICAgICAgICAgeTogdGhpcy5nZXRGaWVsZFZhbHVlKCdBUk1fWScpLFxuICAgICAgICAgIGFuZ2xlOiAtKHRoaXMuZ2V0RmllbGRWYWx1ZSgnQVJNX0FOR0xFJykgLyAxODApICogTWF0aC5QSSxcbiAgICAgICAgfSxcbiAgICAgICAgbGVuZ3RoOiB0aGlzLmdldEZpZWxkVmFsdWUoJ0NPTlRST0xfTEVOR1RIJyksXG4gICAgICB9O1xuICAgIH0sXG4gICAgc2VyaWFsaXplKCk6IHNjaGVtYS5Ub3VjaFNlbnNvciB7XG4gICAgICBjb25zdCBvYmplY3RUeXBlcyA9IFsnc2ltdWxhdG9yX3JlY3QnLCAnc2ltdWxhdG9yX2NpcmNsZScsICdzaW11bGF0b3Jfc3ZnJ107XG5cbiAgICAgIGNvbnN0IG9iamVjdHMgPSB0aGlzLmdldElucHV0RGVzY2VuZGFudHMoJ09CSkVDVFMnKVxuICAgICAgICAuZmlsdGVyKChibG9jaykgPT4gb2JqZWN0VHlwZXMuaW5jbHVkZXMoYmxvY2sudHlwZSkpXG4gICAgICAgIC5tYXAoKG9iamVjdCkgPT4gb2JqZWN0LnNlcmlhbGl6ZSgpKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4udGhpcy5nZXRGaWVsZHMoKSxcbiAgICAgICAgb2JqZWN0cyxcbiAgICAgIH07XG4gICAgfSxcbiAgfSxcbiAgdG9vbGJveEJsb2Nrczoge1xuICAgIGRlZmF1bHQ6ICgpID0+IChcbiAgICAgIDxibG9jayB0eXBlPVwic2ltdWxhdG9yX3JvYm90X3BhcnRfc2Vydm9fYXJtXCI+XG4gICAgICAgIDx2YWx1ZSBuYW1lPVwiT0JKRUNUU1wiPlxuICAgICAgICAgIDxibG9jayB0eXBlPVwic2ltdWxhdG9yX3JlY3RcIj5cbiAgICAgICAgICAgIDxmaWVsZCBuYW1lPVwiV1wiPjM1PC9maWVsZD5cbiAgICAgICAgICAgIDxmaWVsZCBuYW1lPVwiSFwiPjM8L2ZpZWxkPlxuICAgICAgICAgICAgPHZhbHVlIG5hbWU9XCJTRVRUSU5HU1wiPlxuICAgICAgICAgICAgICA8YmxvY2sgdHlwZT1cInNpbXVsYXRvcl9zZXR0aW5nc19sYWJlbFwiPlxuICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVwiTEFCRUxcIj5zZXJ2b0FybTwvZmllbGQ+XG4gICAgICAgICAgICAgIDwvYmxvY2s+XG4gICAgICAgICAgICA8L3ZhbHVlPlxuICAgICAgICAgIDwvYmxvY2s+XG4gICAgICAgIDwvdmFsdWU+XG4gICAgICA8L2Jsb2NrPlxuICAgICksXG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBbXG4gIFNJTVVMQVRPUl9ST0JPVCxcbiAgU0lNVUxBVE9SX1JPQk9UX1BBUlRfTElORSxcbiAgU0lNVUxBVE9SX1JPQk9UX1BBUlRfVE9VQ0gsXG4gIFNJTVVMQVRPUl9ST0JPVF9QQVJUX0RJU1RBTkNFLFxuICBTSU1VTEFUT1JfUk9CT1RfUEFSVF9TRVJWT19BUk0sXG5dO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBmb3JiaWRzQW5jZXN0b3IgfSBmcm9tICcuL2hlbHBlcnMnO1xuXG5leHBvcnQgY29uc3QgU0lNVUxBVE9SX1NFVFRJTkdTX1RSQU5TTEFURSA9IHtcbiAgYmxvY2tKc29uOiB7XG4gICAgdHlwZTogJ3NpbXVsYXRvcl9zZXR0aW5nc190cmFuc2xhdGUnLFxuICAgIG1lc3NhZ2UwOiAnbW92ZWQgYnkgKCUxLCAlMikgJTMnLFxuICAgIGFyZ3MwOiBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdmaWVsZF9udW1iZXInLFxuICAgICAgICBuYW1lOiAnWCcsXG4gICAgICAgIHZhbHVlOiAwLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2ZpZWxkX251bWJlcicsXG4gICAgICAgIG5hbWU6ICdZJyxcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiAnaW5wdXRfdmFsdWUnLFxuICAgICAgICBuYW1lOiAnTU9SRScsXG4gICAgICAgIGNoZWNrOiAnU2ltdWxhdG9yT2JqZWN0U2V0dGluZ3MnLFxuICAgICAgfSxcbiAgICBdLFxuICAgIGlucHV0c0lubGluZTogZmFsc2UsXG4gICAgb3V0cHV0OiAnU2ltdWxhdG9yT2JqZWN0U2V0dGluZ3MnLFxuICAgIGNvbG91cjogMTgwLFxuICAgIHRvb2x0aXA6ICdtb3ZlcyBhbiBvYmplY3Qgb3IgZ3JvdXAgYnkgdGhlIGdpdmVuIHgveSBvZmZzZXQnLFxuICAgIGhlbHBVcmw6ICdUT0RPJyxcbiAgfSxcbiAgYmxvY2tFeHRyYXM6IHtcbiAgICBnZXRTZXR0aW5ncygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgeDogdGhpcy5nZXRGaWVsZFZhbHVlKCdYJyksXG4gICAgICAgICAgeTogdGhpcy5nZXRGaWVsZFZhbHVlKCdZJyksXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH0sXG4gIH0sXG4gIHRvb2xib3hCbG9ja3M6IHtcbiAgICBkZWZhdWx0OiAoKSA9PiA8YmxvY2sgdHlwZT1cInNpbXVsYXRvcl9zZXR0aW5nc190cmFuc2xhdGVcIiAvPixcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBTSU1VTEFUT1JfU0VUVElOR1NfUk9UQVRFID0ge1xuICBibG9ja0pzb246IHtcbiAgICB0eXBlOiAnc2ltdWxhdG9yX3NldHRpbmdzX3JvdGF0ZScsXG4gICAgbWVzc2FnZTA6ICdyb3RhdGVkIGJ5ICUxICUyJyxcbiAgICBhcmdzMDogW1xuICAgICAge1xuICAgICAgICB0eXBlOiAnZmllbGRfYW5nbGUnLFxuICAgICAgICBuYW1lOiAnQU5HTEUnLFxuICAgICAgICBhbmdsZTogMCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdpbnB1dF92YWx1ZScsXG4gICAgICAgIG5hbWU6ICdNT1JFJyxcbiAgICAgICAgY2hlY2s6ICdTaW11bGF0b3JPYmplY3RTZXR0aW5ncycsXG4gICAgICB9LFxuICAgIF0sXG4gICAgaW5wdXRzSW5saW5lOiBmYWxzZSxcbiAgICBvdXRwdXQ6ICdTaW11bGF0b3JPYmplY3RTZXR0aW5ncycsXG4gICAgY29sb3VyOiAxODAsXG4gICAgdG9vbHRpcDogJ3JvdGF0ZXMgYW4gb2JqZWN0IG9yIGdyb3VwIGJ5IHRoZSBnaXZlbiBhbmdsZScsXG4gICAgaGVscFVybDogJ1RPRE8nLFxuICB9LFxuICBibG9ja0V4dHJhczoge1xuICAgIGdldFNldHRpbmdzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYW5nbGU6IC0odGhpcy5nZXRGaWVsZFZhbHVlKCdBTkdMRScpIC8gMTgwKSAqIE1hdGguUEksXG4gICAgICB9O1xuICAgIH0sXG4gIH0sXG4gIHRvb2xib3hCbG9ja3M6IHtcbiAgICBkZWZhdWx0OiAoKSA9PiA8YmxvY2sgdHlwZT1cInNpbXVsYXRvcl9zZXR0aW5nc19yb3RhdGVcIiAvPixcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBTSU1VTEFUT1JfU0VUVElOR1NfQ09MT1IgPSB7XG4gIGJsb2NrSnNvbjoge1xuICAgIHR5cGU6ICdzaW11bGF0b3Jfc2V0dGluZ3NfY29sb3InLFxuICAgIG1lc3NhZ2UwOiAnY29sb3I6ICUxICUyJyxcbiAgICBhcmdzMDogW1xuICAgICAge1xuICAgICAgICB0eXBlOiAnZmllbGRfY29sb3VyJyxcbiAgICAgICAgbmFtZTogJ0NPTE9VUicsXG4gICAgICAgIGNvbG91cjogJyMyMjIyMjInLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2lucHV0X3ZhbHVlJyxcbiAgICAgICAgbmFtZTogJ01PUkUnLFxuICAgICAgICBjaGVjazogJ1NpbXVsYXRvck9iamVjdFNldHRpbmdzJyxcbiAgICAgIH0sXG4gICAgXSxcbiAgICBpbnB1dHNJbmxpbmU6IGZhbHNlLFxuICAgIG91dHB1dDogJ1NpbXVsYXRvck9iamVjdFNldHRpbmdzJyxcbiAgICBjb2xvdXI6IDE4MCxcbiAgICB0b29sdGlwOiAnc2V0cyB0aGUgY29sb3Igb2YgYW4gb2JqZWN0IG9yIGdyb3VwJyxcbiAgICBoZWxwVXJsOiAnVE9ETycsXG4gIH0sXG4gIGJsb2NrRXh0cmFzOiB7XG4gICAgZ2V0U2V0dGluZ3MoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZW5kZXI6IHtcbiAgICAgICAgICBmaWxsU3R5bGU6IHRoaXMuZ2V0RmllbGRWYWx1ZSgnQ09MT1VSJyksXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH0sXG4gIH0sXG4gIHRvb2xib3hCbG9ja3M6IHtcbiAgICBkZWZhdWx0OiAoKSA9PiA8YmxvY2sgdHlwZT1cInNpbXVsYXRvcl9zZXR0aW5nc19jb2xvclwiIC8+LFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IFNJTVVMQVRPUl9TRVRUSU5HU19WSVNJQklMSVRZID0ge1xuICBibG9ja0pzb246IHtcbiAgICB0eXBlOiAnc2ltdWxhdG9yX3NldHRpbmdzX3Zpc2liaWxpdHknLFxuICAgIG1lc3NhZ2UwOiAndmlzaWJsZTogJTEgJTIlJSAlMycsXG4gICAgYXJnczA6IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2ZpZWxkX2NoZWNrYm94JyxcbiAgICAgICAgbmFtZTogJ1ZJU0lCSUxJVFknLFxuICAgICAgICBjaGVja2VkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2ZpZWxkX251bWJlcicsXG4gICAgICAgIG5hbWU6ICdPUEFDSVRZJyxcbiAgICAgICAgdmFsdWU6IDEwMCxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDEwMCxcbiAgICAgICAgcHJlY2lzaW9uOiAxLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2lucHV0X3ZhbHVlJyxcbiAgICAgICAgbmFtZTogJ01PUkUnLFxuICAgICAgICBjaGVjazogJ1NpbXVsYXRvck9iamVjdFNldHRpbmdzJyxcbiAgICAgIH0sXG4gICAgXSxcbiAgICBpbnB1dHNJbmxpbmU6IGZhbHNlLFxuICAgIG91dHB1dDogJ1NpbXVsYXRvck9iamVjdFNldHRpbmdzJyxcbiAgICBjb2xvdXI6IDE4MCxcbiAgICB0b29sdGlwOiAnc2V0cyB0aGUgdmlzaWJpbGl0eSBvZiBhbiBvYmplY3Qgb3IgZ3JvdXAnLFxuICAgIGhlbHBVcmw6ICdUT0RPJyxcbiAgfSxcbiAgYmxvY2tFeHRyYXM6IHtcbiAgICBnZXRTZXR0aW5ncygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlbmRlcjoge1xuICAgICAgICAgIG9wYWNpdHk6IHRoaXMuZ2V0RmllbGRWYWx1ZSgnT1BBQ0lUWScpIC8gMTAwLFxuICAgICAgICAgIHZpc2libGU6IHRoaXMuZ2V0RmllbGQoJ1ZJU0lCSUxJVFknKS5nZXRWYWx1ZUJvb2xlYW4oKSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSxcbiAgfSxcbiAgdG9vbGJveEJsb2Nrczoge1xuICAgIGRlZmF1bHQ6ICgpID0+IDxibG9jayB0eXBlPVwic2ltdWxhdG9yX3NldHRpbmdzX3Zpc2liaWxpdHlcIiAvPixcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBTSU1VTEFUT1JfU0VUVElOR1NfU1BSSVRFID0ge1xuICBibG9ja0pzb246IHtcbiAgICB0eXBlOiAnc2ltdWxhdG9yX3NldHRpbmdzX3Nwcml0ZScsXG4gICAgbWVzc2FnZTA6ICdzcHJpdGU6ICUxICUyJyxcbiAgICBhcmdzMDogW1xuICAgICAge1xuICAgICAgICB0eXBlOiAnZmllbGRfaW5wdXQnLFxuICAgICAgICBuYW1lOiAnVVJMJyxcbiAgICAgICAgdmFsdWU6ICcnLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2lucHV0X3ZhbHVlJyxcbiAgICAgICAgbmFtZTogJ01PUkUnLFxuICAgICAgICBjaGVjazogJ1NpbXVsYXRvck9iamVjdFNldHRpbmdzJyxcbiAgICAgIH0sXG4gICAgXSxcbiAgICBpbnB1dHNJbmxpbmU6IGZhbHNlLFxuICAgIG91dHB1dDogJ1NpbXVsYXRvck9iamVjdFNldHRpbmdzJyxcbiAgICBjb2xvdXI6IDE4MCxcbiAgICB0b29sdGlwOiAnc2V0cyBhIHNwcml0ZSB0byB1c2UgdG8gZHJhdyB0aGUgb2JqZWN0IGluc3RlYWQgb2YgYSBjb2xvcicsXG4gICAgaGVscFVybDogJ1RPRE8nLFxuICB9LFxuICBibG9ja0V4dHJhczoge1xuICAgIGdldFNldHRpbmdzKCkge1xuICAgICAgY29uc3QgdXJsID0gdGhpcy5nZXRGaWVsZFZhbHVlKCdVUkwnKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlbmRlcjoge1xuICAgICAgICAgIHNwcml0ZTogeyB0ZXh0dXJlOiB1cmwgfSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSxcbiAgfSxcbiAgdG9vbGJveEJsb2Nrczoge1xuICAgIGRlZmF1bHQ6ICgpID0+IChcbiAgICAgIDxibG9jayB0eXBlPVwic2ltdWxhdG9yX3NldHRpbmdzX3Nwcml0ZVwiPlxuICAgICAgICA8ZmllbGQgbmFtZT1cIlVSTFwiPmFzc2V0OmZvby5wbmc8L2ZpZWxkPlxuICAgICAgPC9ibG9jaz5cbiAgICApLFxuICAgIGV4dGVybmFsOiAoKSA9PiAoXG4gICAgICA8YmxvY2sgdHlwZT1cInNpbXVsYXRvcl9zZXR0aW5nc19zcHJpdGVcIj5cbiAgICAgICAgPGZpZWxkIG5hbWU9XCJVUkxcIj5odHRwczovL2V4YW1wbGUuY29tL2Zvby5wbmc8L2ZpZWxkPlxuICAgICAgPC9ibG9jaz5cbiAgICApLFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IFNJTVVMQVRPUl9TRVRUSU5HU19TVEFUSUMgPSB7XG4gIGJsb2NrSnNvbjoge1xuICAgIHR5cGU6ICdzaW11bGF0b3Jfc2V0dGluZ3Nfc3RhdGljJyxcbiAgICBtZXNzYWdlMDogJ2ZpeGVkOiAlMSAlMicsXG4gICAgYXJnczA6IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2ZpZWxkX2NoZWNrYm94JyxcbiAgICAgICAgbmFtZTogJ1NUQVRJQycsXG4gICAgICAgIGNoZWNrZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiAnaW5wdXRfdmFsdWUnLFxuICAgICAgICBuYW1lOiAnTU9SRScsXG4gICAgICAgIGNoZWNrOiAnU2ltdWxhdG9yT2JqZWN0U2V0dGluZ3MnLFxuICAgICAgfSxcbiAgICBdLFxuICAgIGlucHV0c0lubGluZTogZmFsc2UsXG4gICAgb3V0cHV0OiAnU2ltdWxhdG9yT2JqZWN0U2V0dGluZ3MnLFxuICAgIGNvbG91cjogMTgwLFxuICAgIHRvb2x0aXA6ICdhIGZpeGVkIG9iamVjdCBjYW4gbm90IGJlIG1vdmVkJyxcbiAgICBoZWxwVXJsOiAnVE9ETycsXG4gIH0sXG4gIGJsb2NrRXh0cmFzOiB7XG4gICAgb25jaGFuZ2U6IGZvcmJpZHNBbmNlc3RvcihbJ3NpbXVsYXRvcl9yb2JvdCddLCAncm9ib3RzIGNhbiBub3QgYmUgZml4ZWQnKSxcbiAgICBnZXRTZXR0aW5ncygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzU3RhdGljOiB0aGlzLmdldEZpZWxkKCdTVEFUSUMnKS5nZXRWYWx1ZUJvb2xlYW4oKSxcbiAgICAgIH07XG4gICAgfSxcbiAgfSxcbiAgdG9vbGJveEJsb2Nrczoge1xuICAgIGRlZmF1bHQ6ICgpID0+IDxibG9jayB0eXBlPVwic2ltdWxhdG9yX3NldHRpbmdzX3N0YXRpY1wiIC8+LFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IFNJTVVMQVRPUl9TRVRUSU5HU19TRU5TT1IgPSB7XG4gIGJsb2NrSnNvbjoge1xuICAgIHR5cGU6ICdzaW11bGF0b3Jfc2V0dGluZ3Nfc2Vuc29yJyxcbiAgICBtZXNzYWdlMDogJ3Bhc3NpdmU6ICUxICUyJyxcbiAgICBhcmdzMDogW1xuICAgICAge1xuICAgICAgICB0eXBlOiAnZmllbGRfY2hlY2tib3gnLFxuICAgICAgICBuYW1lOiAnU0VOU09SJyxcbiAgICAgICAgY2hlY2tlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdpbnB1dF92YWx1ZScsXG4gICAgICAgIG5hbWU6ICdNT1JFJyxcbiAgICAgICAgY2hlY2s6ICdTaW11bGF0b3JPYmplY3RTZXR0aW5ncycsXG4gICAgICB9LFxuICAgIF0sXG4gICAgaW5wdXRzSW5saW5lOiBmYWxzZSxcbiAgICBvdXRwdXQ6ICdTaW11bGF0b3JPYmplY3RTZXR0aW5ncycsXG4gICAgY29sb3VyOiAxODAsXG4gICAgdG9vbHRpcDogJ2EgcGFzc2l2ZSBvYmplY3QgZG9lcyBub3QgaW50ZXJhY3Qgd2l0aCBvdGhlciBvYmplY3RzJyxcbiAgICBoZWxwVXJsOiAnVE9ETycsXG4gIH0sXG4gIGJsb2NrRXh0cmFzOiB7XG4gICAgb25jaGFuZ2U6IGZvcmJpZHNBbmNlc3RvcihbJ3NpbXVsYXRvcl9yb2JvdCddLCAncm9ib3RzIGNhbiBub3QgYmUgcGFzc2l2ZScpLFxuICAgIGdldFNldHRpbmdzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNTZW5zb3I6IHRoaXMuZ2V0RmllbGQoJ1NFTlNPUicpLmdldFZhbHVlQm9vbGVhbigpLFxuICAgICAgfTtcbiAgICB9LFxuICB9LFxuICB0b29sYm94QmxvY2tzOiB7XG4gICAgZGVmYXVsdDogKCkgPT4gPGJsb2NrIHR5cGU9XCJzaW11bGF0b3Jfc2V0dGluZ3Nfc2Vuc29yXCIgLz4sXG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgU0lNVUxBVE9SX1NFVFRJTkdTX0xJTkUgPSB7XG4gIGJsb2NrSnNvbjoge1xuICAgIHR5cGU6ICdzaW11bGF0b3Jfc2V0dGluZ3NfbGluZScsXG4gICAgbWVzc2FnZTA6ICdsaW5lOiAlMSAlMicsXG4gICAgYXJnczA6IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2ZpZWxkX2NoZWNrYm94JyxcbiAgICAgICAgbmFtZTogJ0xJTkUnLFxuICAgICAgICBjaGVja2VkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2lucHV0X3ZhbHVlJyxcbiAgICAgICAgbmFtZTogJ01PUkUnLFxuICAgICAgICBjaGVjazogJ1NpbXVsYXRvck9iamVjdFNldHRpbmdzJyxcbiAgICAgIH0sXG4gICAgXSxcbiAgICBpbnB1dHNJbmxpbmU6IGZhbHNlLFxuICAgIG91dHB1dDogJ1NpbXVsYXRvck9iamVjdFNldHRpbmdzJyxcbiAgICBjb2xvdXI6IDE4MCxcbiAgICB0b29sdGlwOiAnYSBsaW5lIGNhbiBiZSBkZXRlY3RlZCBieSBsaW5lIHNlbnNvcnM7IGxpbmVzIG11c3QgYWxzbyBiZSBzZXQgdG8gcGFzc2l2ZScsXG4gICAgaGVscFVybDogJ1RPRE8nLFxuICB9LFxuICBibG9ja0V4dHJhczoge1xuICAgIG9uY2hhbmdlOiBmb3JiaWRzQW5jZXN0b3IoWydzaW11bGF0b3Jfcm9ib3QnXSwgJ3JvYm90cyBjYW4gbm90IGJlIGxpbmVzJyksXG4gICAgZ2V0U2V0dGluZ3MoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwbHVnaW46IHtcbiAgICAgICAgICBoZWRnZWhvZzoge1xuICAgICAgICAgICAgaXNMaW5lOiB0aGlzLmdldEZpZWxkKCdMSU5FJykuZ2V0VmFsdWVCb29sZWFuKCksXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSxcbiAgfSxcbiAgdG9vbGJveEJsb2Nrczoge1xuICAgIGRlZmF1bHQ6ICgpID0+IDxibG9jayB0eXBlPVwic2ltdWxhdG9yX3NldHRpbmdzX2xpbmVcIiAvPixcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBTSU1VTEFUT1JfU0VUVElOR1NfREVOU0lUWSA9IHtcbiAgYmxvY2tKc29uOiB7XG4gICAgdHlwZTogJ3NpbXVsYXRvcl9zZXR0aW5nc19kZW5zaXR5JyxcbiAgICBtZXNzYWdlMDogJ2RlbnNpdHk6ICUxICUyJyxcbiAgICBhcmdzMDogW1xuICAgICAge1xuICAgICAgICB0eXBlOiAnZmllbGRfbnVtYmVyJyxcbiAgICAgICAgbmFtZTogJ0RFTlNJVFknLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdpbnB1dF92YWx1ZScsXG4gICAgICAgIG5hbWU6ICdNT1JFJyxcbiAgICAgICAgY2hlY2s6ICdTaW11bGF0b3JPYmplY3RTZXR0aW5ncycsXG4gICAgICB9LFxuICAgIF0sXG4gICAgaW5wdXRzSW5saW5lOiBmYWxzZSxcbiAgICBvdXRwdXQ6ICdTaW11bGF0b3JPYmplY3RTZXR0aW5ncycsXG4gICAgY29sb3VyOiAxODAsXG4gICAgdG9vbHRpcDogJ2RlbnNpdHkgdG9nZXRoZXIgd2l0aCBvYmplY3Qgc2l6ZSBkZXRlcm1pbmVzIGl0cyB3ZWlnaHQnLFxuICAgIGhlbHBVcmw6ICdUT0RPJyxcbiAgfSxcbiAgYmxvY2tFeHRyYXM6IHtcbiAgICBvbmNoYW5nZTogZm9yYmlkc0FuY2VzdG9yKFsnc2ltdWxhdG9yX3JvYm90J10sICdyb2JvdHMgaGF2ZSBmaXhlZCBkZW5zaXR5JyksXG4gICAgZ2V0U2V0dGluZ3MoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkZW5zaXR5OiB0aGlzLmdldEZpZWxkVmFsdWUoJ0RFTlNJVFknKSxcbiAgICAgIH07XG4gICAgfSxcbiAgfSxcbiAgdG9vbGJveEJsb2Nrczoge1xuICAgIGRlZmF1bHQ6ICgpID0+IDxibG9jayB0eXBlPVwic2ltdWxhdG9yX3NldHRpbmdzX2RlbnNpdHlcIiAvPixcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBTSU1VTEFUT1JfU0VUVElOR1NfRlJJQ1RJT05fQUlSID0ge1xuICBibG9ja0pzb246IHtcbiAgICB0eXBlOiAnc2ltdWxhdG9yX3NldHRpbmdzX2ZyaWN0aW9uX2FpcicsXG4gICAgbWVzc2FnZTA6ICdmcmljdGlvbjogJTEgJTInLFxuICAgIGFyZ3MwOiBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdmaWVsZF9udW1iZXInLFxuICAgICAgICBuYW1lOiAnRlJJQ1RJT05fQUlSJyxcbiAgICAgICAgdmFsdWU6IDAuNCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdpbnB1dF92YWx1ZScsXG4gICAgICAgIG5hbWU6ICdNT1JFJyxcbiAgICAgICAgY2hlY2s6ICdTaW11bGF0b3JPYmplY3RTZXR0aW5ncycsXG4gICAgICB9LFxuICAgIF0sXG4gICAgaW5wdXRzSW5saW5lOiBmYWxzZSxcbiAgICBvdXRwdXQ6ICdTaW11bGF0b3JPYmplY3RTZXR0aW5ncycsXG4gICAgY29sb3VyOiAxODAsXG4gICAgdG9vbHRpcDogJ2ZyaWN0aW9uIGRldGVybWluZXMgaG93IG11Y2ggcmVzaXN0YW5jZSBhIHNsaWRpbmcgb2JqZWN0IGV4cGVyaWVuY2VzJyxcbiAgICBoZWxwVXJsOiAnVE9ETycsXG4gIH0sXG4gIGJsb2NrRXh0cmFzOiB7XG4gICAgb25jaGFuZ2U6IGZvcmJpZHNBbmNlc3RvcihbJ3NpbXVsYXRvcl9yb2JvdCddLCAncm9ib3RzIGhhdmUgZml4ZWQgZnJpY3Rpb24nKSxcbiAgICBnZXRTZXR0aW5ncygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGZyaWN0aW9uQWlyOiB0aGlzLmdldEZpZWxkVmFsdWUoJ0ZSSUNUSU9OX0FJUicpLFxuICAgICAgfTtcbiAgICB9LFxuICB9LFxuICB0b29sYm94QmxvY2tzOiB7XG4gICAgZGVmYXVsdDogKCkgPT4gPGJsb2NrIHR5cGU9XCJzaW11bGF0b3Jfc2V0dGluZ3NfZnJpY3Rpb25fYWlyXCIgLz4sXG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgU0lNVUxBVE9SX1NFVFRJTkdTX0xBQkVMID0ge1xuICBibG9ja0pzb246IHtcbiAgICB0eXBlOiAnc2ltdWxhdG9yX3NldHRpbmdzX2xhYmVsJyxcbiAgICBtZXNzYWdlMDogJ2xhYmVsOiAlMSAlMicsXG4gICAgYXJnczA6IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2ZpZWxkX2lucHV0JyxcbiAgICAgICAgbmFtZTogJ0xBQkVMJyxcbiAgICAgICAgdmFsdWU6ICcnLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2lucHV0X3ZhbHVlJyxcbiAgICAgICAgbmFtZTogJ01PUkUnLFxuICAgICAgICBjaGVjazogJ1NpbXVsYXRvck9iamVjdFNldHRpbmdzJyxcbiAgICAgIH0sXG4gICAgXSxcbiAgICBpbnB1dHNJbmxpbmU6IGZhbHNlLFxuICAgIG91dHB1dDogJ1NpbXVsYXRvck9iamVjdFNldHRpbmdzJyxcbiAgICBjb2xvdXI6IDE4MCxcbiAgICB0b29sdGlwOlxuICAgICAgJ3NldHMgYSBsYWJlbCBmb3IgdGhlIGJvZHkgd2hpY2ggY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgdGhlIGJvZHkgYW5kIGltcHJvdmUgaGFuZGxpbmcnLFxuICAgIGhlbHBVcmw6ICdUT0RPJyxcbiAgfSxcbiAgYmxvY2tFeHRyYXM6IHtcbiAgICBnZXRTZXR0aW5ncygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxhYmVsOiB0aGlzLmdldEZpZWxkVmFsdWUoJ0xBQkVMJyksXG4gICAgICB9O1xuICAgIH0sXG4gIH0sXG4gIHRvb2xib3hCbG9ja3M6IHtcbiAgICBkZWZhdWx0OiAoKSA9PiA8YmxvY2sgdHlwZT1cInNpbXVsYXRvcl9zZXR0aW5nc19sYWJlbFwiIC8+LFxuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgW1xuICBTSU1VTEFUT1JfU0VUVElOR1NfVFJBTlNMQVRFLFxuICBTSU1VTEFUT1JfU0VUVElOR1NfUk9UQVRFLFxuICBTSU1VTEFUT1JfU0VUVElOR1NfQ09MT1IsXG4gIFNJTVVMQVRPUl9TRVRUSU5HU19WSVNJQklMSVRZLFxuICBTSU1VTEFUT1JfU0VUVElOR1NfU1BSSVRFLFxuICBTSU1VTEFUT1JfU0VUVElOR1NfU1RBVElDLFxuICBTSU1VTEFUT1JfU0VUVElOR1NfU0VOU09SLFxuICBTSU1VTEFUT1JfU0VUVElOR1NfTElORSxcbiAgU0lNVUxBVE9SX1NFVFRJTkdTX0RFTlNJVFksXG4gIFNJTVVMQVRPUl9TRVRUSU5HU19GUklDVElPTl9BSVIsXG4gIFNJTVVMQVRPUl9TRVRUSU5HU19MQUJFTCxcbl07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IHNjaGVtYSB9IGZyb20gJy4uLy4uL1NpbXVsYXRvci9zaW11bGF0aW9uJztcblxuaW1wb3J0IHsgYW55QW5jZXN0b3IsIGdldElucHV0RGVzY2VuZGFudHMgfSBmcm9tICcuL2hlbHBlcnMnO1xuXG5leHBvcnQgY29uc3QgU0lNVUxBVE9SX1JPT1QgPSB7XG4gIGJsb2NrSnNvbjoge1xuICAgIHR5cGU6ICdzaW11bGF0b3Jfcm9vdCcsXG4gICAgbWVzc2FnZTA6ICdTaW11bGF0aW9uIGNlbnRlcmVkIGF0ICglMSwgJTIpIHNpemVkICUzIHggJTQsIHdpdGggd2FsbDogICU1ICU2ICU3JyxcbiAgICBhcmdzMDogW1xuICAgICAge1xuICAgICAgICB0eXBlOiAnZmllbGRfbnVtYmVyJyxcbiAgICAgICAgbmFtZTogJ1gnLFxuICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgcHJlY2lzaW9uOiAxLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2ZpZWxkX251bWJlcicsXG4gICAgICAgIG5hbWU6ICdZJyxcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIHByZWNpc2lvbjogMSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdmaWVsZF9udW1iZXInLFxuICAgICAgICBuYW1lOiAnVycsXG4gICAgICAgIHZhbHVlOiA2MDAsXG4gICAgICAgIHByZWNpc2lvbjogMSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdmaWVsZF9udW1iZXInLFxuICAgICAgICBuYW1lOiAnSCcsXG4gICAgICAgIHZhbHVlOiA0MDAsXG4gICAgICAgIHByZWNpc2lvbjogMSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdmaWVsZF9jaGVja2JveCcsXG4gICAgICAgIG5hbWU6ICdXQUxMUycsXG4gICAgICAgIGNoZWNrZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiAnaW5wdXRfZHVtbXknLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2lucHV0X3N0YXRlbWVudCcsXG4gICAgICAgIG5hbWU6ICdPQkpFQ1RTJyxcbiAgICAgICAgYWxpZ246ICdSSUdIVCcsXG4gICAgICAgIGNoZWNrOiAnU2ltdWxhdG9yT2JqZWN0JyxcbiAgICAgIH0sXG4gICAgXSxcbiAgICBjb2xvdXI6IDEyMCxcbiAgICB0b29sdGlwOiAnQ29uZmlndXJhdGlvbiBmb3IgdGhlIHdob2xlIHNpbXVsYXRpb24nLFxuICAgIGhlbHBVcmw6ICdUT0RPJyxcbiAgfSxcbiAgYmxvY2tFeHRyYXM6IHtcbiAgICBnZXRJbnB1dERlc2NlbmRhbnRzLFxuICAgIG9uY2hhbmdlKCkge1xuICAgICAgY29uc3Qgcm9vdHMgPSB0aGlzLndvcmtzcGFjZS5nZXRCbG9ja3NCeVR5cGUoJ3NpbXVsYXRvcl9yb290Jyk7XG4gICAgICB0aGlzLnNldFdhcm5pbmdUZXh0KHJvb3RzLmxlbmd0aCA+PSAyID8gJ29ubHkgb25lIGNvbmZpZ3VyYXRpb24gcm9vdCBhbGxvd2VkJyA6IG51bGwpO1xuICAgIH0sXG4gICAgc2VyaWFsaXplKCk6IHNjaGVtYS5TaW11bGF0aW9uIHtcbiAgICAgIGNvbnN0IG9iamVjdFR5cGVzID0gW1xuICAgICAgICAnc2ltdWxhdG9yX3JvYm90JyxcbiAgICAgICAgJ3NpbXVsYXRvcl9yZWN0JyxcbiAgICAgICAgJ3NpbXVsYXRvcl9jaXJjbGUnLFxuICAgICAgICAnc2ltdWxhdG9yX3N2ZycsXG4gICAgICBdO1xuXG4gICAgICBmdW5jdGlvbiBpc1JvYm90UGFydChvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGFueUFuY2VzdG9yKG9iamVjdCwgKGFuY2VzdG9yKSA9PiBhbmNlc3Rvci50eXBlID09PSAnc2ltdWxhdG9yX3JvYm90Jyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHggPSB0aGlzLmdldEZpZWxkVmFsdWUoJ1gnKTtcbiAgICAgIGNvbnN0IHkgPSB0aGlzLmdldEZpZWxkVmFsdWUoJ1knKTtcbiAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5nZXRGaWVsZFZhbHVlKCdXJyk7XG4gICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmdldEZpZWxkVmFsdWUoJ0gnKTtcblxuICAgICAgbGV0IG9iamVjdHMgPSB0aGlzLmdldElucHV0RGVzY2VuZGFudHMoJ09CSkVDVFMnKVxuICAgICAgICAuZmlsdGVyKChibG9jaykgPT4gb2JqZWN0VHlwZXMuaW5jbHVkZXMoYmxvY2sudHlwZSkgJiYgIWlzUm9ib3RQYXJ0KGJsb2NrKSlcbiAgICAgICAgLm1hcCgob2JqZWN0KSA9PiBvYmplY3Quc2VyaWFsaXplKCkpO1xuXG4gICAgICBpZiAodGhpcy5nZXRGaWVsZCgnV0FMTFMnKS5nZXRWYWx1ZUJvb2xlYW4oKSkge1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IHtcbiAgICAgICAgICB0eXBlOiAncmVjdGFuZ2xlJyxcbiAgICAgICAgICBhbmdsZTogMCxcbiAgICAgICAgICBpc1N0YXRpYzogdHJ1ZSxcbiAgICAgICAgICByZW5kZXI6IHtcbiAgICAgICAgICAgIGZpbGxTdHlsZTogJyMyMjIyMjInLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIG9iamVjdHMgPSBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgLi4udGVtcGxhdGUsXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogMTAsXG4gICAgICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgICAgICB4LFxuICAgICAgICAgICAgICB5OiB5IC0gKGhlaWdodCAvIDIgLSA1KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICAuLi50ZW1wbGF0ZSxcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiAxMCxcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgIHgsXG4gICAgICAgICAgICAgIHk6IHkgKyAoaGVpZ2h0IC8gMiAtIDUpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIC4uLnRlbXBsYXRlLFxuICAgICAgICAgICAgd2lkdGg6IDEwLFxuICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgICAgeDogeCAtICh3aWR0aCAvIDIgLSA1KSxcbiAgICAgICAgICAgICAgeSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICAuLi50ZW1wbGF0ZSxcbiAgICAgICAgICAgIHdpZHRoOiAxMCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgIHg6IHggKyAod2lkdGggLyAyIC0gNSksXG4gICAgICAgICAgICAgIHksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLi4ub2JqZWN0cyxcbiAgICAgICAgXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2VudGVyOiB7IHgsIHkgfSxcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgb2JqZWN0cyxcbiAgICAgIH07XG4gICAgfSxcbiAgfSxcbiAgdG9vbGJveEJsb2Nrczoge1xuICAgIGRlZmF1bHQ6ICgpID0+IDxibG9jayB0eXBlPVwic2ltdWxhdG9yX3Jvb3RcIiAvPixcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFtTSU1VTEFUT1JfUk9PVF07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdXNlU3R5bGVzIGZyb20gJ2lzb21vcnBoaWMtc3R5bGUtbG9hZGVyL3VzZVN0eWxlcyc7XG5cbmltcG9ydCBzIGZyb20gJy4vVG9vbEJhci5zY3NzJztcblxudHlwZSBQcm9wcyA9IHt8XG4gIGNoaWxkcmVuOiBSZWFjdC5Ob2RlLFxufH07XG5cbi8qKlxuICogQSB2ZXJ0aWNhbCB0b29sYmFyIGZvciBkaXNwbGF5aW5nIGNvbnRyb2xzIGluIElERSBlZGl0b3JzLFxuICogc3VjaCBhcyBmb3IgcnVubmluZyBvciB0ZXJtaW5hdGluZyBhIHByb2dyYW0uXG4gKi9cbmZ1bmN0aW9uIFRvb2xCYXIoeyBjaGlsZHJlbiB9OiBQcm9wcykge1xuICB1c2VTdHlsZXMocyk7XG4gIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17cy50b29sQmFyfT57Y2hpbGRyZW59PC9kaXY+O1xufVxuXG5leHBvcnQgZGVmYXVsdCBUb29sQmFyO1xuIiwiXG4gICAgdmFyIHJlZnMgPSAwO1xuICAgIHZhciBjc3MgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS03LXJ1bGVzLTIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS03LXJ1bGVzLTMhLi9Ub29sQmFyLnNjc3NcIik7XG4gICAgdmFyIGluc2VydENzcyA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2lzb21vcnBoaWMtc3R5bGUtbG9hZGVyL2luc2VydENzcy5qc1wiKTtcbiAgICB2YXIgY29udGVudCA9IHR5cGVvZiBjc3MgPT09ICdzdHJpbmcnID8gW1ttb2R1bGUuaWQsIGNzcywgJyddXSA6IGNzcztcblxuICAgIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGNzcy5sb2NhbHMgfHwge307XG4gICAgZXhwb3J0cy5fZ2V0Q29udGVudCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gY29udGVudDsgfTtcbiAgICBleHBvcnRzLl9nZXRDc3MgPSBmdW5jdGlvbigpIHsgcmV0dXJuICcnICsgY3NzOyB9O1xuICAgIGV4cG9ydHMuX2luc2VydENzcyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHsgcmV0dXJuIGluc2VydENzcyhjb250ZW50LCBvcHRpb25zKSB9O1xuXG4gICAgLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuICAgIC8vIGh0dHBzOi8vd2VicGFjay5naXRodWIuaW8vZG9jcy9ob3QtbW9kdWxlLXJlcGxhY2VtZW50XG4gICAgLy8gT25seSBhY3RpdmF0ZWQgaW4gYnJvd3NlciBjb250ZXh0XG4gICAgaWYgKG1vZHVsZS5ob3QgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50KSB7XG4gICAgICB2YXIgcmVtb3ZlQ3NzID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS03LXJ1bGVzLTIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS03LXJ1bGVzLTMhLi9Ub29sQmFyLnNjc3NcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNzcyA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTctcnVsZXMtMiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTctcnVsZXMtMyEuL1Rvb2xCYXIuc2Nzc1wiKTtcbiAgICAgICAgY29udGVudCA9IHR5cGVvZiBjc3MgPT09ICdzdHJpbmcnID8gW1ttb2R1bGUuaWQsIGNzcywgJyddXSA6IGNzcztcbiAgICAgICAgcmVtb3ZlQ3NzID0gaW5zZXJ0Q3NzKGNvbnRlbnQsIHsgcmVwbGFjZTogdHJ1ZSB9KTtcbiAgICAgIH0pO1xuICAgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyByZW1vdmVDc3MoKTsgfSk7XG4gICAgfVxuICAiLCIvLyBAZmxvd1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IHN0eWxlZCB9IGZyb20gJ0BtYXRlcmlhbC11aS9zdHlsZXMnO1xuaW1wb3J0IEljb25CdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvSWNvbkJ1dHRvbic7XG5cbmNvbnN0IFN0eWxlZEljb25CdXR0b24gPSBzdHlsZWQoSWNvbkJ1dHRvbikoe1xuICBwYWRkaW5nOiAnNHB4Jyxcbn0pO1xuXG50eXBlIFByb3BzID0ge3xcbiAgaWNvbjogdHlwZW9mIFJlYWN0LkNvbXBvbmVudCxcbiAgY29sb3I6IHN0cmluZyxcbiAgLi4uUmVhY3QuRWxlbWVudENvbmZpZzx0eXBlb2YgU3R5bGVkSWNvbkJ1dHRvbj4sXG58fTtcblxuLyoqXG4gKiBBbiBpY29uIGJ1dHRvbiBmb3IgdGhlIHZlcnRpY2FsIHRvb2xiYXIuXG4gKiBUaGlzIGNvbXBvbmVudCBoYW5kbGVzIGNvbG9yIGZvciBkaXNhYmxlZCBidXR0b25zIGNvcnJlY3RseS5cbiAqL1xuZnVuY3Rpb24gVG9vbEJhckljb25CdXR0b24oeyBpY29uOiBJY29uLCBjb2xvciwgLi4ucHJvcHMgfTogUHJvcHMsIHJlZjogUmVmPFN0eWxlZEljb25CdXR0b24+KSB7XG4gIHJldHVybiAoXG4gICAgPFN0eWxlZEljb25CdXR0b24gcmVmPXtyZWZ9IHsuLi5wcm9wc30+XG4gICAgICA8SWNvblxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIC4uLighcHJvcHMuZGlzYWJsZWQgJiYgY29sb3IgPyB7IGNvbG9yIH0gOiB7fSksXG4gICAgICAgIH19XG4gICAgICAvPlxuICAgIDwvU3R5bGVkSWNvbkJ1dHRvbj5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVhY3QuZm9yd2FyZFJlZjxQcm9wcywgU3R5bGVkSWNvbkJ1dHRvbj4oVG9vbEJhckljb25CdXR0b24pO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVzZVN0eWxlcyBmcm9tICdpc29tb3JwaGljLXN0eWxlLWxvYWRlci91c2VTdHlsZXMnO1xuXG5pbXBvcnQgcyBmcm9tICcuL1Rvb2xCYXJJdGVtLnNjc3MnO1xuXG50eXBlIFByb3BzID0ge3xcbiAgY2hpbGRyZW46IFJlYWN0Lk5vZGUsXG58fTtcblxuLyoqXG4gKiBBbiBpdGVtIGZvciB0aGUgdmVydGljYWwgdG9vbGJhci5cbiAqIFRoaXMgY29tcG9uZW50IGFkanVzdHMgdGhlIG1hcmdpbnMgZm9yIHRoZSB2ZXJ0aWNhbCBsYXlvdXQuXG4gKi9cbmZ1bmN0aW9uIFRvb2xCYXJJdGVtKHsgY2hpbGRyZW4gfTogUHJvcHMpIHtcbiAgdXNlU3R5bGVzKHMpO1xuICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3MudG9vbEJhckl0ZW19PntjaGlsZHJlbn08L2Rpdj47XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRvb2xCYXJJdGVtO1xuIiwiXG4gICAgdmFyIHJlZnMgPSAwO1xuICAgIHZhciBjc3MgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS03LXJ1bGVzLTIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS03LXJ1bGVzLTMhLi9Ub29sQmFySXRlbS5zY3NzXCIpO1xuICAgIHZhciBpbnNlcnRDc3MgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9pc29tb3JwaGljLXN0eWxlLWxvYWRlci9pbnNlcnRDc3MuanNcIik7XG4gICAgdmFyIGNvbnRlbnQgPSB0eXBlb2YgY3NzID09PSAnc3RyaW5nJyA/IFtbbW9kdWxlLmlkLCBjc3MsICcnXV0gOiBjc3M7XG5cbiAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBjc3MubG9jYWxzIHx8IHt9O1xuICAgIGV4cG9ydHMuX2dldENvbnRlbnQgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGNvbnRlbnQ7IH07XG4gICAgZXhwb3J0cy5fZ2V0Q3NzID0gZnVuY3Rpb24oKSB7IHJldHVybiAnJyArIGNzczsgfTtcbiAgICBleHBvcnRzLl9pbnNlcnRDc3MgPSBmdW5jdGlvbihvcHRpb25zKSB7IHJldHVybiBpbnNlcnRDc3MoY29udGVudCwgb3B0aW9ucykgfTtcblxuICAgIC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbiAgICAvLyBodHRwczovL3dlYnBhY2suZ2l0aHViLmlvL2RvY3MvaG90LW1vZHVsZS1yZXBsYWNlbWVudFxuICAgIC8vIE9ubHkgYWN0aXZhdGVkIGluIGJyb3dzZXIgY29udGV4dFxuICAgIGlmIChtb2R1bGUuaG90ICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCkge1xuICAgICAgdmFyIHJlbW92ZUNzcyA9IGZ1bmN0aW9uKCkge307XG4gICAgICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0yIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0zIS4vVG9vbEJhckl0ZW0uc2Nzc1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY3NzID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0yIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0zIS4vVG9vbEJhckl0ZW0uc2Nzc1wiKTtcbiAgICAgICAgY29udGVudCA9IHR5cGVvZiBjc3MgPT09ICdzdHJpbmcnID8gW1ttb2R1bGUuaWQsIGNzcywgJyddXSA6IGNzcztcbiAgICAgICAgcmVtb3ZlQ3NzID0gaW5zZXJ0Q3NzKGNvbnRlbnQsIHsgcmVwbGFjZTogdHJ1ZSB9KTtcbiAgICAgIH0pO1xuICAgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyByZW1vdmVDc3MoKTsgfSk7XG4gICAgfVxuICAiLCIvLyBAZmxvd1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tL3NlcnZlcic7XG5pbXBvcnQgdXNlU3R5bGVzIGZyb20gJ2lzb21vcnBoaWMtc3R5bGUtbG9hZGVyL3VzZVN0eWxlcyc7XG5cbmltcG9ydCB7IHVzZUxvY2FsZSB9IGZyb20gJy4uLy4uL2xvY2FsZSc7XG5pbXBvcnQgeyBnZXRUcmFuc2xhdGlvbiB9IGZyb20gJy4uLy4uLy4uL3RyYW5zbGF0aW9ucyc7XG5cbmltcG9ydCB7XG4gIEV4ZWN1dGVJY29uLFxuICBUZXJtaW5hdGVJY29uLFxuICBSZXNldEljb24sXG4gIFRlcm1pbmF0ZUFuZFJlc2V0SWNvbixcbiAgU2xpZGVMZWZ0SWNvbixcbiAgU2xpZGVSaWdodEljb24sXG4gIExhbmd1YWdlSmF2YXNjcmlwdEljb24sXG4gIExhbmd1YWdlUHl0aG9uSWNvbixcbn0gZnJvbSAnLi4vLi4vbWlzYy9wYWxldHRlJztcbmltcG9ydCAqIGFzIGhvb2tzIGZyb20gJy4uLy4uL21pc2MvaG9va3MnO1xuXG5pbXBvcnQgeyB0eXBlIEV4ZWN1dGlvbkFjdGlvbiB9IGZyb20gJy4uL0lkZSc7XG5pbXBvcnQgQmxvY2tseUNvbXBvbmVudCwgeyB0eXBlIFdvcmtzcGFjZVRyYW5zZm9ybSB9IGZyb20gJy4uL0Jsb2NrbHknO1xuaW1wb3J0IFRvb2xCYXIgZnJvbSAnLi4vVG9vbEJhcic7XG5pbXBvcnQgVG9vbEJhckljb25CdXR0b24gZnJvbSAnLi4vVG9vbEJhci9Ub29sQmFySWNvbkJ1dHRvbic7XG5pbXBvcnQgVG9vbEJhckl0ZW0gZnJvbSAnLi4vVG9vbEJhci9Ub29sQmFySXRlbSc7XG5cbmltcG9ydCBzIGZyb20gJy4vVmlzdWFsRWRpdG9yLnNjc3MnO1xuXG5pbXBvcnQgdXNlRmlsZSwgeyBQcm9qZWN0IH0gZnJvbSAnLi4vdXNlRmlsZSc7XG5cbmltcG9ydCBCbG9ja2x5LCB7IGhlZGdlaG9nQmxvY2tzLCBtaXNjQmxvY2tzLCBMT0NBTEVTIH0gZnJvbSAnLi9ibG9ja2x5X2NvbmZpZyc7XG5cbmV4cG9ydCB0eXBlIENvbnRyb2xsZWRTdGF0ZSA9IHt8XG4gIGNvZGVDb2xsYXBzZWQ6IGJvb2xlYW4sXG4gIGNvZGVMYW5ndWFnZTogJ0phdmFTY3JpcHQnIHwgJ1B5dGhvbicsXG4gIHdvcmtzcGFjZVRyYW5zZm9ybTogV29ya3NwYWNlVHJhbnNmb3JtLFxufH07XG5cbnR5cGUgUHJvcHMgPSB7fFxuICBwcm9qZWN0OiBQcm9qZWN0LFxuICBwYXRoOiBzdHJpbmcsXG4gIC4uLkNvbnRyb2xsZWRTdGF0ZSxcbiAgb25VcGRhdGU6IChzdGF0ZTogQ29udHJvbGxlZFN0YXRlKSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPixcbiAgb25FeGVjdXRpb25BY3Rpb246IChhY3Rpb246IEV4ZWN1dGlvbkFjdGlvbikgPT4gdm9pZCB8IFByb21pc2U8dm9pZD4sXG4gIHJ1bm5pbmc6IGJvb2xlYW4sXG4gIGxheW91dE5vZGU6IGFueSxcbnx9O1xuXG4vKipcbiAqIFRoZSBWaXN1YWwgZWRpdG9yIGFsbG93cyBjcmVhdGlvbiBvZiBwcm9ncmFtcyB1c2luZyBhIEJsb2NrbHktYmFzZWQgdmlzdWFsIGxhbmd1YWdlLlxuICogVmlzdWFsIHByb2dyYW1zIGFyZSB0cmFuc2xhdGVkIGludG8gSmF2YVNjcmlwdCBjb2RlIGZvciBleGVjdXRpb24sXG4gKiBhbmQgdGhhdCBjb2RlIGNhbiBhbHNvIGJlIHZpZXdlZCAocmVhZC1vbmx5KSBzaWRlLWJ5LXNpZGUgd2l0aCB0aGUgdmlzdWFsIGNvZGUuXG4gKlxuICogQmVzaWRlcyB0aGUgZWRpdG9yIHN1cmZhY2UsIHRoZSB0b29sYmFyIGFsbG93cyBydW5uaW5nIGFuZCB0ZXJtaW5hdGluZyBwcm9ncmFtcywgYW5kIHJlc2V0dGluZyB0aGUgc2ltdWxhdGlvbi5cbiAqL1xuZnVuY3Rpb24gVmlzdWFsRWRpdG9yKHtcbiAgbGF5b3V0Tm9kZSxcbiAgcHJvamVjdCxcbiAgcGF0aCxcbiAgY29kZUNvbGxhcHNlZCxcbiAgY29kZUxhbmd1YWdlLFxuICB3b3Jrc3BhY2VUcmFuc2Zvcm0sXG4gIG9uVXBkYXRlLFxuICBvbkV4ZWN1dGlvbkFjdGlvbixcbiAgcnVubmluZyxcbn06IFByb3BzKSB7XG4gIGNvbnN0IGJsb2NrbHlSZWYgPSBob29rcy51c2VFbGVtZW50UmVmPHR5cGVvZiBCbG9ja2x5Q29tcG9uZW50PigpO1xuICBjb25zdCBjb2RlUmVmID0gaG9va3MudXNlRWxlbWVudFJlZjwncHJlJz4oKTtcblxuICBjb25zdCBbY29udGVudCwgc2V0Q29udGVudF0gPSB1c2VGaWxlKHByb2plY3QsIHBhdGgsICd1dGY4Jyk7XG5cbiAgLy8gVE9ETyB0aGlzIGhhcyBhIHRpbWluZyBpc3N1ZSwgYXMgaXQgZGVwZW5kcyBvbiBgVmlzdWFsRWRpdG9yLmR5bmFtaWNCbG9ja0xvYWRlcnNgXG4gIC8vIGJlaW5nIGZ1bGx5IGluaXRpYWxpemVkIGJlZm9yZSB0aGUgVmlzdWFsRWRpdG9yIGNvbXBvbmVudCBpcyBjcmVhdGVkXG4gIGNvbnN0IHdvcmtzcGFjZU9wdGlvbnMgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBkeW5hbWljQmxvY2tzID0gVmlzdWFsRWRpdG9yLmR5bmFtaWNCbG9ja0xvYWRlcnMubGVuZ3RoID8gKFxuICAgICAgPGNhdGVnb3J5IG5hbWU9XCIle0JLWV9DQVRfQ1VTVE9NfVwiIGNvbG91cj1cIjEyMFwiPlxuICAgICAgICB7VmlzdWFsRWRpdG9yLmR5bmFtaWNCbG9ja0xvYWRlcnMubWFwKChsb2FkZXIpID0+XG4gICAgICAgICAgbG9hZGVyKCkubWFwKChibG9jaykgPT4gYmxvY2sudG9vbGJveEJsb2Nrcy5kZWZhdWx0KCkpLFxuICAgICAgICApfVxuICAgICAgPC9jYXRlZ29yeT5cbiAgICApIDogbnVsbDtcbiAgICBjb25zdCB0b29sYm94ID0gUmVhY3RET00ucmVuZGVyVG9TdGF0aWNNYXJrdXAoXG4gICAgICA8eG1sPlxuICAgICAgXG4gICAgICAgXG4gICAgICAgIDxjYXRlZ29yeSBuYW1lPVwiJXtCS1lfSEVER0VIT0dfQ0FUX0RSSVZFfVwiIGNvbG91cj1cIjEyMFwiPlxuICAgICAgICAge21pc2NCbG9ja3MuQ1JDTF9NT1ZFX1ZFQ1RPUl9ST1RBVElPTi50b29sYm94QmxvY2tzLmRlZmF1bHQoKX0gICAgICBcbiAgICAgICAgICB7bWlzY0Jsb2Nrcy5DUkNMX01PVkVfRElSRUNUSU9OLnRvb2xib3hCbG9ja3MuZGVmYXVsdCgpfSAgICBcbiAgICAgICAgICB7bWlzY0Jsb2Nrcy5DUkNMX1JPVEFURV9aLnRvb2xib3hCbG9ja3MuZGVmYXVsdCgpfSAgXG4gICAgICAgICAge21pc2NCbG9ja3MuVkVDVE9SX1hZWi50b29sYm94QmxvY2tzLmRlZmF1bHQoKX1cbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICAgIHttaXNjQmxvY2tzLlJPVEFUSU9OX0FCQy50b29sYm94QmxvY2tzLmRlZmF1bHQoKX1cbiAgICAgICAgICB7aGVkZ2Vob2dCbG9ja3MuSEVER0VIT0dfTU9WRTJfVU5MSU1JVEVELnRvb2xib3hCbG9ja3MuZGVmYXVsdCgpfVxuICAgICAgICAgIHtoZWRnZWhvZ0Jsb2Nrcy5IRURHRUhPR19NT1ZFMi50b29sYm94QmxvY2tzLmRlZmF1bHQoKX1cbiAgICAgICAgICB7aGVkZ2Vob2dCbG9ja3MuSEVER0VIT0dfTU9UT1JfT0ZGMi50b29sYm94QmxvY2tzLmRlZmF1bHQoKX1cbiAgICAgICAgICB7aGVkZ2Vob2dCbG9ja3MuSEVER0VIT0dfQlJBS0UyLnRvb2xib3hCbG9ja3MuZGVmYXVsdCgpfVxuICAgICAgICAgIHtoZWRnZWhvZ0Jsb2Nrcy5IRURHRUhPR19TTEVFUC50b29sYm94QmxvY2tzLmRlZmF1bHQoKX1cbiAgICAgICAgPC9jYXRlZ29yeT5cbiAgICAgICAgPGNhdGVnb3J5IG5hbWU9XCJUb29saW5nXCIgY29sb3VyPVwiMTIwXCI+XG4gICAgICAgICAge21pc2NCbG9ja3MuQ1JDTF9WRUxPQ0lUWS50b29sYm94QmxvY2tzLmRlZmF1bHQoKX1cbiAgICAgICAgICB7bWlzY0Jsb2Nrcy5DUkNMX0FDQ0VMRVJBVElPTi50b29sYm94QmxvY2tzLmRlZmF1bHQoKX1cbiAgICAgICAgICB7bWlzY0Jsb2Nrcy5DUkNMX1RPT0xfT05fT0ZGLnRvb2xib3hCbG9ja3MuZGVmYXVsdCgpfVxuICAgICAgICAgIHttaXNjQmxvY2tzLkNSQ0xfU1dJVENIX1RPT0wudG9vbGJveEJsb2Nrcy5kZWZhdWx0KCl9XG4gICAgICAgICAge21pc2NCbG9ja3MuQ1JDTF9TRVRfVE9PTF9WQUxVRS50b29sYm94QmxvY2tzLmRlZmF1bHQoKX1cbiAgICAgICAgPC9jYXRlZ29yeT5cbiAgICAgICAgPGNhdGVnb3J5IG5hbWU9XCIle0JLWV9IRURHRUhPR19DQVRfTU9UT1JTfVwiIGNvbG91cj1cIjEyMFwiPlxuICAgICAgICAgIHtoZWRnZWhvZ0Jsb2Nrcy5IRURHRUhPR19NT1ZFX1VOTElNSVRFRC50b29sYm94QmxvY2tzLmRlZmF1bHQoKX1cbiAgICAgICAgICB7aGVkZ2Vob2dCbG9ja3MuSEVER0VIT0dfTU9WRS50b29sYm94QmxvY2tzLmRlZmF1bHQoKX1cbiAgICAgICAgICB7aGVkZ2Vob2dCbG9ja3MuSEVER0VIT0dfTU9UT1JfT0ZGLnRvb2xib3hCbG9ja3MuZGVmYXVsdCgpfVxuICAgICAgICAgIHtoZWRnZWhvZ0Jsb2Nrcy5IRURHRUhPR19CUkFLRS50b29sYm94QmxvY2tzLmRlZmF1bHQoKX1cbiAgICAgICAgICB7aGVkZ2Vob2dCbG9ja3MuSEVER0VIT0dfU0xFRVAudG9vbGJveEJsb2Nrcy5kZWZhdWx0KCl9XG4gICAgICAgIDwvY2F0ZWdvcnk+XG4gICAgICAgIDxjYXRlZ29yeSBuYW1lPVwiJXtCS1lfSEVER0VIT0dfQ0FUX1NFUlZPU31cIiBjb2xvdXI9XCIxMjBcIj5cbiAgICAgICAgICB7aGVkZ2Vob2dCbG9ja3MuSEVER0VIT0dfU0VSVk8udG9vbGJveEJsb2Nrcy5kZWZhdWx0KCl9XG4gICAgICAgICAge2hlZGdlaG9nQmxvY2tzLkhFREdFSE9HX1NFUlZPX09GRi50b29sYm94QmxvY2tzLmRlZmF1bHQoKX1cbiAgICAgICAgPC9jYXRlZ29yeT5cbiAgICAgICAgPGNhdGVnb3J5IG5hbWU9XCIle0JLWV9IRURHRUhPR19DQVRfU0VOU09SU31cIiBjb2xvdXI9XCIxMjBcIj5cbiAgICAgICAgICB7aGVkZ2Vob2dCbG9ja3MuSEVER0VIT0dfUkVBRF9ESUdJVEFMLnRvb2xib3hCbG9ja3MuZGVmYXVsdCgpfVxuICAgICAgICAgIHtoZWRnZWhvZ0Jsb2Nrcy5IRURHRUhPR19SRUFEX0FOQUxPRy50b29sYm94QmxvY2tzLmRlZmF1bHQoKX1cbiAgICAgICAgICB7aGVkZ2Vob2dCbG9ja3MuSEVER0VIT0dfUkVBRF9BTkFMT0cudG9vbGJveEJsb2Nrcy5jb21wYXJpc29uKCl9XG4gICAgICAgIDwvY2F0ZWdvcnk+XG4gICAgICAgIHtkeW5hbWljQmxvY2tzfVxuICAgICAgICA8c2VwIC8+XG4gICAgICAgIDxjYXRlZ29yeSBuYW1lPVwiJXtCS1lfQ0FUX0xPR0lDfVwiIGNvbG91cj1cIiV7QktZX0xPR0lDX0hVRX1cIj5cbiAgICAgICAgICA8YmxvY2sgdHlwZT1cImNvbnRyb2xzX2lmXCIgLz5cbiAgICAgICAgICA8YmxvY2sgdHlwZT1cImNvbnRyb2xzX2lmXCI+XG4gICAgICAgICAgICA8bXV0YXRpb24gZWxzZT1cIjFcIiAvPlxuICAgICAgICAgIDwvYmxvY2s+XG4gICAgICAgICAgPGJsb2NrIHR5cGU9XCJjb250cm9sc19pZlwiPlxuICAgICAgICAgICAgPG11dGF0aW9uIGVsc2VpZj1cIjFcIiBlbHNlPVwiMVwiIC8+XG4gICAgICAgICAgPC9ibG9jaz5cbiAgICAgICAgICA8YmxvY2sgdHlwZT1cImxvZ2ljX2NvbXBhcmVcIiAvPlxuICAgICAgICAgIDxibG9jayB0eXBlPVwibG9naWNfb3BlcmF0aW9uXCIgLz5cbiAgICAgICAgICA8YmxvY2sgdHlwZT1cImxvZ2ljX25lZ2F0ZVwiIC8+XG4gICAgICAgICAgPGJsb2NrIHR5cGU9XCJsb2dpY19ib29sZWFuXCIgLz5cbiAgICAgICAgICA8YmxvY2sgdHlwZT1cImxvZ2ljX251bGxcIiAvPlxuICAgICAgICAgIDxibG9jayB0eXBlPVwibG9naWNfdGVybmFyeVwiIC8+XG4gICAgICAgIDwvY2F0ZWdvcnk+XG4gICAgICAgIDxjYXRlZ29yeSBuYW1lPVwiJXtCS1lfQ0FUX0xPT1BTfVwiIGNvbG91cj1cIiV7QktZX0xPT1BTX0hVRX1cIj5cbiAgICAgICAgICA8YmxvY2sgdHlwZT1cImNvbnRyb2xzX3JlcGVhdF9leHRcIj5cbiAgICAgICAgICAgIDx2YWx1ZSBuYW1lPVwiVElNRVNcIj5cbiAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9XCJtYXRoX251bWJlclwiPlxuICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVwiTlVNXCI+MTA8L2ZpZWxkPlxuICAgICAgICAgICAgICA8L2Jsb2NrPlxuICAgICAgICAgICAgPC92YWx1ZT5cbiAgICAgICAgICA8L2Jsb2NrPlxuICAgICAgICAgIDxibG9jayB0eXBlPVwiY29udHJvbHNfd2hpbGVVbnRpbFwiIC8+XG4gICAgICAgICAgPGJsb2NrIHR5cGU9XCJjb250cm9sc19mb3JcIj5cbiAgICAgICAgICAgIDxmaWVsZCBuYW1lPVwiVkFSXCI+aTwvZmllbGQ+XG4gICAgICAgICAgICA8dmFsdWUgbmFtZT1cIkZST01cIj5cbiAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9XCJtYXRoX251bWJlclwiPlxuICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVwiTlVNXCI+MTwvZmllbGQ+XG4gICAgICAgICAgICAgIDwvYmxvY2s+XG4gICAgICAgICAgICA8L3ZhbHVlPlxuICAgICAgICAgICAgPHZhbHVlIG5hbWU9XCJUT1wiPlxuICAgICAgICAgICAgICA8YmxvY2sgdHlwZT1cIm1hdGhfbnVtYmVyXCI+XG4gICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XCJOVU1cIj4xMDwvZmllbGQ+XG4gICAgICAgICAgICAgIDwvYmxvY2s+XG4gICAgICAgICAgICA8L3ZhbHVlPlxuICAgICAgICAgICAgPHZhbHVlIG5hbWU9XCJCWVwiPlxuICAgICAgICAgICAgICA8YmxvY2sgdHlwZT1cIm1hdGhfbnVtYmVyXCI+XG4gICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XCJOVU1cIj4xPC9maWVsZD5cbiAgICAgICAgICAgICAgPC9ibG9jaz5cbiAgICAgICAgICAgIDwvdmFsdWU+XG4gICAgICAgICAgPC9ibG9jaz5cbiAgICAgICAgICA8YmxvY2sgdHlwZT1cImNvbnRyb2xzX2ZvckVhY2hcIiAvPlxuICAgICAgICAgIDxibG9jayB0eXBlPVwiY29udHJvbHNfZmxvd19zdGF0ZW1lbnRzXCIgLz5cbiAgICAgICAgPC9jYXRlZ29yeT5cbiAgICAgICAgPGNhdGVnb3J5IG5hbWU9XCIle0JLWV9DQVRfTUFUSH1cIiBjb2xvdXI9XCIle0JLWV9NQVRIX0hVRX1cIj5cbiAgICAgICAgICAgIHttaXNjQmxvY2tzLlZFQ1RPUl9TS0FMQVIudG9vbGJveEJsb2Nrcy5kZWZhdWx0KCl9XG4gICAgICAgICAgXG4gICAgICAgICAgXG4gICAgICAgICBcbiAgICAgICAgICB7bWlzY0Jsb2Nrcy5WRUNUT1JfT1BFUkFUSU9OLnRvb2xib3hCbG9ja3MuZGVmYXVsdCgpfVxuICAgICAgICAgIFxuICAgICAgICAgXG4gICAgICAgICAge21pc2NCbG9ja3MuQ1JDTF9XQUlULnRvb2xib3hCbG9ja3MuZGVmYXVsdCgpfVxuXG4gICAgICAgICAgXG4gICAgICAgICAgPGJsb2NrIHR5cGU9XCJtYXRoX251bWJlclwiPlxuICAgICAgICAgICAgPGZpZWxkIG5hbWU9XCJOVU1cIj4wPC9maWVsZD5cbiAgICAgICAgICA8L2Jsb2NrPlxuICAgICAgICAgIDxibG9jayB0eXBlPVwibWF0aF9hcml0aG1ldGljXCIgLz5cbiAgICAgICAgICA8YmxvY2sgdHlwZT1cIm1hdGhfc2luZ2xlXCIgLz5cbiAgICAgICAgICA8YmxvY2sgdHlwZT1cIm1hdGhfdHJpZ1wiIC8+XG4gICAgICAgICAgPGJsb2NrIHR5cGU9XCJtYXRoX2NvbnN0YW50XCIgLz5cbiAgICAgICAgICA8YmxvY2sgdHlwZT1cIm1hdGhfbnVtYmVyX3Byb3BlcnR5XCIgLz5cbiAgICAgICAgICA8YmxvY2sgdHlwZT1cIm1hdGhfcm91bmRcIiAvPlxuICAgICAgICAgIDxibG9jayB0eXBlPVwibWF0aF9vbl9saXN0XCIgLz5cbiAgICAgICAgICA8YmxvY2sgdHlwZT1cIm1hdGhfbW9kdWxvXCIgLz5cbiAgICAgICAgICA8YmxvY2sgdHlwZT1cIm1hdGhfY29uc3RyYWluXCI+XG4gICAgICAgICAgICA8dmFsdWUgbmFtZT1cIkxPV1wiPlxuICAgICAgICAgICAgICA8YmxvY2sgdHlwZT1cIm1hdGhfbnVtYmVyXCI+XG4gICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XCJOVU1cIj4xPC9maWVsZD5cbiAgICAgICAgICAgICAgPC9ibG9jaz5cbiAgICAgICAgICAgIDwvdmFsdWU+XG4gICAgICAgICAgICA8dmFsdWUgbmFtZT1cIkhJR0hcIj5cbiAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9XCJtYXRoX251bWJlclwiPlxuICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVwiTlVNXCI+MTA8L2ZpZWxkPlxuICAgICAgICAgICAgICA8L2Jsb2NrPlxuICAgICAgICAgICAgPC92YWx1ZT5cbiAgICAgICAgICA8L2Jsb2NrPlxuICAgICAgICAgIDxibG9jayB0eXBlPVwibWF0aF9yYW5kb21faW50XCI+XG4gICAgICAgICAgICA8dmFsdWUgbmFtZT1cIkZST01cIj5cbiAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9XCJtYXRoX251bWJlclwiPlxuICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVwiTlVNXCI+MTwvZmllbGQ+XG4gICAgICAgICAgICAgIDwvYmxvY2s+XG4gICAgICAgICAgICA8L3ZhbHVlPlxuICAgICAgICAgICAgPHZhbHVlIG5hbWU9XCJUT1wiPlxuICAgICAgICAgICAgICA8YmxvY2sgdHlwZT1cIm1hdGhfbnVtYmVyXCI+XG4gICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XCJOVU1cIj4xMDwvZmllbGQ+XG4gICAgICAgICAgICAgIDwvYmxvY2s+XG4gICAgICAgICAgICA8L3ZhbHVlPlxuICAgICAgICAgIDwvYmxvY2s+XG4gICAgICAgICAgPGJsb2NrIHR5cGU9XCJtYXRoX3JhbmRvbV9mbG9hdFwiIC8+XG4gICAgICAgICAgPGJsb2NrIHR5cGU9XCJtYXRoX2F0YW4yXCIgLz5cbiAgICAgICAgPC9jYXRlZ29yeT5cbiAgICAgICAgPGNhdGVnb3J5IG5hbWU9XCIle0JLWV9DQVRfTElTVFN9XCIgY29sb3VyPVwiJXtCS1lfTElTVFNfSFVFfVwiPlxuICAgICAgICAgIDxibG9jayB0eXBlPVwibGlzdHNfY3JlYXRlX2VtcHR5XCIgLz5cbiAgICAgICAgICA8YmxvY2sgdHlwZT1cImxpc3RzX2NyZWF0ZV93aXRoXCIgLz5cbiAgICAgICAgICA8YmxvY2sgdHlwZT1cImxpc3RzX3JlcGVhdFwiPlxuICAgICAgICAgICAgPHZhbHVlIG5hbWU9XCJOVU1cIj5cbiAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9XCJtYXRoX251bWJlclwiPlxuICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVwiTlVNXCI+NTwvZmllbGQ+XG4gICAgICAgICAgICAgIDwvYmxvY2s+XG4gICAgICAgICAgICA8L3ZhbHVlPlxuICAgICAgICAgIDwvYmxvY2s+XG4gICAgICAgICAgPGJsb2NrIHR5cGU9XCJsaXN0c19sZW5ndGhcIiAvPlxuICAgICAgICAgIDxibG9jayB0eXBlPVwibGlzdHNfaXNFbXB0eVwiIC8+XG4gICAgICAgICAgPGJsb2NrIHR5cGU9XCJsaXN0c19pbmRleE9mXCIgLz5cbiAgICAgICAgICA8YmxvY2sgdHlwZT1cImxpc3RzX2dldEluZGV4XCIgLz5cbiAgICAgICAgICA8YmxvY2sgdHlwZT1cImxpc3RzX3NldEluZGV4XCIgLz5cbiAgICAgICAgPC9jYXRlZ29yeT5cbiAgICAgICAgPHNlcCAvPlxuICAgICAgICA8Y2F0ZWdvcnkgbmFtZT1cIiV7QktZX0NBVF9WQVJJQUJMRVN9XCIgY3VzdG9tPVwiVkFSSUFCTEVcIiBjb2xvdXI9XCIle0JLWV9WQVJJQUJMRVNfSFVFfVwiIC8+XG4gICAgICAgIDxjYXRlZ29yeSBuYW1lPVwiJXtCS1lfQ0FUX0ZVTkNUSU9OU31cIiBjdXN0b209XCJQUk9DRURVUkVcIiBjb2xvdXI9XCIle0JLWV9QUk9DRURVUkVTX0hVRX1cIiAvPlxuICAgICAgICA8Y2F0ZWdvcnkgbmFtZT1cIiV7QktZX0NBVF9URVhUfVwiIGNvbG91cj1cIjcwXCI+XG4gICAgICAgICAge21pc2NCbG9ja3MuUFJJTlRfQkxPQ0sudG9vbGJveEJsb2Nrcy5kZWZhdWx0KCl9XG4gICAgICAgICAgPGJsb2NrIHR5cGU9XCJ0ZXh0XCIgLz5cbiAgICAgICAgICA8YmxvY2sgdHlwZT1cInRleHRfam9pblwiIGlubGluZT1cInRydWVcIiAvPlxuICAgICAgICAgIHttaXNjQmxvY2tzLkdFVF9JTlBVVF9CTE9DSy50b29sYm94QmxvY2tzLmRlZmF1bHQoKX1cbiAgICAgICAgPC9jYXRlZ29yeT5cbiAgICAgIDwveG1sPixcbiAgICApO1xuICAgIHJldHVybiB7XG4gICAgICB0b29sYm94LFxuICAgICAgbW92ZToge1xuICAgICAgICBzY3JvbGxiYXJzOiB0cnVlLFxuICAgICAgICBkcmFnOiB0cnVlLFxuICAgICAgICB3aGVlbDogZmFsc2UsXG4gICAgICB9LFxuICAgICAgem9vbToge1xuICAgICAgICBjb250cm9sczogZmFsc2UsXG4gICAgICAgIHdoZWVsOiB0cnVlLFxuICAgICAgICBtYXhTY2FsZTogMS41LFxuICAgICAgICBtaW5TY2FsZTogMC40LFxuICAgICAgICBzY2FsZVNwZWVkOiAxLjAyLFxuICAgICAgfSxcbiAgICAgIGdyaWQ6IHtcbiAgICAgICAgc3BhY2luZzogMjAsXG4gICAgICAgIGxlbmd0aDogMyxcbiAgICAgICAgY29sb3VyOiAnI2NjYycsXG4gICAgICAgIHNuYXA6IHRydWUsXG4gICAgICB9LFxuICAgICAgdHJhc2hjYW46IGZhbHNlLFxuICAgICAgc2Nyb2xsYmFyczogdHJ1ZSxcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgLy8gdXBkYXRlIHdvcmtzcGFjZSBzaXplIHdoZW4gdGhlIGNvbnRhaW5pbmcgdGFiIGlzIHJlc2l6ZWQgb3IgbWFkZSB2aXNpYmxlXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGF5b3V0Tm9kZS5zZXRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICBpZiAoYmxvY2tseVJlZi5jdXJyZW50KSBibG9ja2x5UmVmLmN1cnJlbnQucmVmcmVzaFNpemVEZWZlcnJlZCgpO1xuICAgIH0pO1xuICAgIGxheW91dE5vZGUuc2V0RXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eScsICh7IHZpc2libGUgfSkgPT4ge1xuICAgICAgaWYgKGJsb2NrbHlSZWYuY3VycmVudCkgYmxvY2tseVJlZi5jdXJyZW50LnVwZGF0ZVZpc2liaWxpdHkodmlzaWJsZSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgbGF5b3V0Tm9kZS5zZXRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBudWxsKTtcbiAgICAgIGxheW91dE5vZGUuc2V0RXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eScsIG51bGwpO1xuICAgIH07XG4gIH0sIFtsYXlvdXROb2RlLCBibG9ja2x5UmVmXSk7XG5cbiAgLy8gYW5pbWF0ZSB3b3Jrc3BhY2Ugc2l6ZSB3aGVuIHRoZSBzaWRlYmFyIGlzIGV4cGFuZGluZyBvciBjb2xsYXBzaW5nXG4gIGNvbnN0IFtzdGFydEFuaW1hdGlvbiwgc3RvcEFuaW1hdGlvbl0gPSBob29rcy51c2VBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgaWYgKGJsb2NrbHlSZWYuY3VycmVudCkgYmxvY2tseVJlZi5jdXJyZW50LnJlZnJlc2hTaXplKCk7XG4gIH0pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjb2RlUmVmLmN1cnJlbnQgPT09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY29uc3QgY29kZUVsZW0gPSBjb2RlUmVmLmN1cnJlbnQ7XG5cbiAgICBjb25zdCBvblRyYW5zaXRpb25FbmQgPSAoKSA9PiB7XG4gICAgICBzdG9wQW5pbWF0aW9uKCk7XG4gICAgICBpZiAoYmxvY2tseVJlZi5jdXJyZW50KSBibG9ja2x5UmVmLmN1cnJlbnQucmVmcmVzaFNpemVEZWZlcnJlZCgpO1xuICAgIH07XG5cbiAgICBjb2RlRWxlbS5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgb25UcmFuc2l0aW9uRW5kKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjb2RlRWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgb25UcmFuc2l0aW9uRW5kKTtcbiAgICB9O1xuICB9KTtcblxuICBmdW5jdGlvbiBoYW5kbGVUb2dnbGVDb2RlQ29sbGFwc2VkKCkge1xuICAgIG9uVXBkYXRlKHtcbiAgICAgIGNvZGVMYW5ndWFnZSxcbiAgICAgIGNvZGVDb2xsYXBzZWQ6ICFjb2RlQ29sbGFwc2VkLFxuICAgICAgd29ya3NwYWNlVHJhbnNmb3JtLFxuICAgIH0pO1xuICAgIHN0YXJ0QW5pbWF0aW9uKCk7XG4gIH1cblxuICAvLyBoYW5kbGUgYmxvY2tseSBjaGFuZ2VzIGJ5IHNhdmluZyB0aGUgZmlsZSBhbmQgcmVnZW5lcmF0aW5nIGNvZGVcbiAgY29uc3QgW2NvZGUsIHNldENvZGVdID0gUmVhY3QudXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvd1xuICBmdW5jdGlvbiBnZW5lcmF0ZUNvZGUoY29kZUxhbmd1YWdlOiAnSmF2YVNjcmlwdCcgfCAnUHl0aG9uJykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gICAgaWYgKGJsb2NrbHlSZWYuY3VycmVudCA9PT0gbnVsbCkgdGhyb3cgJ3JlZiBpcyBudWxsJztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICAgIGlmIChibG9ja2x5UmVmLmN1cnJlbnQud29ya3NwYWNlID09PSBudWxsKSB0aHJvdyAnd29ya3NwYWNlIGlzIG51bGwnO1xuXG4gICAgY29uc3QgbGFuZ3VhZ2UgPSBCbG9ja2x5W2NvZGVMYW5ndWFnZV07XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBsYW5ndWFnZS53b3Jrc3BhY2VUb0NvZGUoYmxvY2tseVJlZi5jdXJyZW50LndvcmtzcGFjZSk7XG4gICAgfSBjYXRjaCAoX2Vycikge1xuICAgICAgLy8gSGFwcGVucyBlLmcuIHdoZW4gZGVsZXRpbmcgYSBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgc29tZXdoZXJlLlxuICAgICAgLy8gQmxvY2tseSB3aWxsIHF1aWNrbHkgcmVjb3ZlciBmcm9tIHRoaXMsIHNvIGl0J3Mgbm90IGEgYmlnIGRlYWwuXG4gICAgICAvLyBKdXN0IG1ha2Ugc3VyZSB0aGUgSURFIGRvZXNuJ3QgY3Jhc2ggdW50aWwgdGhlbi5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiByZWZyZXNoQ29kZSgpIHtcbiAgICBpZiAoYmxvY2tseVJlZi5jdXJyZW50ID09PSBudWxsIHx8IGJsb2NrbHlSZWYuY3VycmVudC53b3Jrc3BhY2UgPT09IG51bGwpIHJldHVybjtcbiAgICBzZXRDb2RlKGdlbmVyYXRlQ29kZShjb2RlTGFuZ3VhZ2UpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUJsb2NrbHlDaGFuZ2Uod29ya3NwYWNlOiBCbG9ja2x5LldvcmtzcGFjZSkge1xuICAgIGNvbnN0IHdvcmtzcGFjZVhtbCA9IEJsb2NrbHkuWG1sLmRvbVRvVGV4dChCbG9ja2x5LlhtbC53b3Jrc3BhY2VUb0RvbSh3b3Jrc3BhY2UpKTtcbiAgICBzZXRDb250ZW50KHdvcmtzcGFjZVhtbCk7XG4gICAgcmVmcmVzaENvZGUoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUJsb2NrbHlTY3JvbGwod29ya3NwYWNlOiBCbG9ja2x5LldvcmtzcGFjZSkge1xuICAgIGNvbnN0IHsgc2Nyb2xsWCwgc2Nyb2xsWSwgc2NhbGUgfSA9IHdvcmtzcGFjZTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93XG4gICAgY29uc3Qgd29ya3NwYWNlVHJhbnNmb3JtID0geyBzY3JvbGxYLCBzY3JvbGxZLCBzY2FsZSB9O1xuICAgIG9uVXBkYXRlKHsgY29kZUxhbmd1YWdlLCBjb2RlQ29sbGFwc2VkLCB3b3Jrc3BhY2VUcmFuc2Zvcm0gfSk7XG4gIH1cblxuICAvLyBoYW5kbGUgbGFuZ3VhZ2UgY2hhbmdlcyBieSByZWdlbmVyYXRpbmcgY29kZVxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJlZnJlc2hDb2RlKCk7XG4gIH0pO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zaGFkb3dcbiAgZnVuY3Rpb24gc2V0Q29kZUxhbmd1YWdlKGNvZGVMYW5ndWFnZTogJ0phdmFTY3JpcHQnIHwgJ1B5dGhvbicpIHtcbiAgICBvblVwZGF0ZSh7IGNvZGVMYW5ndWFnZSwgY29kZUNvbGxhcHNlZCwgd29ya3NwYWNlVHJhbnNmb3JtIH0pO1xuICB9XG5cbiAgdXNlU3R5bGVzKHMpO1xuICBjb25zdCB7IHByZWZlcnJlZExvY2FsZXMgfSA9IHVzZUxvY2FsZSgpO1xuICBjb25zdCBsb2NhbGUgPSBnZXRUcmFuc2xhdGlvbihwcmVmZXJyZWRMb2NhbGVzLCBMT0NBTEVTKSA/PyBMT0NBTEVTLmVuO1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtzLnRhYlJvb3R9PlxuICAgICAge2NvbnRlbnQgPT09IG51bGwgPyBudWxsIDogKFxuICAgICAgICA8QmxvY2tseUNvbXBvbmVudFxuICAgICAgICAgIGZvcndhcmRlZFJlZj17YmxvY2tseVJlZn1cbiAgICAgICAgICBpbml0aWFsV29ya3NwYWNlWG1sPXtjb250ZW50fVxuICAgICAgICAgIGxvY2FsZT17bG9jYWxlfVxuICAgICAgICAgIHdvcmtzcGFjZU9wdGlvbnM9e3dvcmtzcGFjZU9wdGlvbnN9XG4gICAgICAgICAgd29ya3NwYWNlVHJhbnNmb3JtPXt3b3Jrc3BhY2VUcmFuc2Zvcm19XG4gICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUJsb2NrbHlDaGFuZ2V9XG4gICAgICAgICAgb25TY3JvbGw9e2hhbmRsZUJsb2NrbHlTY3JvbGx9XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgICAgPFRvb2xCYXI+XG4gICAgICAgIDxUb29sQmFySXRlbT5cbiAgICAgICAgICA8VG9vbEJhckljb25CdXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvd1xuICAgICAgICAgICAgICBjb25zdCBjb2RlID0gZ2VuZXJhdGVDb2RlKCdKYXZhU2NyaXB0Jyk7XG4gICAgICAgICAgICAgIGlmIChjb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgb25FeGVjdXRpb25BY3Rpb24oe1xuICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnRVhFQ1VURScsXG4gICAgICAgICAgICAgICAgICBjb2RlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgaWNvbj17RXhlY3V0ZUljb259XG4gICAgICAgICAgICBjb2xvcj1cImxpbWVncmVlblwiXG4gICAgICAgICAgICBkaXNhYmxlUmlwcGxlXG4gICAgICAgICAgICBkaXNhYmxlZD17XG4gICAgICAgICAgICAgIHJ1bm5pbmcgfHwgYmxvY2tseVJlZi5jdXJyZW50ID09PSBudWxsIHx8IGJsb2NrbHlSZWYuY3VycmVudC53b3Jrc3BhY2UgPT09IG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAvPlxuICAgICAgICA8L1Rvb2xCYXJJdGVtPlxuICAgICAgICB7cnVubmluZyA/IChcbiAgICAgICAgICA8VG9vbEJhckl0ZW0ga2V5PVwidGVybWluYXRlLWFuZC1yZXNldFwiPlxuICAgICAgICAgICAgPFRvb2xCYXJJY29uQnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICBvbkV4ZWN1dGlvbkFjdGlvbih7XG4gICAgICAgICAgICAgICAgICBhY3Rpb246ICdURVJNSU5BVEUnLFxuICAgICAgICAgICAgICAgICAgcmVzZXQ6IHRydWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGljb249e1Rlcm1pbmF0ZUFuZFJlc2V0SWNvbn1cbiAgICAgICAgICAgICAgY29sb3I9XCJyZWRcIlxuICAgICAgICAgICAgICBkaXNhYmxlUmlwcGxlXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvVG9vbEJhckl0ZW0+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPFRvb2xCYXJJdGVtIGtleT1cInJlc2V0XCI+XG4gICAgICAgICAgICA8VG9vbEJhckljb25CdXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIG9uRXhlY3V0aW9uQWN0aW9uKHtcbiAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ1JFU0VUJyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgaWNvbj17UmVzZXRJY29ufVxuICAgICAgICAgICAgICBkaXNhYmxlUmlwcGxlXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvVG9vbEJhckl0ZW0+XG4gICAgICAgICl9XG4gICAgICAgIDxUb29sQmFySXRlbT5cbiAgICAgICAgICA8VG9vbEJhckljb25CdXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICBcbiAgICAgICAgICAgICAgb25FeGVjdXRpb25BY3Rpb24oe1xuICAgICAgICAgICAgICAgIGFjdGlvbjogJ1RFUk1JTkFURScsXG4gICAgICAgICAgICAgICAgcmVzZXQ6IGZhbHNlLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBpY29uPXtUZXJtaW5hdGVJY29ufVxuICAgICAgICAgICAgY29sb3I9XCJyZWRcIlxuICAgICAgICAgICAgZGlzYWJsZVJpcHBsZVxuICAgICAgICAgICAgZGlzYWJsZWQ9eyFydW5uaW5nfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvVG9vbEJhckl0ZW0+XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogJzEgMCBhdXRvJyB9fSAvPlxuICAgICAgICA8VG9vbEJhckl0ZW0+XG4gICAgICAgICAgPFRvb2xCYXJJY29uQnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUb2dnbGVDb2RlQ29sbGFwc2VkfVxuICAgICAgICAgICAgaWNvbj17Y29kZUNvbGxhcHNlZCA/IFNsaWRlTGVmdEljb24gOiBTbGlkZVJpZ2h0SWNvbn1cbiAgICAgICAgICAgIGRpc2FibGVSaXBwbGVcbiAgICAgICAgICAvPlxuICAgICAgICA8L1Rvb2xCYXJJdGVtPlxuICAgICAgICA8VG9vbEJhckl0ZW0+XG4gICAgICAgICAgPFRvb2xCYXJJY29uQnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRDb2RlTGFuZ3VhZ2UoJ0phdmFTY3JpcHQnKX1cbiAgICAgICAgICAgIGljb249e0xhbmd1YWdlSmF2YXNjcmlwdEljb259XG4gICAgICAgICAgICBjb2xvcj17Y29kZUxhbmd1YWdlID09PSAnSmF2YVNjcmlwdCcgPyAnYmxhY2snIDogJ2dyYXknfVxuICAgICAgICAgICAgZGlzYWJsZVJpcHBsZVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvVG9vbEJhckl0ZW0+XG4gICAgICAgIDxUb29sQmFySXRlbT5cbiAgICAgICAgICA8VG9vbEJhckljb25CdXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldENvZGVMYW5ndWFnZSgnUHl0aG9uJyl9XG4gICAgICAgICAgICBpY29uPXtMYW5ndWFnZVB5dGhvbkljb259XG4gICAgICAgICAgICBjb2xvcj17Y29kZUxhbmd1YWdlID09PSAnUHl0aG9uJyA/ICdibGFjaycgOiAnZ3JheSd9XG4gICAgICAgICAgICBkaXNhYmxlUmlwcGxlXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Ub29sQmFySXRlbT5cbiAgICAgIDwvVG9vbEJhcj5cbiAgICAgIDxwcmVcbiAgICAgICAgcmVmPXtjb2RlUmVmfVxuICAgICAgICBjbGFzc05hbWU9e2NvZGVDb2xsYXBzZWQgPyBgJHtzLmNvZGVDb250YWluZXJ9ICR7cy5jb2xsYXBzZWR9YCA6IHMuY29kZUNvbnRhaW5lcn1cbiAgICAgID5cbiAgICAgICAge2NvZGV9XG4gICAgICA8L3ByZT5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblZpc3VhbEVkaXRvci5kZWZhdWx0UHJvcHMgPSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9kZWZhdWx0LXByb3BzLW1hdGNoLXByb3AtdHlwZXNcbiAgY29kZUNvbGxhcHNlZDogdHJ1ZSxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L2RlZmF1bHQtcHJvcHMtbWF0Y2gtcHJvcC10eXBlc1xuICBjb2RlTGFuZ3VhZ2U6ICdKYXZhU2NyaXB0JyxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L2RlZmF1bHQtcHJvcHMtbWF0Y2gtcHJvcC10eXBlc1xuICB3b3Jrc3BhY2VUcmFuc2Zvcm06IHtcbiAgICBzY3JvbGxYOiAwLjAsXG4gICAgc2Nyb2xsWTogMC4wLFxuICAgIHNjYWxlOiAxLjAsXG4gIH0sXG59O1xuLy8gdHlwZTogWygpID0+IEJsb2NrW11dXG5WaXN1YWxFZGl0b3IuZHluYW1pY0Jsb2NrTG9hZGVycyA9IFtdO1xuXG5leHBvcnQgZGVmYXVsdCBWaXN1YWxFZGl0b3I7XG4iLCJcbiAgICB2YXIgcmVmcyA9IDA7XG4gICAgdmFyIGNzcyA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTctcnVsZXMtMiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTctcnVsZXMtMyEuL1Zpc3VhbEVkaXRvci5zY3NzXCIpO1xuICAgIHZhciBpbnNlcnRDc3MgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9pc29tb3JwaGljLXN0eWxlLWxvYWRlci9pbnNlcnRDc3MuanNcIik7XG4gICAgdmFyIGNvbnRlbnQgPSB0eXBlb2YgY3NzID09PSAnc3RyaW5nJyA/IFtbbW9kdWxlLmlkLCBjc3MsICcnXV0gOiBjc3M7XG5cbiAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBjc3MubG9jYWxzIHx8IHt9O1xuICAgIGV4cG9ydHMuX2dldENvbnRlbnQgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGNvbnRlbnQ7IH07XG4gICAgZXhwb3J0cy5fZ2V0Q3NzID0gZnVuY3Rpb24oKSB7IHJldHVybiAnJyArIGNzczsgfTtcbiAgICBleHBvcnRzLl9pbnNlcnRDc3MgPSBmdW5jdGlvbihvcHRpb25zKSB7IHJldHVybiBpbnNlcnRDc3MoY29udGVudCwgb3B0aW9ucykgfTtcblxuICAgIC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbiAgICAvLyBodHRwczovL3dlYnBhY2suZ2l0aHViLmlvL2RvY3MvaG90LW1vZHVsZS1yZXBsYWNlbWVudFxuICAgIC8vIE9ubHkgYWN0aXZhdGVkIGluIGJyb3dzZXIgY29udGV4dFxuICAgIGlmIChtb2R1bGUuaG90ICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCkge1xuICAgICAgdmFyIHJlbW92ZUNzcyA9IGZ1bmN0aW9uKCkge307XG4gICAgICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0yIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNy1ydWxlcy0zIS4vVmlzdWFsRWRpdG9yLnNjc3NcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNzcyA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTctcnVsZXMtMiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTctcnVsZXMtMyEuL1Zpc3VhbEVkaXRvci5zY3NzXCIpO1xuICAgICAgICBjb250ZW50ID0gdHlwZW9mIGNzcyA9PT0gJ3N0cmluZycgPyBbW21vZHVsZS5pZCwgY3NzLCAnJ11dIDogY3NzO1xuICAgICAgICByZW1vdmVDc3MgPSBpbnNlcnRDc3MoY29udGVudCwgeyByZXBsYWNlOiB0cnVlIH0pO1xuICAgICAgfSk7XG4gICAgICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHJlbW92ZUNzcygpOyB9KTtcbiAgICB9XG4gICIsIi8vIEBmbG93XG5cbmltcG9ydCB7IGZzIH0gZnJvbSAnZmlsZXInO1xuXG5pbXBvcnQgeyBQcm9qZWN0IH0gZnJvbSAnLi4vLi4vY29yZS9zdG9yZS9wcm9qZWN0cyc7XG5pbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJy4uL21pc2MvaG9va3MnO1xuXG5leHBvcnQgeyBQcm9qZWN0IH07XG5cbnR5cGUgRW5jb2RpbmcgPSAndXRmOCc7XG5cbi8qKlxuICogUHJvdmlkZXMgYWNjZXNzIHRvIGEgZmlsZSBpbiBhIGxvY2FsIHByb2plY3QuXG4gKiBUaGUgZmlsZSdzIGNvbnRlbnQgYXJlIGxvYWRlZCBvbmNlLCBhbmQgc2F2ZWQgb24gYW55IG1vZGlmaWNhdGlvbi5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIG9wdGlvbmFsbHkgYWNjZXB0cyBhbiBlbmNvZGluZyBvZiBgdXRmOGAsIGluIHdoaWNoIGNhc2UgdGhlIGZpbGUgd2lsbCBiZSByZWFkIGFuZFxuICogd3JpdHRlbiBhcyB1dGY4IHRleHQgaW5zdGVhZCBvZiBiaW5hcnkuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZUZpbGUoXG4gIHByb2plY3Q6IFByb2plY3QsXG4gIHBhdGg6IHN0cmluZyxcbiAgZW5jb2Rpbmc/OiBFbmNvZGluZyxcbik6IFtzdHJpbmcgfCBudWxsLCAoc3RyaW5nKSA9PiB2b2lkXSB7XG4gIGFzeW5jIGZ1bmN0aW9uIGxvYWQoKSB7XG4gICAgY29uc3QgYWJzb2x1dGVQYXRoID0gcHJvamVjdC5yZXNvbHZlKHBhdGgpO1xuICAgIHJldHVybiAvKiBhd2FpdCAqLyBmcy5wcm9taXNlcy5yZWFkRmlsZShhYnNvbHV0ZVBhdGgsIGVuY29kaW5nKTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHN0b3JlKGNvbnRlbnQpIHtcbiAgICBjb25zdCBhYnNvbHV0ZVBhdGggPSBwcm9qZWN0LnJlc29sdmUocGF0aCk7XG4gICAgYXdhaXQgZnMucHJvbWlzZXMud3JpdGVGaWxlKGFic29sdXRlUGF0aCwgY29udGVudCwgZW5jb2RpbmcpO1xuICB9XG5cbiAgcmV0dXJuIHVzZVN0b3JlPHN0cmluZz4obG9hZCwgc3RvcmUsIFtwcm9qZWN0LCBwYXRoXSk7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB1c2VGaWxlLCB7IFByb2plY3QgfSBmcm9tICcuL3VzZUZpbGUnO1xuXG5leHBvcnQgeyBQcm9qZWN0IH07XG5cbnR5cGUgRW5jb2RpbmcgPSAndXRmOCc7XG5cbi8qKlxuICogUHJvdmlkZXMgYWNjZXNzIHRvIGEgZmlsZSBpbiBhIGxvY2FsIHByb2plY3QuXG4gKiBUaGUgZmlsZSdzIGNvbnRlbnQgYXJlIGxvYWRlZCBvbmNlLCBhbmQgc2F2ZWQgb24gYW55IG1vZGlmaWNhdGlvbi5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIG9wdGlvbmFsbHkgYWNjZXB0cyBhbiBlbmNvZGluZyBvZiBgdXRmOGAsIGluIHdoaWNoIGNhc2UgdGhlIGZpbGUgd2lsbCBiZSByZWFkIGFuZFxuICogd3JpdHRlbiBhcyB1dGY4IHRleHQgaW5zdGVhZCBvZiBiaW5hcnkuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZUZpbGVPYmplY3RVUkwoXG4gIHByb2plY3Q6IFByb2plY3QsXG4gIHBhdGg6IHN0cmluZyxcbiAgZW5jb2Rpbmc/OiBFbmNvZGluZyxcbik6IHN0cmluZyB8IG51bGwge1xuICBjb25zdCBbY29udGVudCwgX3NldENvbnRlbnRdID0gdXNlRmlsZShwcm9qZWN0LCBwYXRoLCBlbmNvZGluZyk7XG5cbiAgY29uc3QgW3VybCwgc2V0VXJsXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbnRlbnQgPT09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2NvbnRlbnRdKTtcbiAgICBjb25zdCBvYmplY3RVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgIHNldFVybChvYmplY3RVcmwpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHNldFVybChudWxsKTtcbiAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwob2JqZWN0VXJsKTtcbiAgICB9O1xuICB9LCBbY29udGVudF0pO1xuXG4gIHJldHVybiB1cmw7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGb3JtYXR0ZWRNZXNzYWdlIGFzIE0gfSBmcm9tICdyZWFjdC1pbnRsJztcblxuaW1wb3J0IEJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9CdXR0b24nO1xuaW1wb3J0IERpYWxvZyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9EaWFsb2cnO1xuaW1wb3J0IERpYWxvZ0FjdGlvbnMgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nQWN0aW9ucyc7XG5pbXBvcnQgRGlhbG9nQ29udGVudCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9EaWFsb2dDb250ZW50JztcbmltcG9ydCBEaWFsb2dDb250ZW50VGV4dCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9EaWFsb2dDb250ZW50VGV4dCc7XG5pbXBvcnQgRGlhbG9nVGl0bGUgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nVGl0bGUnO1xuaW1wb3J0IG1lc3NhZ2VzIGZyb20gJy4vY29tbW9uTWVzc2FnZXMnO1xuXG50eXBlIEFjdGlvbkNvbnN0YW50ID0gJ09LX0NBTkNFTCcgfCAnT0tfYXV0b2ZvY3VzX0NBTkNFTCcgfCAnT0tfQ0FOQ0VMX2F1dG9mb2N1cyc7XG5cbnR5cGUgU2ltcGxlRGlhbG9nUHJvcHMgPSB7fFxuICBpZDogc3RyaW5nLFxuICBvcGVuOiBib29sZWFuLFxuICB2YWxpZDogYm9vbGVhbixcbiAgdGl0bGU/OiBSZWFjdC5Ob2RlLFxuICBkZXNjcmlwdGlvbj86IFJlYWN0Lk5vZGUsXG4gIGFjdGlvbnM6IEFjdGlvbkNvbnN0YW50IHwgUmVhY3QuTm9kZSxcbiAgb25DYW5jZWw/OiAoKSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPixcbiAgb25Db25maXJtPzogKCkgPT4gdm9pZCB8IFByb21pc2U8dm9pZD4sXG4gIGNoaWxkcmVuPzogUmVhY3QuTm9kZSxcbnx9O1xuXG4vKipcbiAqIEEgd3JhcHBlciBmb3IgdGhlIG1hdGVyaWFsLXVpIGBEaWFsb2dgIGNvbXBvbmVudCBmb3IgZWFzeSBkaXNwbGF5IG9mIGRpYWxvZ3NcbiAqIHdpdGggdGl0bGUsIG1haW4gY29udGVudCwgYW5kIGFjdGlvbnMuXG4gKiBUaGUgY29tcG9uZW50IHRha2VzIGNhcmUgb2YgYmFzaWMgQVJJQSBhdHRyaWJ1dGVzIGZvciB0aXRsZSBhbmQgZGVzY3JpcHRpb24sXG4gKiBhbmQgZGlzcGF0Y2hlcyBjbG9zZSBhbmQgc3VibWl0IGV2ZW50cyB0byB0aGUgY2FsbGluZyBjb2RlLlxuICpcbiAqIE9uZSBvZiB0aGUgYEFjdGlvbkNvbnN0YW50YHMgY2FuIGJlIHVzZWQgdG8gZGlzcGxheSBPSy9DYW5jZWwgYnV0dG9ucyxcbiAqIG9yIGEgY3VzdG9tIGxpc3QvZnJhZ21lbnQgb2YgYnV0dG9ucyBjYW4gYmUgcGFzc2VkLlxuICovXG5mdW5jdGlvbiBTaW1wbGVEaWFsb2coe1xuICBpZCxcbiAgb3BlbixcbiAgdmFsaWQsXG4gIHRpdGxlLFxuICBkZXNjcmlwdGlvbixcbiAgYWN0aW9ucyxcbiAgb25DYW5jZWwsXG4gIG9uQ29uZmlybSxcbiAgY2hpbGRyZW4sXG59OiBTaW1wbGVEaWFsb2dQcm9wcykge1xuICBjb25zdCBjb25kaXRpb25hbFByb3BzID0ge307XG4gIGlmICh0aXRsZSAhPT0gdW5kZWZpbmVkKSBjb25kaXRpb25hbFByb3BzWydhcmlhLWxhYmVsbGVkYnknXSA9IGAke2lkfS10aXRsZWA7XG4gIGlmIChkZXNjcmlwdGlvbiAhPT0gdW5kZWZpbmVkKSBjb25kaXRpb25hbFByb3BzWydhcmlhLWRlc2NyaWJlZGJ5J10gPSBgJHtpZH0tZGVzY3JpcHRpb25gO1xuXG4gIGxldCBhY3Rpb25zTm9kZTogUmVhY3QuTm9kZTtcbiAgc3dpdGNoIChhY3Rpb25zKSB7XG4gICAgY2FzZSAnT0tfQ0FOQ0VMJzpcbiAgICBjYXNlICdPS19hdXRvZm9jdXNfQ0FOQ0VMJzpcbiAgICBjYXNlICdPS19DQU5DRUxfYXV0b2ZvY3VzJzpcbiAgICAgIGFjdGlvbnNOb2RlID0gKFxuICAgICAgICA8PlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2FuY2VsfVxuICAgICAgICAgICAgY29sb3I9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgYXV0b0ZvY3VzPXthY3Rpb25zID09PSAnT0tfQ0FOQ0VMX2F1dG9mb2N1cyd9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPE0gey4uLm1lc3NhZ2VzLmNhbmNlbH0gLz5cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgIGNvbG9yPVwicHJpbWFyeVwiXG4gICAgICAgICAgICBkaXNhYmxlZD17IXZhbGlkfVxuICAgICAgICAgICAgYXV0b0ZvY3VzPXthY3Rpb25zID09PSAnT0tfYXV0b2ZvY3VzX0NBTkNFTCd9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPE0gey4uLm1lc3NhZ2VzLm9rfSAvPlxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8Lz5cbiAgICAgICk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgYWN0aW9uc05vZGUgPSBhY3Rpb25zO1xuICB9XG5cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gKGV2ZW50KSA9PiB7XG4gICAgaWYgKG9uQ29uZmlybSAhPT0gdW5kZWZpbmVkKSBvbkNvbmZpcm0oKTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPERpYWxvZyBvcGVuPXtvcGVufSBvbkNsb3NlPXtvbkNhbmNlbH0gey4uLmNvbmRpdGlvbmFsUHJvcHN9PlxuICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0+XG4gICAgICAgIHt0aXRsZSAhPT0gdW5kZWZpbmVkID8gPERpYWxvZ1RpdGxlIGlkPXtgJHtpZH0tdGl0bGVgfT57dGl0bGV9PC9EaWFsb2dUaXRsZT4gOiBudWxsfVxuICAgICAgICA8RGlhbG9nQ29udGVudD5cbiAgICAgICAgICB7ZGVzY3JpcHRpb24gIT09IHVuZGVmaW5lZCA/IChcbiAgICAgICAgICAgIDxEaWFsb2dDb250ZW50VGV4dCBpZD17YCR7aWR9LWRlc2NyaXB0aW9uYH0+e2Rlc2NyaXB0aW9ufTwvRGlhbG9nQ29udGVudFRleHQ+XG4gICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L0RpYWxvZ0NvbnRlbnQ+XG4gICAgICAgIDxEaWFsb2dBY3Rpb25zPnthY3Rpb25zTm9kZX08L0RpYWxvZ0FjdGlvbnM+XG4gICAgICA8L2Zvcm0+XG4gICAgPC9EaWFsb2c+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNpbXBsZURpYWxvZztcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBmaWxlciwgeyBmcyB9IGZyb20gJ2ZpbGVyJztcblxuY29uc3Qgc2ggPSBuZXcgZnMuU2hlbGwoKTtcblxuLy8gZm9yIHRoZSBJREUgcmVsZXZhbnQgZmllbGRzIG9mIGZzLnN0YXQoKSByZXN1bHRzXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVyU3RhdEluZm8ge1xuICArbm9kZTogc3RyaW5nOyAvLyBpbnRlcm5hbCBub2RlIGlkICh1bmlxdWUpXG4gIC8vIGRldjogc3RyaW5nOyAvLyBmaWxlIHN5c3RlbSBuYW1lXG4gICtuYW1lOiBzdHJpbmc7IC8vIHRoZSBlbnRyeSdzIG5hbWUgKGJhc2VuYW1lKVxuICAvLyBzaXplOiBudW1iZXI7IC8vIGZpbGUgc2l6ZSBpbiBieXRlc1xuICAvLyBubGlua3M6IG51bWJlcjsgLy8gbnVtYmVyIG9mIGxpbmtzXG4gIC8vIGF0aW1lOiBkYXRlOyAvLyBsYXN0IGFjY2VzcyB0aW1lIGFzIEpTIERhdGUgT2JqZWN0XG4gIC8vIG10aW1lOiBkYXRlOyAvLyBsYXN0IG1vZGlmaWVkIHRpbWUgYXMgSlMgRGF0ZSBPYmplY3RcbiAgLy8gY3RpbWU6IGRhdGU7IC8vIGNyZWF0aW9uIHRpbWUgYXMgSlMgRGF0ZSBPYmplY3RcbiAgLy8gYXRpbWVNczogbnVtYmVyOyAvLyBsYXN0IGFjY2VzcyB0aW1lIGFzIFVuaXggVGltZXN0YW1wXG4gIC8vIG10aW1lTXM6IG51bWJlcjsgLy8gbGFzdCBtb2RpZmllZCB0aW1lIGFzIFVuaXggVGltZXN0YW1wXG4gIC8vIGN0aW1lTXM6IG51bWJlcjsgLy8gY3JlYXRpb24gdGltZSBhcyBVbml4IFRpbWVzdGFtcFxuICArdHlwZTogJ0ZJTEUnIHwgJ0RJUkVDVE9SWScgfCAnU1lNTElOSyc7IC8vIGZpbGUgdHlwZVxuICAvLyBnaWQ6IG51bWJlcjsgLy8gZ3JvdXAgbmFtZVxuICAvLyB1aWQ6IG51bWJlcjsgLy8gb3duZXIgbmFtZVxuICAvLyBtb2RlOiBudW1iZXI7IC8vIHBlcm1pc3Npb25zXG4gIC8vIHZlcnNpb246IG51bWJlcjsgLy8gdmVyc2lvbiBvZiB0aGUgbm9kZVxuXG4gIGlzRmlsZSgpOiBib29sZWFuOyAvLyBSZXR1cm5zIHRydWUgaWYgdGhlIG5vZGUgaXMgYSBmaWxlLlxuICBpc0RpcmVjdG9yeSgpOiBib29sZWFuOyAvLyBSZXR1cm5zIHRydWUgaWYgdGhlIG5vZGUgaXMgYSBkaXJlY3RvcnkuXG4gIC8vIGlzQmxvY2tEZXZpY2UoKTogYm9vbGVhbjsgLy8gTm90IGltcGxlbWVudGVkLCByZXR1cm5zIGZhbHNlLlxuICAvLyBpc0NoYXJhY3RlckRldmljZSgpOiBib29sZWFuOyAvLyBOb3QgaW1wbGVtZW50ZWQsIHJldHVybnMgZmFsc2UuXG4gIGlzU3ltYm9saWNMaW5rKCk6IGJvb2xlYW47IC8vIFJldHVybnMgdHJ1ZSBpZiB0aGUgbm9kZSBpcyBhIHN5bWJvbGljIGxpbmsuXG4gIC8vIGlzRklGTygpOiBib29sZWFuOyAvLyBOb3QgaW1wbGVtZW50ZWQsIHJldHVybnMgZmFsc2UuXG4gIC8vIGlzU29ja2V0KCk6IGJvb2xlYW47IC8vIE5vdCBpbXBsZW1lbnRlZCwgcmV0dXJucyBmYWxzZS5cbn1cblxuZXhwb3J0IHR5cGUgRmlsZXJSZWN1cnNpdmVEaXJlY3RvcnlJbmZvID0gRmlsZXJTdGF0SW5mbyAmIHtcbiAgLy8gY29udGVudHMgYXJlIGFkZGVkIGZvciBzaC5scygpXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICArY29udGVudHM6IEZpbGVyUmVjdXJzaXZlU3RhdEluZm9bXSxcbn07XG5cbmV4cG9ydCB0eXBlIEZpbGVyUmVjdXJzaXZlU3RhdEluZm8gPSBGaWxlclJlY3Vyc2l2ZURpcmVjdG9yeUluZm8gfCBGaWxlclN0YXRJbmZvO1xuXG4vKipcbiAqIEdpdmVuIGEgZmlsZSwgcmV0dXJucyB0aGUgbmFtZWQgY2hpbGQgZmlsZS5cbiAqIFRoZSBvcGVyYXRpb24gZmFpbHMgaWYgdGhlIGdpdmVuIGZpbGUgaXMgbm90IGEgZGlyZWN0b3J5LFxuICogb3IgaWYgdGhlIG5hbWVkIGNoaWxkIGRvZXMgbm90IGV4aXN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2hpbGQoZmlsZTogRmlsZXJSZWN1cnNpdmVTdGF0SW5mbywgbmFtZTogc3RyaW5nKTogRmlsZXJSZWN1cnNpdmVTdGF0SW5mbyB7XG4gIGlmICghZmlsZS5pc0RpcmVjdG9yeSgpKSB0aHJvdyBuZXcgRXJyb3IoYCcke2ZpbGUubmFtZX0nIGlzIG5vdCBhIGRpcmVjdG9yeWApO1xuICAvLyAkRmxvd0V4cGVjdEVycm9yXG4gIGNvbnN0IGRpcmVjdG9yeTogRmlsZXJSZWN1cnNpdmVEaXJlY3RvcnlJbmZvID0gZmlsZTtcblxuICAvLyBGaW5kIHRoZSBjaGlsZCBhbmQgbWFrZSBzdXJlIGl0IGV4aXN0c1xuICBjb25zdCBjaGlsZCA9IGRpcmVjdG9yeS5jb250ZW50cy5maW5kKChmKSA9PiBmLm5hbWUgPT09IG5hbWUpO1xuICBpZiAoY2hpbGQgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKGAnJHtuYW1lfScgZG9lcyBub3QgZXhpc3RgKTtcbiAgcmV0dXJuIGNoaWxkO1xufVxuXG4vKipcbiAqIEdpdmVuIGEgZmlsZSwgcmV0dXJucyBvbmUgb2YgaXRzIGRlc2NlbmRhbnQgZmlsZXMuXG4gKiBUaGUgZmlyc3QgZnJhZ21lbnQgbXVzdCBiZSB0aGUgbmFtZSBvZiBhIGNoaWxkIG9mIHRoZSBnaXZlbiBmaWxlLFxuICogVGhlIHNlY29uZCB0aGUgbmFtZSBvZiBvbmUgb2YgdGhhdCBmaWxlJ3MgY2hpbGRyZW4gYW5kIHNvIG9uLlxuICogVGhlIG9wZXJhdGlvbiBmYWlscyBpZiBhbiBpbnRlcm1lZGlhdGUgZmlsZSBmaWxlIGlzIG5vdCBhIGRpcmVjdG9yeSxcbiAqIG9yIGlmIGEgbmFtZWQgZGVzY2VuZGFudCBkb2VzIG5vdCBleGlzdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERlc2NlbmRhbnQoXG4gIGZpbGU6IEZpbGVyUmVjdXJzaXZlU3RhdEluZm8sXG4gIC4uLmZyYWdtZW50czogc3RyaW5nW11cbik6IEZpbGVyUmVjdXJzaXZlU3RhdEluZm8ge1xuICByZXR1cm4gZnJhZ21lbnRzLnJlZHVjZShnZXRDaGlsZCwgZmlsZSk7XG59XG5cbmV4cG9ydCBjbGFzcyBQcm9qZWN0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIG5hbWUgPSAnUHJvamVjdEVycm9yJztcbn1cblxuY29uc3QgY21wRmlsZSA9IChhOiBGaWxlclN0YXRJbmZvLCBiOiBGaWxlclN0YXRJbmZvKSA9PiB7XG4gIGxldCByZXN1bHQ7XG5cbiAgLy8gc29ydCBkaXJlY3RvcmllcyBiZWZvcmUgZmlsZXMgKCYgc3ltbGlua3MpXG4gIGNvbnN0IHR5cGVWYWwgPSAoZikgPT4gKGYuaXNEaXJlY3RvcnkoKSA/IDAgOiAxKTtcbiAgcmVzdWx0ID0gdHlwZVZhbChhKSAtIHR5cGVWYWwoYik7XG4gIGlmIChyZXN1bHQgIT09IDApIHJldHVybiByZXN1bHQ7XG5cbiAgLy8gc29ydCBhbHBoYWJldGljYWxseVxuICByZXN1bHQgPSBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpO1xuICBpZiAocmVzdWx0ICE9PSAwKSByZXR1cm4gcmVzdWx0O1xuXG4gIHJldHVybiAwO1xufTtcblxuZXhwb3J0IGNsYXNzIFByb2plY3Qge1xuICBuYW1lOiBzdHJpbmc7XG4gIHVpZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgdWlkOiBzdHJpbmcpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMudWlkID0gdWlkO1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldFByb2plY3RzKCk6IFByb21pc2U8UHJvamVjdFtdPiB7XG4gICAgY29uc3QgcHJvamVjdHMgPSBhd2FpdCBzaC5wcm9taXNlcy5scygnLycpO1xuICAgIHByb2plY3RzLnNvcnQoKGEsIGIpID0+IGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSkpO1xuICAgIHJldHVybiBwcm9qZWN0cy5tYXAoKHsgbmFtZSwgbm9kZTogdWlkIH0pID0+IG5ldyBQcm9qZWN0KG5hbWUsIHVpZCkpO1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldFByb2plY3QobmFtZTogc3RyaW5nKTogUHJvbWlzZTxQcm9qZWN0PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhdGggPSBmaWxlci5wYXRoLnJlc29sdmUoJy8nLCBuYW1lKTtcbiAgICAgIGNvbnN0IHsgbm9kZTogdWlkIH0gPSBhd2FpdCBmcy5wcm9taXNlcy5zdGF0KHBhdGgpO1xuICAgICAgcmV0dXJuIG5ldyBQcm9qZWN0KG5hbWUsIHVpZCk7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIGlmIChleCBpbnN0YW5jZW9mIGZpbGVyLkVycm9ycy5FTk9FTlQpXG4gICAgICAgIHRocm93IG5ldyBQcm9qZWN0RXJyb3IoYFByb2plY3QgXCIke25hbWV9XCIgZG9lcyBub3QgZXhpc3RgKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXgpO1xuICAgICAgdGhyb3cgZXg7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZVByb2plY3QobmFtZTogc3RyaW5nKTogUHJvbWlzZTxQcm9qZWN0PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhdGggPSBmaWxlci5wYXRoLnJlc29sdmUoJy8nLCBuYW1lKTtcbiAgICAgIGF3YWl0IGZzLnByb21pc2VzLm1rZGlyKHBhdGgpO1xuICAgICAgY29uc3QgeyBub2RlOiB1aWQgfSA9IGF3YWl0IGZzLnByb21pc2VzLnN0YXQocGF0aCk7XG4gICAgICByZXR1cm4gbmV3IFByb2plY3QobmFtZSwgdWlkKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgaWYgKGV4IGluc3RhbmNlb2YgZmlsZXIuRXJyb3JzLkVFWElTVClcbiAgICAgICAgdGhyb3cgbmV3IFByb2plY3RFcnJvcihgUHJvamVjdCBcIiR7bmFtZX1cIiBkb2VzIGFscmVhZHkgZXhpc3RgKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXgpO1xuICAgICAgdGhyb3cgZXg7XG4gICAgfVxuICB9XG5cbiAgcmVzb2x2ZSguLi5mcmFnbWVudHM6IHN0cmluZ1tdKTogc3RyaW5nIHtcbiAgICByZXR1cm4gZmlsZXIucGF0aC5yZXNvbHZlKCcvJywgdGhpcy5uYW1lLCAuLi5mcmFnbWVudHMpO1xuICB9XG5cbiAgZ2V0IHBhdGgoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5yZXNvbHZlKCk7XG4gIH1cblxuICBhc3luYyBnZXRGaWxlcygpOiBQcm9taXNlPEZpbGVyUmVjdXJzaXZlU3RhdEluZm8+IHtcbiAgICBmdW5jdGlvbiBzb3J0UmVjdXJzaXZlbHkoZmlsZTogRmlsZXJSZWN1cnNpdmVTdGF0SW5mbykge1xuICAgICAgaWYgKCFmaWxlLmlzRGlyZWN0b3J5KCkpIHJldHVybjtcblxuICAgICAgLy8gJEZsb3dFeHBlY3RFcnJvclxuICAgICAgY29uc3QgZGlyOiBGaWxlclJlY3Vyc2l2ZURpcmVjdG9yeUluZm8gPSBmaWxlO1xuICAgICAgZGlyLmNvbnRlbnRzLnNvcnQoY21wRmlsZSk7XG4gICAgICBkaXIuY29udGVudHMuZm9yRWFjaCgoZikgPT4gc29ydFJlY3Vyc2l2ZWx5KGYpKTtcbiAgICB9XG5cbiAgICBjb25zdCBbcm9vdCwgY29udGVudHNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgZnMucHJvbWlzZXMuc3RhdCh0aGlzLnBhdGgpLFxuICAgICAgc2gucHJvbWlzZXMubHModGhpcy5wYXRoLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KSxcbiAgICBdKTtcblxuICAgIHJvb3QuY29udGVudHMgPSBjb250ZW50cztcbiAgICBzb3J0UmVjdXJzaXZlbHkocm9vdCk7XG5cbiAgICByZXR1cm4gcm9vdDtcbiAgfVxuXG4gIGFzeW5jIHJlbmFtZShuZXdOYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbmV3UGF0aCA9IGZpbGVyLnBhdGgucmVzb2x2ZSgnLycsIG5ld05hbWUpO1xuICAgICAgYXdhaXQgZnMucHJvbWlzZXMucmVuYW1lKHRoaXMucGF0aCwgbmV3UGF0aCk7XG4gICAgICB0aGlzLm5hbWUgPSBuZXdOYW1lO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICBpZiAoZXggaW5zdGFuY2VvZiBmaWxlci5FcnJvcnMuRU5PRU5UKVxuICAgICAgICB0aHJvdyBuZXcgUHJvamVjdEVycm9yKGBQcm9qZWN0IFwiJHt0aGlzLm5hbWV9XCIgZG9lcyBubyBsb25nZXIgZXhpc3RgKTtcbiAgICAgIGlmIChleCBpbnN0YW5jZW9mIGZpbGVyLkVycm9ycy5FRVhJU1QpXG4gICAgICAgIHRocm93IG5ldyBQcm9qZWN0RXJyb3IoYFByb2plY3QgXCIke25ld05hbWV9XCIgZG9lcyBhbHJlYWR5IGV4aXN0YCk7XG4gICAgICBjb25zb2xlLmVycm9yKGV4KTtcbiAgICAgIHRocm93IGV4O1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgLy8gdXNlIFNoZWxsLnJtIGFzIGl0IHN1cHBvcnRzIHJlY3Vyc2l2ZSByZW1vdmFsXG4gICAgICBhd2FpdCBzaC5wcm9taXNlcy5ybSh0aGlzLnBhdGgsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICBpZiAoZXggaW5zdGFuY2VvZiBmaWxlci5FcnJvcnMuRU5PRU5UKVxuICAgICAgICB0aHJvdyBuZXcgUHJvamVjdEVycm9yKGBQcm9qZWN0IFwiJHt0aGlzLm5hbWV9XCIgZG9lcyBubyBsb25nZXIgZXhpc3RgKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXgpO1xuICAgICAgdGhyb3cgZXg7XG4gICAgfVxuICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBmcyB9IGZyb20gJ2ZpbGVyJztcblxuaW1wb3J0IEV4ZWN1dG9yLCB7IHR5cGUgVGFzayB9IGZyb20gJy4uL2NvbXBvbmVudHMvaWRlL0V4ZWN1dG9yJztcbmltcG9ydCB7IFByb2plY3QgfSBmcm9tICcuLi9jb3JlL3N0b3JlL3Byb2plY3RzJztcbmltcG9ydCB7IFNpbXVsYXRpb24gfSBmcm9tICcuLi9jb21wb25lbnRzL2lkZS9TaW11bGF0b3Ivc2ltdWxhdGlvbic7XG5pbXBvcnQgaW5pdE1pc2NTZGsgZnJvbSAnLi9taXNjJztcbmltcG9ydCBpbml0SGVkZ2Vob2dTZGsgZnJvbSAnLi9oZWRnZWhvZyc7XG5pbXBvcnQgaW5pdEJsb2NrbHlTZGsgZnJvbSAnLi9ibG9ja2x5JztcbmltcG9ydCBpbml0U2ltdWxhdGlvblNkayBmcm9tICcuL3NpbXVsYXRpb24nO1xuXG5jbGFzcyBQbHVnaW5NYW5hZ2VyIHtcbiAgZXhlY3V0b3I6IEV4ZWN1dG9yO1xuICBwbHVnaW5zOiBUYXNrW10gPSBbXTtcbiAgcGx1Z2luUmVhZHlSZXNvbHZlcnM6ICgoKSA9PiB2b2lkKVtdID0gW107XG5cbiAgcHJpbnQ6ICh0ZXh0OiBzdHJpbmcsIHN0cmVhbTogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBnZXRJbnB1dDogKCkgPT4gUHJvbWlzZTxzdHJpbmc+O1xuICBnZXRTaW11bGF0aW9uOiAoKSA9PiBQcm9taXNlPFNpbXVsYXRpb24+O1xuICBzZGs6IGFueTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBleGVjdXRvcjogRXhlY3V0b3IsXG4gICAgcHJpbnQ6ICh0ZXh0OiBzdHJpbmcsIHN0cmVhbTogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+LFxuICAgIGdldElucHV0OiAoKSA9PiBQcm9taXNlPHN0cmluZz4sXG4gICAgZ2V0U2ltdWxhdGlvbjogKCkgPT4gUHJvbWlzZTxTaW11bGF0aW9uPixcbiAgKSB7XG4gICAgdGhpcy5leGVjdXRvciA9IGV4ZWN1dG9yO1xuICAgIHRoaXMucHJpbnQgPSBwcmludDtcbiAgICB0aGlzLmdldElucHV0ID0gZ2V0SW5wdXQ7XG4gICAgdGhpcy5nZXRTaW11bGF0aW9uID0gZ2V0U2ltdWxhdGlvbjtcbiAgfVxuXG4gIGFzeW5jIGluaXRTZGsoKSB7XG4gICAgY29uc3QgeyBleGVjdXRvciwgcHJpbnQsIGdldElucHV0LCBnZXRTaW11bGF0aW9uIH0gPSB0aGlzO1xuXG4gICAgLy8gVE9ETzogYWRkIG9uIGV4aXQgaGFuZGxlclxuICAgIHRoaXMuc2RrID0ge1xuICAgICAgbWlzYzogYXdhaXQgaW5pdE1pc2NTZGsoe1xuICAgICAgICBwcmludCxcbiAgICAgICAgZ2V0SW5wdXQsXG4gICAgICAgIG9uRXhpdDogKCkgPT4ge30sXG4gICAgICAgIHBsdWdpbk1hbmFnZXI6IHRoaXMsXG4gICAgICAgIGV4ZWN1dG9yLFxuICAgICAgfSksXG4gICAgICBoZWRnZWhvZzogYXdhaXQgaW5pdEhlZGdlaG9nU2RrKHtcbiAgICAgICAgZ2V0U2ltdWxhdGlvbixcbiAgICAgIH0pLFxuICAgICAgYmxvY2tseTogYXdhaXQgaW5pdEJsb2NrbHlTZGsoKSxcbiAgICAgIHNpbXVsYXRpb246IGF3YWl0IGluaXRTaW11bGF0aW9uU2RrKHtcbiAgICAgICAgZXhlY3V0b3IsXG4gICAgICAgIGdldFNpbXVsYXRpb24sXG4gICAgICB9KSxcbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgbG9hZEZyb21Qcm9qZWN0TWV0YWRhdGEocHJvamVjdDogUHJvamVjdCkge1xuICAgIGNvbnN0IHBsdWdpbkZvbGRlclBhdGggPSBwcm9qZWN0LnJlc29sdmUoJy5tZXRhZGF0YScsICdwbHVnaW5zJyk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0YXQgPSBhd2FpdCBmcy5wcm9taXNlcy5zdGF0KHBsdWdpbkZvbGRlclBhdGgpO1xuICAgICAgaWYgKCFzdGF0LmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChlPy5jb2RlID09PSAnRU5PRU5UJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHNoID0gbmV3IGZzLlNoZWxsKCk7XG4gICAgY29uc3QgcGx1Z2luRmlsZXMgPSBhd2FpdCBzaC5wcm9taXNlcy5scyhwbHVnaW5Gb2xkZXJQYXRoKTtcbiAgICB0aGlzLnBsdWdpbnMucHVzaChcbiAgICAgIC4uLihhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgcGx1Z2luRmlsZXNcbiAgICAgICAgICAuZmlsdGVyKChwbHVnaW5GaWxlKSA9PiBwbHVnaW5GaWxlLm5hbWUuZW5kc1dpdGgoJy5qcycpKVxuICAgICAgICAgIC5tYXAoYXN5bmMgKHBsdWdpbkZpbGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvZGUgPSBhd2FpdCBmcy5wcm9taXNlcy5yZWFkRmlsZShcbiAgICAgICAgICAgICAgcHJvamVjdC5yZXNvbHZlKCcubWV0YWRhdGEnLCAncGx1Z2lucycsIHBsdWdpbkZpbGUubmFtZSksXG4gICAgICAgICAgICAgICd1dGY4JyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hZGRQbHVnaW4ocGx1Z2luRmlsZS5uYW1lLCBjb2RlKTtcbiAgICAgICAgICB9KSxcbiAgICAgICkpLFxuICAgICk7XG4gIH1cblxuICBhc3luYyBhZGRQbHVnaW4obmFtZTogc3RyaW5nLCBjb2RlOiBzdHJpbmcpOiBQcm9taXNlPFRhc2s+IHtcbiAgICBjb25zdCByZWFkeVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgdGhpcy5wbHVnaW5SZWFkeVJlc29sdmVycy5wdXNoKHJlc29sdmUpO1xuICAgIH0pO1xuICAgIGNvbnN0IHRhc2sgPSB0aGlzLmV4ZWN1dG9yLmFkZFRhc2soe1xuICAgICAgbmFtZSxcbiAgICAgIGNvZGUsXG4gICAgICBhcGk6IHtcbiAgICAgICAgLi4udGhpcy5zZGsubWlzYy5oYW5kbGVycyxcbiAgICAgICAgLi4udGhpcy5zZGsuaGVkZ2Vob2cuaGFuZGxlcnMsXG4gICAgICAgIC4uLnRoaXMuc2RrLmJsb2NrbHkuaGFuZGxlcnMsXG4gICAgICAgIC4uLnRoaXMuc2RrLnNpbXVsYXRpb24uaGFuZGxlcnMsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGF3YWl0IHJlYWR5UHJvbWlzZTtcbiAgICByZXR1cm4gdGFzaztcbiAgfVxuXG4gIHNpbXVsYXRpb25BZGRlZChzaW11bGF0aW9uOiBTaW11bGF0aW9uKSB7XG4gICAgdGhpcy5zZGsuc2ltdWxhdGlvbi5zaW11bGF0aW9uQWRkZWQoc2ltdWxhdGlvbik7XG4gIH1cblxuICAvLyBUT0RPIHRoaXMgc2ltcGx5IHJlc29sdmVzIG9uZSBsb2FkaW5nIHBsdWdpbiwgbm90IHRoZSBjb3JyZWN0IG9uZVxuICBvblBsdWdpblJlYWR5ID0gKCkgPT4gdGhpcy5wbHVnaW5SZWFkeVJlc29sdmVycy5zaGlmdCgpKCk7XG5cbiAgZ2V0U2RrKCkge1xuICAgIHJldHVybiB0aGlzLnNkaztcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgUGx1Z2luTWFuYWdlcjtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBFeGVjdXRvciwgeyBUYXNrSGFuZGxlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9pZGUvRXhlY3V0b3InO1xuXG5leHBvcnQgdHlwZSBIYW5kbGVyPFQgPSB2b2lkPiA9IChhcmdzOiBhbnksIHRhc2tIYW5kbGU6IFRhc2tIYW5kbGUpID0+IFQgfCBQcm9taXNlPFQ+O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlbWl0KHByZWZpeDogc3RyaW5nLCBleGVjdXRvcjogRXhlY3V0b3IsIGV2ZW50OiBzdHJpbmcsIHBheWxvYWQ6IGFueSkge1xuICBleGVjdXRvci5zZW5kRXZlbnQobnVsbCwgYCR7cHJlZml4fV8ke2V2ZW50fWAsIHBheWxvYWQpO1xufVxuIiwiLy8gQGZsb3dcbi8qIGVzbGludC1kaXNhYmxlICovXG4vLyBETyBOT1QgREVMRVRFIEdTTCBUQUdTXG5cbmltcG9ydCB7IHR5cGUgVGFza0hhbmRsZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvaWRlL0V4ZWN1dG9yL0V4ZWN1dG9yJztcbmltcG9ydCBiYXNlRW1pdCBmcm9tICcuL2Jhc2UnO1xuLy8gPEdTTCBjdXN0b21pemFibGU6IGJsb2NrbHktaW1wb3J0cz5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCbG9ja2x5IGZyb20gJ2Jsb2NrbHknO1xuaW1wb3J0IFZpc3VhbEVkaXRvciBmcm9tICcuLi9jb21wb25lbnRzL2lkZS9WaXN1YWxFZGl0b3InO1xuXG5pbXBvcnQgeyB0eXBlIEJsb2NrLCByZWdpc3RlckJsb2NrbHlCbG9jayB9IGZyb20gJy4uL2NvbXBvbmVudHMvaWRlL1Zpc3VhbEVkaXRvci9ibG9ja3MnO1xuXG5leHBvcnQgdHlwZSBJbnB1dCA9IHtcbiAgdmFsdWVUeXBlOiBzdHJpbmcsXG4gIGZpZWxkczoge1xuICAgIG5hbWU6IHN0cmluZyxcbiAgICB2YWx1ZTogYW55LFxuICB9W10sXG59O1xuZXhwb3J0IHR5cGUgRHluYW1pY0Jsb2NrID0ge1xuICBibG9ja0pzb246IE9iamVjdCxcbiAgdG9vbGJveEJsb2Nrc0RhdGE6IHtcbiAgICBbaW5wdXROYW1lOiBzdHJpbmddOiBJbnB1dCxcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGJ1aWxkVG9vbGJveEJsb2NrKGJsb2NrOiBEeW5hbWljQmxvY2spOiBSZWFjdC5Ob2RlIHtcbiAgcmV0dXJuIChcbiAgICA8YmxvY2sgdHlwZT17YmxvY2suYmxvY2tKc29uLnR5cGV9PlxuICAgICAge09iamVjdC5lbnRyaWVzKGJsb2NrLnRvb2xib3hCbG9ja3NEYXRhKS5tYXAoKFtuYW1lLCBpbnB1dDBdKSA9PiB7XG4gICAgICAgIC8vICRGbG93RXhwZWN0RXJyb3JcbiAgICAgICAgY29uc3QgaW5wdXQ6IElucHV0ID0gaW5wdXQwO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPHZhbHVlIG5hbWU9e25hbWV9PlxuICAgICAgICAgICAgPHNoYWRvdyB0eXBlPXtpbnB1dC52YWx1ZVR5cGV9PlxuICAgICAgICAgICAgICB7aW5wdXQuZmllbGRzLm1hcChmaWVsZCA9PiAoXG4gICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9e2ZpZWxkLm5hbWV9PntmaWVsZC52YWx1ZX08L2ZpZWxkPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvc2hhZG93PlxuICAgICAgICAgIDwvdmFsdWU+XG4gICAgICAgICk7XG4gICAgICB9KX1cbiAgICA8L2Jsb2NrPlxuICApO1xufVxuXG4vLyA8L0dTTCBjdXN0b21pemFibGU6IGJsb2NrbHktaW1wb3J0cz5cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaW5pdCgpIHtcbiAgLy8gPEdTTCBjdXN0b21pemFibGU6IGJsb2NrbHktaW5pdD5cbiAgLy8gWW91ciBtb2R1bGUgaW5pdGlhbGl6YXRpb24gY29kZVxuICBjb25zdCBkeW5hbWljQmxvY2tzOiBCbG9ja1tdID0gW107XG4gIFZpc3VhbEVkaXRvci5keW5hbWljQmxvY2tMb2FkZXJzLnB1c2goKCkgPT4ge1xuICAgIHJldHVybiBkeW5hbWljQmxvY2tzO1xuICB9KTtcbiAgLy8gPC9HU0wgY3VzdG9taXphYmxlOiBibG9ja2x5LWluaXQ+XG5cbiAgY29uc3QgZW1pdCA9IGJhc2VFbWl0LmJpbmQobnVsbCwgJ2Jsb2NrbHknKTtcblxuICBhc3luYyBmdW5jdGlvbiBhZGRCbG9jayh0YXNrSGFuZGxlOiBUYXNrSGFuZGxlLCBkeW5hbWljQmxvY2s6IER5bmFtaWNCbG9jaykge1xuICAgIC8vIDxHU0wgY3VzdG9taXphYmxlOiBibG9ja2x5LWJvZHktYWRkQmxvY2s+XG4gICAgLy8gWW91ciBmdW5jdGlvbiBjb2RlIGdvZXMgaGVyZVxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IHR5cGUgfSA9IGR5bmFtaWNCbG9jay5ibG9ja0pzb247XG4gICAgICBpZiAodHlwZSBpbiBCbG9ja2x5LkJsb2Nrcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGJsb2NrIHdpdGggdHlwZSAnJHt0eXBlfScgYWxyZWFkeSBleGlzdHNgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdG9vbGJveEJsb2NrID0gYnVpbGRUb29sYm94QmxvY2soZHluYW1pY0Jsb2NrKTtcbiAgICAgIGNvbnN0IGJsb2NrID0ge1xuICAgICAgICBibG9ja0pzb246IGR5bmFtaWNCbG9jay5ibG9ja0pzb24sXG4gICAgICAgIGdlbmVyYXRvcnM6IHtcbiAgICAgICAgICBKYXZhU2NyaXB0OiBibG9jayA9PiB7XG4gICAgICAgICAgICBjb25zdCBoYXNPdXRwdXQgPSAnb3V0cHV0JyBpbiBkeW5hbWljQmxvY2suYmxvY2tKc29uO1xuICAgICAgICAgICAgY29uc3QgY2FsbEZ1bmN0aW9uID0gaGFzT3V0cHV0ID8gJ2NhbGxXaXRoUmVwbHknIDogJ2NhbGwnO1xuXG4gICAgICAgICAgICBsZXQgY29kZSA9ICcnO1xuICAgICAgICAgICAgY29kZSArPSBgYXdhaXQgc2RrLm1pc2MuJHtjYWxsRnVuY3Rpb259KCcke3Rhc2tIYW5kbGUudGFzay5uYW1lfScsICdibGtfJHt0eXBlfScsIHtcXG5gO1xuICAgICAgICAgICAgZm9yIChjb25zdCB7IG5hbWUsIHR5cGUgfSBvZiBkeW5hbWljQmxvY2suYmxvY2tKc29uLmFyZ3MwKSB7XG4gICAgICAgICAgICAgIGxldCByZXM7XG4gICAgICAgICAgICAgIGlmICh0eXBlID09PSAnaW5wdXRfdmFsdWUnKSB7XG4gICAgICAgICAgICAgICAgcmVzID0gQmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGJsb2NrLCBuYW1lLCBCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTk9ORSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2lucHV0X3N0YXRlbWVudCcpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIGlucHV0X3N0YXRlbWVudCB1bnN1cHBvcnRlZCBmb3Igbm93XG4gICAgICAgICAgICAgICAgcmVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdpbnB1dF9kdW1teScpIHtcbiAgICAgICAgICAgICAgICAvLyBub3RoaW5nIHRvIGRvXG4gICAgICAgICAgICAgICAgcmVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUuc3RhcnRzV2l0aCgnZmllbGRfJykpIHtcbiAgICAgICAgICAgICAgICByZXMgPSBibG9jay5nZXRGaWVsZFZhbHVlKG5hbWUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGhvcGVmdWxseSB1bnJlYWNoYWJsZVxuICAgICAgICAgICAgICAgIHJlcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChyZXMgIT09IHVuZGVmaW5lZCkgY29kZSArPSBgICAke25hbWV9OiAke3Jlc30sXFxuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvZGUgKz0gYH0pYDtcblxuICAgICAgICAgICAgaWYgKGhhc091dHB1dCkge1xuICAgICAgICAgICAgICByZXR1cm4gW2NvZGUsIEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9BV0FJVF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gYCR7Y29kZX07XFxuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFB5dGhvbjogYmxvY2sgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdG9vbGJveEJsb2Nrczoge1xuICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IHRvb2xib3hCbG9jayxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBkeW5hbWljQmxvY2tzLnB1c2goYmxvY2spO1xuICAgICAgcmVnaXN0ZXJCbG9ja2x5QmxvY2soYmxvY2spO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9XG4gICAgLy8gPC9HU0wgY3VzdG9taXphYmxlOiBibG9ja2x5LWJvZHktYWRkQmxvY2s+XG4gIH1cblxuICByZXR1cm4ge1xuICAgIC8vIDxkZWZhdWx0IEdTTCBjdXN0b21pemFibGU6IGJsb2NrbHktZXh0cmEtcmV0dXJuPlxuICAgIC8vIFNwYWNlIGZvciBleHRyYSBleHBvcnRzXG5cbiAgICAvLyA8L0dTTCBjdXN0b21pemFibGU6IGJsb2NrbHktZXh0cmEtcmV0dXJuPlxuICAgIGVtaXQsXG4gICAgaGFuZGxlcnM6IHtcbiAgICAgICdibG9ja2x5X2FkZEJsb2NrJzogYXN5bmMgKHsgZHluYW1pY0Jsb2NrIH06IHsgZHluYW1pY0Jsb2NrOiBEeW5hbWljQmxvY2sgfSwgdGFza0hhbmRsZTogVGFza0hhbmRsZSkgPT4ge1xuICAgICAgICByZXR1cm4gdGFza0hhbmRsZS53aXRoUmVwbHkobnVsbCwgYWRkQmxvY2suYmluZChudWxsLCB0YXNrSGFuZGxlLCBkeW5hbWljQmxvY2spKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgfTtcbn1cbiIsIi8vIEBmbG93XG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuLy8gRE8gTk9UIERFTEVURSBHU0wgVEFHU1xuXG5pbXBvcnQgeyB0eXBlIFRhc2tIYW5kbGUgfSBmcm9tICcuLi9jb21wb25lbnRzL2lkZS9FeGVjdXRvci9FeGVjdXRvcic7XG5pbXBvcnQgYmFzZUVtaXQgZnJvbSAnLi9iYXNlJztcbi8vIDxHU0wgY3VzdG9taXphYmxlOiBoZWRnZWhvZy1pbXBvcnRzPlxuaW1wb3J0IHsgU2ltdWxhdGlvbiwgUm9ib3QgfSBmcm9tICcuLi9jb21wb25lbnRzL2lkZS9TaW11bGF0b3Ivc2ltdWxhdGlvbic7XG5pbXBvcnQgeyB0eXBlIENvbW1hbmQgfSBmcm9tICcuLi9leGVjdXRvci9IZWRnZWhvZyc7XG4vLyA8L0dTTCBjdXN0b21pemFibGU6IGhlZGdlaG9nLWltcG9ydHM+XG5cbnR5cGUgSW5pdEFyZ3MgPSB7XG4gIGdldFNpbXVsYXRpb246ICgpID0+IFByb21pc2U8U2ltdWxhdGlvbj4sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBpbml0KHtcbiAgZ2V0U2ltdWxhdGlvbixcbn06IEluaXRBcmdzKSB7XG4gIC8vIDxHU0wgY3VzdG9taXphYmxlOiBoZWRnZWhvZy1pbml0PlxuICBhc3luYyBmdW5jdGlvbiBnZXRSb2JvdChuYW1lOiBzdHJpbmcpOiBQcm9taXNlPFJvYm90PiB7XG4gICAgY29uc3Qgcm9ib3QgPSAoYXdhaXQgZ2V0U2ltdWxhdGlvbigpKS5yb2JvdHMuZ2V0KG5hbWUpO1xuICAgIGlmIChyb2JvdCA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoYG5vIHJvYm90IG5hbWVkIFwiJHtuYW1lfVwiYCk7XG4gICAgcmV0dXJuIHJvYm90O1xuICB9XG4gIC8vIDwvR1NMIGN1c3RvbWl6YWJsZTogaGVkZ2Vob2ctaW5pdD5cblxuICBjb25zdCBlbWl0ID0gYmFzZUVtaXQuYmluZChudWxsLCAnaGVkZ2Vob2cnKTtcblxuICBjb25zdCBtb2R1bGVGdW5jdGlvbnMgPSB7XG4gICAgJ2NvbW1hbmRzJzogKHsgcm9ib3QsIGNtZHMgfSkgPT4gY29tbWFuZHMocm9ib3QsIGNtZHMpLFxuICAgICdtb3ZlTW90b3InOiAoeyByb2JvdCwgcG9ydCwgcG93ZXIgfSkgPT4gbW92ZU1vdG9yKHJvYm90LCBwb3J0LCBwb3dlciksXG4gICAgJ3NldFNlcnZvJzogKHsgcm9ib3QsIHBvcnQsIHBvc2l0aW9uIH0pID0+IHNldFNlcnZvKHJvYm90LCBwb3J0LCBwb3NpdGlvbiksXG4gICAgJ2dldEFuYWxvZyc6ICh7IHJvYm90LCBwb3J0IH0pID0+IGdldEFuYWxvZyhyb2JvdCwgcG9ydCksXG4gICAgJ2dldERpZ2l0YWwnOiAoeyByb2JvdCwgcG9ydCB9KSA9PiBnZXREaWdpdGFsKHJvYm90LCBwb3J0KSxcbiAgICAnc2xlZXAnOiAoeyBtaWxsaXMgfSkgPT4gc2xlZXAobWlsbGlzKSxcbiAgfTtcblxuICBhc3luYyBmdW5jdGlvbiBjb21tYW5kcyhyb2JvdDogc3RyaW5nLCBjbWRzOiBDb21tYW5kW10pIHtcbiAgICAvLyA8R1NMIGN1c3RvbWl6YWJsZTogaGVkZ2Vob2ctYm9keS1jb21tYW5kcz5cbiAgICByZXR1cm4gLyogYXdhaXQgKi8gUHJvbWlzZS5hbGwoXG4gICAgICBjbWRzLm1hcCgoW2NvbW1hbmQsIHBheWxvYWRdKSA9PiB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kdWxlRnVuY3Rpb25zLCBjb21tYW5kKSkge1xuICAgICAgICAgIC8vICRGbG93RXhwZWN0RXJyb3JcbiAgICAgICAgICByZXR1cm4gbW9kdWxlRnVuY3Rpb25zW2NvbW1hbmRdKHsgcm9ib3QsIC4uLnBheWxvYWQgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgKTtcbiAgICAvLyA8L0dTTCBjdXN0b21pemFibGU6IGhlZGdlaG9nLWJvZHktY29tbWFuZHM+XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBtb3ZlTW90b3Iocm9ib3Q6IHN0cmluZywgcG9ydDogbnVtYmVyLCBwb3dlcjogbnVtYmVyKSB7XG4gICAgLy8gPEdTTCBjdXN0b21pemFibGU6IGhlZGdlaG9nLWJvZHktbW92ZU1vdG9yPlxuICAgIChhd2FpdCBnZXRSb2JvdChyb2JvdCkpLmNvbnRyb2xsZXIubW92ZU1vdG9yKHBvcnQsIHBvd2VyKTtcbiAgICAvLyA8L0dTTCBjdXN0b21pemFibGU6IGhlZGdlaG9nLWJvZHktbW92ZU1vdG9yPlxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gc2V0U2Vydm8ocm9ib3Q6IHN0cmluZywgcG9ydDogbnVtYmVyLCBwb3NpdGlvbjogbnVtYmVyKSB7XG4gICAgLy8gPEdTTCBjdXN0b21pemFibGU6IGhlZGdlaG9nLWJvZHktc2V0U2Vydm8+XG4gICAgLy8gWW91ciBmdW5jdGlvbiBjb2RlIGdvZXMgaGVyZVxuICAgIChhd2FpdCBnZXRSb2JvdChyb2JvdCkpLmNvbnRyb2xsZXIuc2V0U2Vydm8ocG9ydCwgcG9zaXRpb24pO1xuICAgIC8vIDwvR1NMIGN1c3RvbWl6YWJsZTogaGVkZ2Vob2ctYm9keS1zZXRTZXJ2bz5cbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGdldEFuYWxvZyhyb2JvdDogc3RyaW5nLCBwb3J0OiBudW1iZXIpIHtcbiAgICAvLyA8R1NMIGN1c3RvbWl6YWJsZTogaGVkZ2Vob2ctYm9keS1nZXRBbmFsb2c+XG4gICAgcmV0dXJuIChhd2FpdCBnZXRSb2JvdChyb2JvdCkpLmNvbnRyb2xsZXIuZ2V0QW5hbG9nKHBvcnQpO1xuICAgIC8vIDwvR1NMIGN1c3RvbWl6YWJsZTogaGVkZ2Vob2ctYm9keS1nZXRBbmFsb2c+XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBnZXREaWdpdGFsKHJvYm90OiBzdHJpbmcsIHBvcnQ6IG51bWJlcikge1xuICAgIC8vIDxHU0wgY3VzdG9taXphYmxlOiBoZWRnZWhvZy1ib2R5LWdldERpZ2l0YWw+XG4gICAgcmV0dXJuIChhd2FpdCBnZXRSb2JvdChyb2JvdCkpLmNvbnRyb2xsZXIuZ2V0RGlnaXRhbChwb3J0KTtcbiAgICAvLyA8L0dTTCBjdXN0b21pemFibGU6IGhlZGdlaG9nLWJvZHktZ2V0RGlnaXRhbD5cbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHNsZWVwKG1pbGxpczogbnVtYmVyKSB7XG4gICAgLy8gPEdTTCBjdXN0b21pemFibGU6IGhlZGdlaG9nLWJvZHktc2xlZXA+XG4gICAgY29uc3Qgc2ltdWxhdGlvbiA9IGF3YWl0IGdldFNpbXVsYXRpb24oKTtcbiAgICBhd2FpdCBzaW11bGF0aW9uLnNsZWVwKG1pbGxpcyk7XG4gICAgLy8gPC9HU0wgY3VzdG9taXphYmxlOiBoZWRnZWhvZy1ib2R5LXNsZWVwPlxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICAvLyA8ZGVmYXVsdCBHU0wgY3VzdG9taXphYmxlOiBoZWRnZWhvZy1leHRyYS1yZXR1cm4+XG4gICAgLy8gU3BhY2UgZm9yIGV4dHJhIGV4cG9ydHNcblxuICAgIC8vIDwvR1NMIGN1c3RvbWl6YWJsZTogaGVkZ2Vob2ctZXh0cmEtcmV0dXJuPlxuICAgIGVtaXQsXG4gICAgaGFuZGxlcnM6IHtcbiAgICAgICdoZWRnZWhvZ19jb21tYW5kcyc6IGFzeW5jICh7IHJvYm90LCBjbWRzIH06IHsgcm9ib3Q6IHN0cmluZywgY21kczogQ29tbWFuZFtdIH0sIHRhc2tIYW5kbGU6IFRhc2tIYW5kbGUpID0+IHtcbiAgICAgICAgcmV0dXJuIHRhc2tIYW5kbGUud2l0aFJlcGx5KG51bGwsIGNvbW1hbmRzLmJpbmQobnVsbCwgcm9ib3QsIGNtZHMpKTtcbiAgICAgIH0sXG4gICAgICAnaGVkZ2Vob2dfbW92ZU1vdG9yJzogYXN5bmMgKHsgcm9ib3QsIHBvcnQsIHBvd2VyIH06IHsgcm9ib3Q6IHN0cmluZywgcG9ydDogbnVtYmVyLCBwb3dlcjogbnVtYmVyIH0sIHRhc2tIYW5kbGU6IFRhc2tIYW5kbGUpID0+IHtcbiAgICAgICAgcmV0dXJuIHRhc2tIYW5kbGUud2l0aFJlcGx5KG51bGwsIG1vdmVNb3Rvci5iaW5kKG51bGwsIHJvYm90LCBwb3J0LCBwb3dlcikpO1xuICAgICAgfSxcbiAgICAgICdoZWRnZWhvZ19zZXRTZXJ2byc6IGFzeW5jICh7IHJvYm90LCBwb3J0LCBwb3NpdGlvbiB9OiB7IHJvYm90OiBzdHJpbmcsIHBvcnQ6IG51bWJlciwgcG9zaXRpb246IG51bWJlciB9LCB0YXNrSGFuZGxlOiBUYXNrSGFuZGxlKSA9PiB7XG4gICAgICAgIHJldHVybiB0YXNrSGFuZGxlLndpdGhSZXBseShudWxsLCBzZXRTZXJ2by5iaW5kKG51bGwsIHJvYm90LCBwb3J0LCBwb3NpdGlvbikpO1xuICAgICAgfSxcbiAgICAgICdoZWRnZWhvZ19nZXRBbmFsb2cnOiBhc3luYyAoeyByb2JvdCwgcG9ydCB9OiB7IHJvYm90OiBzdHJpbmcsIHBvcnQ6IG51bWJlciB9LCB0YXNrSGFuZGxlOiBUYXNrSGFuZGxlKSA9PiB7XG4gICAgICAgIHJldHVybiB0YXNrSGFuZGxlLndpdGhSZXBseShudWxsLCBnZXRBbmFsb2cuYmluZChudWxsLCByb2JvdCwgcG9ydCkpO1xuICAgICAgfSxcbiAgICAgICdoZWRnZWhvZ19nZXREaWdpdGFsJzogYXN5bmMgKHsgcm9ib3QsIHBvcnQgfTogeyByb2JvdDogc3RyaW5nLCBwb3J0OiBudW1iZXIgfSwgdGFza0hhbmRsZTogVGFza0hhbmRsZSkgPT4ge1xuICAgICAgICByZXR1cm4gdGFza0hhbmRsZS53aXRoUmVwbHkobnVsbCwgZ2V0RGlnaXRhbC5iaW5kKG51bGwsIHJvYm90LCBwb3J0KSk7XG4gICAgICB9LFxuICAgICAgJ2hlZGdlaG9nX3NsZWVwJzogYXN5bmMgKHsgbWlsbGlzIH06IHsgbWlsbGlzOiBudW1iZXIgfSwgdGFza0hhbmRsZTogVGFza0hhbmRsZSkgPT4ge1xuICAgICAgICByZXR1cm4gdGFza0hhbmRsZS53aXRoUmVwbHkobnVsbCwgc2xlZXAuYmluZChudWxsLCBtaWxsaXMpKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgfTtcbn1cbiIsIi8vIEBmbG93XG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuLy8gRE8gTk9UIERFTEVURSBHU0wgVEFHU1xuXG5pbXBvcnQgeyB0eXBlIFRhc2tIYW5kbGUgfSBmcm9tICcuLi9jb21wb25lbnRzL2lkZS9FeGVjdXRvci9FeGVjdXRvcic7XG5pbXBvcnQgYmFzZUVtaXQgZnJvbSAnLi9iYXNlJztcbi8vIDxHU0wgY3VzdG9taXphYmxlOiBtaXNjLWltcG9ydHM+XG5pbXBvcnQgUGx1Z2luTWFuYWdlciBmcm9tICcuL1BsdWdpbk1hbmFnZXInO1xuaW1wb3J0IEV4ZWN1dG9yIGZyb20gJy4uL2NvbXBvbmVudHMvaWRlL0V4ZWN1dG9yJztcbmltcG9ydCB7IHR5cGUgQ29uc29sZVR5cGUgfSBmcm9tICcuLi9jb21wb25lbnRzL2lkZS9Db25zb2xlJztcblxuLy8gPC9HU0wgY3VzdG9taXphYmxlOiBtaXNjLWltcG9ydHM+XG5cbnR5cGUgSW5pdEFyZ3MgPSB7XG4gIHByaW50OiAodGV4dDogc3RyaW5nLCBzdHJlYW06IHN0cmluZykgPT4gdm9pZCB8IFByb21pc2U8dm9pZD4sXG4gIGdldElucHV0OiAoKSA9PiBQcm9taXNlPHN0cmluZz4sXG4gIG9uRXhpdDogKHN0cmluZyB8IHZvaWQpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+LFxuICBwbHVnaW5NYW5hZ2VyOiBQbHVnaW5NYW5hZ2VyLFxuICBleGVjdXRvcjogRXhlY3V0b3IsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBpbml0KHtcbiAgcHJpbnQsXG4gIGdldElucHV0LFxuICBvbkV4aXQsXG4gIHBsdWdpbk1hbmFnZXIsXG4gIGV4ZWN1dG9yLFxufTogSW5pdEFyZ3MpIHtcbiAgLy8gPGRlZmF1bHQgR1NMIGN1c3RvbWl6YWJsZTogbWlzYy1pbml0PlxuICAvLyBZb3VyIG1vZHVsZSBpbml0aWFsaXphdGlvbiBjb2RlXG5cbiAgLy8gPC9HU0wgY3VzdG9taXphYmxlOiBtaXNjLWluaXQ+XG5cbiAgY29uc3QgZW1pdCA9IGJhc2VFbWl0LmJpbmQobnVsbCwgJ21pc2MnKTtcblxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVQcmludCh0ZXh0OiBhbnkpIHtcbiAgICAvLyA8R1NMIGN1c3RvbWl6YWJsZTogbWlzYy1ib2R5LXByaW50PlxuICAgIHJldHVybiAvKiBhd2FpdCAqLyBwcmludCh0ZXh0LnRvU3RyaW5nKCksICdzdGRvdXQnKTtcbiAgICAvLyA8L0dTTCBjdXN0b21pemFibGU6IG1pc2MtYm9keS1wcmludD5cbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUdldElucHV0KCkge1xuICAgIC8vIDxHU0wgY3VzdG9taXphYmxlOiBtaXNjLWJvZHktZ2V0SW5wdXQ+XG4gICAgcmV0dXJuIC8qIGF3YWl0ICovIGdldElucHV0KCk7XG4gICAgLy8gPC9HU0wgY3VzdG9taXphYmxlOiBtaXNjLWJvZHktZ2V0SW5wdXQ+XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBleGl0KGVycm9yOiBzdHJpbmcgfCB2b2lkKSB7XG4gICAgLy8gPEdTTCBjdXN0b21pemFibGU6IG1pc2MtYm9keS1leGl0PlxuICAgIC8vIFlvdXIgZnVuY3Rpb24gY29kZSBnb2VzIGhlcmVcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGF3YWl0IHByaW50KGVycm9yLCAnc3RkZXJyJyk7XG4gICAgfVxuICAgIGF3YWl0IG9uRXhpdChlcnJvcik7XG4gICAgLy8gPC9HU0wgY3VzdG9taXphYmxlOiBtaXNjLWJvZHktZXhpdD5cbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHBsdWdpblJlYWR5KCkge1xuICAgIC8vIDxHU0wgY3VzdG9taXphYmxlOiBtaXNjLWJvZHktcGx1Z2luUmVhZHk+XG4gICAgLy8gWW91ciBmdW5jdGlvbiBjb2RlIGdvZXMgaGVyZVxuICAgIHBsdWdpbk1hbmFnZXIub25QbHVnaW5SZWFkeSgpO1xuICAgIC8vIDwvR1NMIGN1c3RvbWl6YWJsZTogbWlzYy1ib2R5LXBsdWdpblJlYWR5PlxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICAvLyA8ZGVmYXVsdCBHU0wgY3VzdG9taXphYmxlOiBtaXNjLWV4dHJhLXJldHVybj5cbiAgICAvLyBTcGFjZSBmb3IgZXh0cmEgZXhwb3J0c1xuXG4gICAgLy8gPC9HU0wgY3VzdG9taXphYmxlOiBtaXNjLWV4dHJhLXJldHVybj5cbiAgICBlbWl0LFxuICAgIGhhbmRsZXJzOiB7XG4gICAgICAnbWlzY19wcmludCc6ICh7IHRleHQgfTogeyB0ZXh0OiBhbnkgfSkgPT4gaGFuZGxlUHJpbnQodGV4dCksXG4gICAgICAnbWlzY19nZXRJbnB1dCc6IGFzeW5jICh7ICB9OiB7ICB9LCB0YXNrSGFuZGxlOiBUYXNrSGFuZGxlKSA9PiB7XG4gICAgICAgIHJldHVybiB0YXNrSGFuZGxlLndpdGhSZXBseShudWxsLCBoYW5kbGVHZXRJbnB1dC5iaW5kKG51bGwsICkpO1xuICAgICAgfSxcbiAgICAgICdtaXNjX2V4aXQnOiAoeyBlcnJvciB9OiB7IGVycm9yOiBzdHJpbmcgfCB2b2lkIH0pID0+IGV4aXQoZXJyb3IpLFxuICAgICAgJ21pc2NfcGx1Z2luUmVhZHknOiAoeyAgfTogeyAgfSkgPT4gcGx1Z2luUmVhZHkoKSxcbiAgICB9LFxuICB9O1xufVxuIiwiLy8gQGZsb3dcbi8qIGVzbGludC1kaXNhYmxlICovXG4vLyBETyBOT1QgREVMRVRFIEdTTCBUQUdTXG5cbmltcG9ydCB7IHR5cGUgVGFza0hhbmRsZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvaWRlL0V4ZWN1dG9yL0V4ZWN1dG9yJztcbmltcG9ydCBiYXNlRW1pdCBmcm9tICcuL2Jhc2UnO1xuLy8gPEdTTCBjdXN0b21pemFibGU6IHNpbXVsYXRpb24taW1wb3J0cz5cbmltcG9ydCB7IFNpbXVsYXRpb24sIHNjaGVtYSB9IGZyb20gJy4uL2NvbXBvbmVudHMvaWRlL1NpbXVsYXRvci9zaW11bGF0aW9uJztcbmltcG9ydCBFeGVjdXRvciBmcm9tICcuLi9jb21wb25lbnRzL2lkZS9FeGVjdXRvcic7XG4vLyA8L0dTTCBjdXN0b21pemFibGU6IHNpbXVsYXRpb24taW1wb3J0cz5cblxudHlwZSBJbml0QXJncyA9IHtcbiAgZXhlY3V0b3I6IEV4ZWN1dG9yLFxuICBnZXRTaW11bGF0aW9uOiAoKSA9PiBQcm9taXNlPFNpbXVsYXRpb24+LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaW5pdCh7XG4gIGV4ZWN1dG9yLFxuICBnZXRTaW11bGF0aW9uLFxufTogSW5pdEFyZ3MpIHtcbiAgLy8gPEdTTCBjdXN0b21pemFibGU6IHNpbXVsYXRpb24taW5pdD5cbiAgLy8gWW91ciBtb2R1bGUgaW5pdGlhbGl6YXRpb24gY29kZVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNvbGxpc2lvbihldmVudE5hbWUsIGJvZHlBLCBib2R5Qikge1xuICAgIGVtaXQoZXhlY3V0b3IsICdjb2xsaXNpb24nLCB7IGV2ZW50TmFtZSwgYm9keUEsIGJvZHlCIH0pO1xuICAgIGVtaXQoZXhlY3V0b3IsIGBjb2xsaXNpb25fJHtib2R5QS5sYWJlbH1gLCB7IGV2ZW50TmFtZSwgYm9keUEsIGJvZHlCIH0pO1xuICAgIGVtaXQoZXhlY3V0b3IsIGBjb2xsaXNpb25fJHtib2R5Qi5sYWJlbH1gLCB7IGV2ZW50TmFtZSwgYm9keUE6IGJvZHlCLCBib2R5QjogYm9keUEgfSk7XG4gICAgaWYgKGV2ZW50TmFtZSA9PT0gJ2NvbGxpc2lvblN0YXJ0Jykge1xuICAgICAgZW1pdChleGVjdXRvciwgJ2NvbGxpc2lvbl9zdGFydCcsIHsgZXZlbnROYW1lLCBib2R5QSwgYm9keUIgfSk7XG4gICAgICBlbWl0KGV4ZWN1dG9yLCBgY29sbGlzaW9uX3N0YXJ0XyR7Ym9keUEubGFiZWx9YCwgeyBldmVudE5hbWUsIGJvZHlBLCBib2R5QiB9KTtcbiAgICAgIGVtaXQoZXhlY3V0b3IsIGBjb2xsaXNpb25fc3RhcnRfJHtib2R5Qi5sYWJlbH1gLCB7IGV2ZW50TmFtZSwgYm9keUE6IGJvZHlCLCBib2R5QjogYm9keUEgfSk7XG4gICAgfSBlbHNlIGlmIChldmVudE5hbWUgPT09ICdjb2xsaXNpb25FbmQnKSB7XG4gICAgICBlbWl0KGV4ZWN1dG9yLCAnY29sbGlzaW9uX2VuZCcsIHsgZXZlbnROYW1lLCBib2R5QSwgYm9keUIgfSk7XG4gICAgICBlbWl0KGV4ZWN1dG9yLCBgY29sbGlzaW9uX2VuZF8ke2JvZHlBLmxhYmVsfWAsIHsgZXZlbnROYW1lLCBib2R5QSwgYm9keUIgfSk7XG4gICAgICBlbWl0KGV4ZWN1dG9yLCBgY29sbGlzaW9uX2VuZF8ke2JvZHlCLmxhYmVsfWAsIHsgZXZlbnROYW1lLCBib2R5QTogYm9keUIsIGJvZHlCOiBib2R5QSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcbiAgICAgIHRocm93ICd1bnJlYWNoYWJsZSc7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2ltdWxhdGlvbkFkZGVkKHNpbXVsYXRpb246IFNpbXVsYXRpb24pIHtcbiAgICBzaW11bGF0aW9uLmFkZFNlbnNvckhhbmRsZXIoaGFuZGxlQ29sbGlzaW9uKTtcbiAgfVxuICAvLyA8L0dTTCBjdXN0b21pemFibGU6IHNpbXVsYXRpb24taW5pdD5cblxuICBjb25zdCBlbWl0ID0gYmFzZUVtaXQuYmluZChudWxsLCAnc2ltdWxhdGlvbicpO1xuXG4gIGFzeW5jIGZ1bmN0aW9uIGFkZChvYmplY3RzOiBzY2hlbWEuT2JqZWN0W10pIHtcbiAgICAvLyA8R1NMIGN1c3RvbWl6YWJsZTogc2ltdWxhdGlvbi1ib2R5LWFkZD5cbiAgICBjb25zdCBzaW11bGF0aW9uID0gYXdhaXQgZ2V0U2ltdWxhdGlvbigpO1xuICAgIHNpbXVsYXRpb24uanNvbkFkZChvYmplY3RzLCB0cnVlKTtcbiAgICAvLyA8L0dTTCBjdXN0b21pemFibGU6IHNpbXVsYXRpb24tYm9keS1hZGQ+XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiB1cGRhdGUob2JqZWN0czoge1tsYWJlbDogc3RyaW5nXTogYW55fSkge1xuICAgIC8vIDxHU0wgY3VzdG9taXphYmxlOiBzaW11bGF0aW9uLWJvZHktdXBkYXRlPlxuICAgIGNvbnN0IHNpbXVsYXRpb24gPSBhd2FpdCBnZXRTaW11bGF0aW9uKCk7XG4gICAgc2ltdWxhdGlvbi51cGRhdGVCb2RpZXMob2JqZWN0cyk7XG4gICAgLy8gPC9HU0wgY3VzdG9taXphYmxlOiBzaW11bGF0aW9uLWJvZHktdXBkYXRlPlxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKGxhYmVsczogc3RyaW5nW10pIHtcbiAgICAvLyA8R1NMIGN1c3RvbWl6YWJsZTogc2ltdWxhdGlvbi1ib2R5LXJlbW92ZT5cbiAgICBjb25zdCBzaW11bGF0aW9uID0gYXdhaXQgZ2V0U2ltdWxhdGlvbigpO1xuICAgIHNpbXVsYXRpb24ucmVtb3ZlQm9kaWVzKGxhYmVscyk7XG4gICAgLy8gPC9HU0wgY3VzdG9taXphYmxlOiBzaW11bGF0aW9uLWJvZHktcmVtb3ZlPlxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICAvLyA8R1NMIGN1c3RvbWl6YWJsZTogc2ltdWxhdGlvbi1leHRyYS1yZXR1cm4+XG4gICAgLy8gU3BhY2UgZm9yIGV4dHJhIGV4cG9ydHNcbiAgICBzaW11bGF0aW9uQWRkZWQsXG4gICAgLy8gPC9HU0wgY3VzdG9taXphYmxlOiBzaW11bGF0aW9uLWV4dHJhLXJldHVybj5cbiAgICBlbWl0LFxuICAgIGhhbmRsZXJzOiB7XG4gICAgICAnc2ltdWxhdGlvbl9hZGQnOiAoeyBvYmplY3RzIH06IHsgb2JqZWN0czogc2NoZW1hLk9iamVjdFtdIH0pID0+IGFkZChvYmplY3RzKSxcbiAgICAgICdzaW11bGF0aW9uX3VwZGF0ZSc6ICh7IG9iamVjdHMgfTogeyBvYmplY3RzOiB7W2xhYmVsOiBzdHJpbmddOiBhbnl9IH0pID0+IHVwZGF0ZShvYmplY3RzKSxcbiAgICAgICdzaW11bGF0aW9uX3JlbW92ZSc6ICh7IGxhYmVscyB9OiB7IGxhYmVsczogc3RyaW5nW10gfSkgPT4gcmVtb3ZlKGxhYmVscyksXG4gICAgfSxcbiAgfTtcbn1cbiIsIi8vIEBmbG93XG4vKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvcHJlZmVyLWRlZmF1bHQtZXhwb3J0ICovXG5cbi8vIHRha2VzIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIGNhbGxiYWNrIGAoZXJyLCByZXN1bHQpID0+IC4uLmBcbi8vIGFzIGl0cyBsYXN0IHBhcmFtZXRlciBhbmQgbWFrZXMgaXQgaW50byBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHByb21pc2UgaW5zdGVhZFxuLy8gRmxvdyBkb2Vzbid0IG1hbmFnZSB0byBjYXB0dXJlIHRoZSB0eXBlIG9mIGAoLi4uYXJncywgY2IpID0+IHZvaWRgIHVuZm9ydHVuYXRlbHksXG4vLyBzbyB0aGUgYWN0dWFsIHR5cGUgb2YgdGhlIHByb21pc2UgY2FuIG5vdCBiZSBpbmZlcnJlZCwgYW5kIGFyZ3VtZW50IHR5cGVzIGFyZSBub3QgY2hlY2tlZC5cbmV4cG9ydCBmdW5jdGlvbiBwcm9taXNpZnk8VD4oZm46ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCk6ICguLi5hcmdzOiBhbnlbXSkgPT4gUHJvbWlzZTxUPiB7XG4gIHJldHVybiAoLi4uYXJncykgPT5cbiAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBmbiguLi5hcmdzLCAoZXJyLCByZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKGVycikgcmVqZWN0KGVycik7XG4gICAgICAgIGVsc2UgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgfSk7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXBPYmplY3Q8VCwgVT4oXG4gIG9iajoge3wgW2tleTogc3RyaW5nXTogVCB8fSxcbiAgZm46ICh2YWx1ZTogVCwga2V5OiBzdHJpbmcpID0+IFUsXG4pOiB7fCBba2V5OiBzdHJpbmddOiBVIHx9IHtcbiAgY29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKG9iaik7XG4gIGNvbnN0IG5ld0VudHJpZXMgPSBlbnRyaWVzLm1hcCgoW2tleSwgdmFsdWUwXSkgPT4ge1xuICAgIC8vICRGbG93RXhwZWN0RXJyb3JcbiAgICBjb25zdCB2YWx1ZTogVCA9IHZhbHVlMDtcbiAgICByZXR1cm4gW2tleSwgZm4odmFsdWUsIGtleSldO1xuICB9KTtcbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhuZXdFbnRyaWVzKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUN0RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDeERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQ1ZBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNOQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBd0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBREE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBREE7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBRUE7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBN0lBO0FBQ0E7QUE4SUE7Ozs7Ozs7QUNoTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3JCQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFpQkE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBaEJBO0FBa0JBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBR0E7Ozs7Ozs7QUNsSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3JCQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFYQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFuQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUE2QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBWEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFlQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFhQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFQQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWdCQTtBQUNBO0FBQ0E7Ozs7Ozs7QUNsS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNyQkE7QUFDQTtBQUdBO0FBVUE7QUFDQTtBQVNBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUF1QkE7QUFDQTtBQUNBO0FBekJBO0FBNEJBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUEvQkE7QUFnQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTdDQTtBQThDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFqREE7QUFrREE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE1REE7QUE2REE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF2RUE7QUEwRUE7QUFDQTtBQUNBO0FBM0VBO0FBQ0E7QUFFQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFhQTtBQUlBO0FBQ0E7QUFDQTtBQXNEQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF4SEE7QUFDQTtBQWdJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBS0E7QUFEQTtBQUpBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVNBO0FBQ0E7QUF0RUE7QUFDQTtBQXNFQTs7Ozs7Ozs7Ozs7O0FDOU5BO0FBaUJBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUxBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRkE7QUFVQTtBQUdBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDakdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBa0JBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUE3REE7QUEwRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFvQkE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUVBO0FBQ0E7QUFGQTtBQURBO0FBQ0E7QUFLQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQURBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRkE7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBU0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQVZBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBYUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQVZBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBYUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQVZBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBYUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQVZBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBYUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQVZBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBZUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFKQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFGQTtBQUtBO0FBVEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFZQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBT0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU9BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVVBO0FBQ0E7QUExTkE7QUFDQTtBQTJOQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMzVkE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBZ0JBO0FBRUE7QUFPQTtBQUNBO0FBNkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBZEE7QUFrQkE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQU5BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBakJBO0FBQ0E7QUFtQkE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQWJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBaUJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTs7Ozs7OztBQzdSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7OztBQ3JCQTtBQUNBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUF4QkE7QUF5QkE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFsQ0E7QUFDQTtBQW1DQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDekNBO0FBQ0E7QUFFQTtBQUVBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBTkE7QUF1Q0E7QUFNQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVRBO0FBc0JBO0FBQ0E7QUExQkE7QUEyQkE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNoSkE7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBTkE7QUFrQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFTQTtBQUNBO0FBYkE7QUFjQTs7Ozs7Ozs7QUMzRkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQW9CQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBWEE7QUFZQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDL0RBO0FBQ0E7QUFFQTtBQUVBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBTkE7QUFrQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVRBO0FBcUJBO0FBQ0E7QUF6QkE7QUEwQkE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM5R0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBMUJBO0FBaUNBO0FBT0E7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBVEE7QUFDQTtBQXVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQVRBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBVEE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFPQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQURBO0FBUkE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUZBO0FBTEE7QUFVQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQXZCQTtBQXlCQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQXZFQTtBQXlFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFUQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFOQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFOQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFRQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU9BO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBTEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFRQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFQQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQTFFQTtBQTRFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFIQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVhBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBYUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFIQTtBQVNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQXZCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQTJCQTtBQUdBO0FBREE7QUFKQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBUEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFVQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFIQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU9BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7Ozs7Ozs7QUMvbENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUNyQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFIQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7Ozs7Ozs7O0FDcEVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBMkJBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUZBO0FBRkE7QUFGQTtBQVVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUZBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRkE7QUFGQTtBQU9BO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUZBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBRkE7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFGQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUZBO0FBSUE7QUFDQTtBQUFBO0FBQ0E7QUFuRUE7QUFxRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFYQTtBQWdCQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUN0SUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQU9BO0FBZ0JBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7Ozs7Ozs7QUMvSkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7OztBQ2ZBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdEJBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQURBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFQQTtBQVBBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBbUJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFGQTtBQUtBOzs7Ozs7O0FDdElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3ZCQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQU1BO0FBTUE7QUFNQTtBQU1BO0FBTUE7QUFNQTtBQTNDQTtBQWtEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUhBO0FBSkE7QUFKQTtBQUpBO0FBTEE7QUFnQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMvUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZ0JBO0FBY0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBb0JBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFNQTtBQU1BO0FBTUE7QUFNQTtBQU1BO0FBTUE7QUEzQ0E7QUFrREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFIQTtBQUpBO0FBSkE7QUFKQTtBQUxBO0FBK0JBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFVQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFHQTtBQUFBO0FBSEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBR0E7QUFBQTtBQUhBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUdBO0FBQUE7QUFIQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFHQTtBQUFBO0FBSEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFPQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUZBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFGQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBRkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBRkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFRQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBS0E7Ozs7Ozs7QUNwWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdkJBO0FBQ0E7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBRUE7QUFBQTtBQUNBO0FBREE7QUFnQkE7QUFBQTtBQUFBO0FBREE7QUFDQTtBQWRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQS9QQTtBQUNBO0FBZ1FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQ3RTQTs7Ozs7Ozs7Ozs7O0FDaUJBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBSEE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUxBO0FBUUE7QUFBQTtBQUFBO0FBUkE7QUFDQTtBQVNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBN0RBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDNUJBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQVVBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBREE7QUFEQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFEQTtBQU1BO0FBQUE7QUFHQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBREE7QUFEQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQURBO0FBREE7QUFNQTtBQUVBO0FBQ0E7QUFIQTtBQUtBO0FBRUE7QUFDQTtBQUhBO0FBS0E7QUFFQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUhBO0FBT0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFIQTtBQU9BO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBSEE7QUFRQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBSEE7QUFPQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBM0dBO0FBNkdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUhBO0FBUUE7QUFVQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBekNBO0FBMkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhTQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNuQkE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUdBO0FBSUE7QUFLQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBREE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQVdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUZBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFVQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRkE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRkE7QUFIQTtBQVFBO0FBQ0E7QUFaQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE1UkE7Ozs7Ozs7Ozs7Ozs7OztBQ3BCQTtBQUVBO0FBQ0E7QUFFQTtBQVVBO0FBT0E7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQWhEQTs7Ozs7Ozs7QUNQQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7O0FDSkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUlBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQzFCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FDSEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBZUE7QUF5Q0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFQQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQXBEQTtBQUNBO0FBc0RBO0FBQ0E7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDMUhBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQURBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQVRBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFoREE7QUFrREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFHQTtBQU1BO0FBQ0E7QUFGQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQXBDQTtBQXNDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBVEE7QUFDQTtBQVVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFEQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF0QkE7QUFDQTtBQXVCQTtBQUlBO0FBSUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUE5REE7Ozs7Ozs7Ozs7Ozs7OztBQzNKQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBY0E7QUFJQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFOQTtBQVNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFyRkE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNsQkE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFEQTtBQU9BO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU9BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUE3REE7QUFDQTtBQTZFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFRQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBVUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFDQTtBQUZBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUpBO0FBV0E7Ozs7Ozs7QUM3UEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQ3JCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRkE7QUFDQTtBQUdBO0FBSUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFGQTtBQURBO0FBT0E7QUFFQTtBQUNBO0FBRUE7QUFGQTtBQURBO0FBREE7QUFkQTtBQXdCQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRkE7QUFEQTtBQU9BO0FBRUE7QUFDQTtBQUVBO0FBRkE7QUFEQTtBQURBO0FBZEE7QUF3QkE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTs7Ozs7Ozs7QUM5SEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBSkE7QUFNQTtBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN6QkE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMUJBO0FBNEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFGQTtBQUlBO0FBQ0E7QUFmQTtBQWdCQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURBO0FBN0NBO0FBa0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcEJBO0FBc0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBRkE7QUFJQTtBQUNBO0FBZEE7QUFlQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURBO0FBdENBO0FBMkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQVFBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWpDQTtBQW1DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFGQTtBQUlBO0FBQ0E7QUFoQkE7QUFpQkE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFEQTtBQXJEQTtBQTBEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFyQkE7QUF1QkE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVhBO0FBM0JBO0FBbURBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDaE5BO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbkNBO0FBcUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFPQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQVRBO0FBZkE7QUE0QkE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFMQTtBQUpBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFOQTtBQUpBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBVEE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFRQTtBQUVBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUE1SUE7QUE2SUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFEQTtBQW5MQTtBQXdMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQURBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF2QkE7QUF5QkE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFJQTtBQUVBO0FBRkE7QUFJQTtBQUNBO0FBcEJBO0FBcUJBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFWQTtBQS9DQTtBQXFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQURBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF2QkE7QUF5QkE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFJQTtBQUVBO0FBRkE7QUFJQTtBQUNBO0FBcEJBO0FBcUJBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBWEE7QUEvQ0E7QUFzRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFEQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdkJBO0FBeUJBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBSUE7QUFFQTtBQUZBO0FBSUE7QUFDQTtBQXBCQTtBQXFCQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBYkE7QUEvQ0E7QUEwRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFEQTtBQUlBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBREE7QUFJQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQURBO0FBSUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQURBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFwRUE7QUFzRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBYkE7QUFlQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBSUE7QUFFQTtBQUZBO0FBSUE7QUFDQTtBQS9CQTtBQWdDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFUQTtBQXZHQTtBQTBIQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDN2dCQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF4QkE7QUEwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFEQTtBQU1BO0FBQ0E7QUFUQTtBQVVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBREE7QUFyQ0E7QUEwQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbkJBO0FBcUJBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBTkE7QUFPQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURBO0FBN0JBO0FBa0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5CQTtBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFEQTtBQUtBO0FBQ0E7QUFSQTtBQVNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBREE7QUEvQkE7QUFvQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFTQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEzQkE7QUE2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFEQTtBQU1BO0FBQ0E7QUFUQTtBQVVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBREE7QUF4Q0E7QUE2Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbkJBO0FBcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFEQTtBQURBO0FBS0E7QUFDQTtBQVRBO0FBVUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVJBO0FBaENBO0FBOENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5CQTtBQXFCQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFQQTtBQVFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBREE7QUE5QkE7QUFtQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbkJBO0FBcUJBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQVBBO0FBUUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFEQTtBQTlCQTtBQW1DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFuQkE7QUFxQkE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBREE7QUFEQTtBQU9BO0FBQ0E7QUFYQTtBQVlBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBREE7QUFsQ0E7QUF1Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbkJBO0FBcUJBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQVBBO0FBUUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFEQTtBQTlCQTtBQW1DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFuQkE7QUFxQkE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBUEE7QUFRQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURBO0FBOUJBO0FBbUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQXBCQTtBQXNCQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQU5BO0FBT0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFEQTtBQTlCQTtBQW1DQTs7Ozs7Ozs7Ozs7Ozs7O0FDcmFBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQURBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU9BO0FBQ0E7QUFDQTtBQTdDQTtBQStDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBSkE7QUFRQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUpBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSkE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFKQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUpBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFwRkE7QUFxRkE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFEQTtBQXJJQTtBQTBJQTs7Ozs7Ozs7Ozs7Ozs7OztBQ2hKQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDckJBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFEQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFEQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBT0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FDL0JBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQ3BCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNyQkE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBVUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBaUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQVVBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFjQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFPQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFPQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFXQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBckJBO0FBdUJBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFkQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQW9CQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFhQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFQQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU9BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVNBO0FBQ0E7QUFGQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTkE7QUFDQTtBQVlBO0FBRUE7Ozs7Ozs7QUMzZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQ3JCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FDaENBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdENBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQVdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBSEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBekJBO0FBQ0E7QUEyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7OztBQ25HQTtBQUVBO0FBQ0E7QUFxQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWpHQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN6RkE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQUtBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBWkE7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUlBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUpBO0FBSEE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQXpHQTtBQUNBO0FBeUdBOzs7Ozs7OztBQ3BIQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1BBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQWVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXBDQTtBQXNDQTtBQUNBO0FBREE7QUF4Q0E7QUE0Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFIQTtBQU5BO0FBWUE7Ozs7Ozs7O0FDdElBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFOQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFsQkE7QUFOQTtBQTJCQTs7Ozs7Ozs7QUM5R0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQU5BO0FBTkE7QUFlQTs7Ozs7Ozs7QUM5RUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBSEE7QUFOQTtBQVlBOzs7Ozs7OztBQ2hGQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QSIsInNvdXJjZVJvb3QiOiIifQ==